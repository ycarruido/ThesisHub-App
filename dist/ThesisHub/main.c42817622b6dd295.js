"use strict";(self.webpackChunkThesisHub=self.webpackChunkThesisHub||[]).push([[179],{2011:(vt,Te,U)=>{U.d(Te,{Dh:()=>ke,GT:()=>he,cc:()=>Se,hO:()=>Ve,on:()=>G,pX:()=>ue,xv:()=>we});var r=U(2223),j=U(9260),P=U(4976);vt=U.hmd(vt);const re=["ngOnDestroy"],ue=(Fe,Ct,mt,se={})=>new Proxy(Fe,{get:(De,ce)=>mt.runOutsideAngular(()=>{var ye;if(Fe[ce])return!(null===(ye=se?.spy)||void 0===ye)&&ye.get&&se.spy.get(ce,Fe[ce]),Fe[ce];if(re.indexOf(ce)>-1)return()=>{};const Ne=Ct.toPromise().then(oe=>{const rt=oe&&oe[ce];return"function"==typeof rt?rt.bind(oe):rt&&rt.then?rt.then($e=>mt.run(()=>$e)):mt.run(()=>rt)});return new Proxy(()=>{},{get:(oe,rt)=>Ne[rt],apply:(oe,rt,$e)=>Ne.then(ln=>{var Ti;const wr=ln&&ln(...$e);return!(null===(Ti=se?.spy)||void 0===Ti)&&Ti.apply&&se.spy.apply(ce,$e,wr),wr})})})}),he=(Fe,Ct)=>{Ct.forEach(mt=>{Object.getOwnPropertyNames(mt.prototype||mt).forEach(se=>{Object.defineProperty(Fe.prototype,se,Object.getOwnPropertyDescriptor(mt.prototype||mt,se))})})};class xe{constructor(Ct){return Ct}}const ke=new r.OlP("angularfire2.app.options"),we=new r.OlP("angularfire2.app.name");function G(Fe,Ct,mt){const De="object"==typeof mt&&mt||{};De.name=De.name||"string"==typeof mt&&mt||"[DEFAULT]";const ye=j.Z.apps.filter(Ne=>Ne&&Ne.name===De.name)[0]||Ct.runOutsideAngular(()=>j.Z.initializeApp(Fe,De));try{JSON.stringify(Fe)!==JSON.stringify(ye.options)&&W("error",`${ye.name} Firebase App already initialized with different options${vt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new xe(ye)}const W=(Fe,...Ct)=>{(0,r.X6Q)()&&typeof console<"u"&&console[Fe](...Ct)},ae={provide:xe,useFactory:G,deps:[ke,r.R0b,[new r.FiY,we]]};let Ve=(()=>{class Fe{constructor(mt){j.Z.registerVersion("angularfire",P.q4.full,"core"),j.Z.registerVersion("angularfire",P.q4.full,"app-compat"),j.Z.registerVersion("angular",r.q4F.full,mt.toString())}static initializeApp(mt,se){return{ngModule:Fe,providers:[{provide:ke,useValue:mt},{provide:we,useValue:se}]}}}return Fe.\u0275fac=function(mt){return new(mt||Fe)(r.LFG(r.Lbi))},Fe.\u0275mod=r.oAB({type:Fe}),Fe.\u0275inj=r.cJS({providers:[ae]}),Fe})();function Se(Fe,Ct,mt,se,De){const[,ce,ye]=globalThis.\u0275AngularfireInstanceCache.find(Ne=>Ne[0]===Fe)||[];if(ce)return function nt(Fe,Ct){try{return Fe.toString()===Ct.toString()}catch{return Fe===Ct}}(De,ye)||(Xe("error",`${Ct} was already initialized on the ${mt} Firebase App with different settings.${Pe?" You may need to reload as Firebase is not HMR aware.":""}`),Xe("warn",{is:De,was:ye})),ce;{const Ne=se();return globalThis.\u0275AngularfireInstanceCache.push([Fe,Ne,De]),Ne}}const Pe=!!vt.hot,Xe=(Fe,...Ct)=>{(0,r.X6Q)()&&typeof console<"u"&&console[Fe](...Ct)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(vt,Te,U)=>{U.d(Te,{q4:()=>ss,iC:()=>ev,fc:()=>Tc,HU:()=>rr,vb:()=>ji,JM:()=>$d,u3:()=>Zr});var r=U(2223),j=U(259),P=U(5861),re=U(6881),ue=U(2090),he=U(4859),xe=U(1877);const ke=(x,A)=>A.some(S=>x instanceof S);let we,G;const Ve=new WeakMap,Se=new WeakMap,nt=new WeakMap,Pe=new WeakMap,Xe=new WeakMap;let mt={get(x,A,S){if(x instanceof IDBTransaction){if("done"===A)return Se.get(x);if("objectStoreNames"===A)return x.objectStoreNames||nt.get(x);if("store"===A)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return ye(x[A])},set:(x,A,S)=>(x[A]=S,!0),has:(x,A)=>x instanceof IDBTransaction&&("done"===A||"store"===A)||A in x};function ce(x){return"function"==typeof x?function De(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ae(){return G||(G=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...A){return x.apply(Ne(this),A),ye(Ve.get(this))}:function(...A){return ye(x.apply(Ne(this),A))}:function(A,...S){const B=x.call(Ne(this),A,...S);return nt.set(B,A.sort?A.sort():[A]),ye(B)}}(x):(x instanceof IDBTransaction&&function Ct(x){if(Se.has(x))return;const A=new Promise((S,B)=>{const Q=()=>{x.removeEventListener("complete",ne),x.removeEventListener("error",ve),x.removeEventListener("abort",ve)},ne=()=>{S(),Q()},ve=()=>{B(x.error||new DOMException("AbortError","AbortError")),Q()};x.addEventListener("complete",ne),x.addEventListener("error",ve),x.addEventListener("abort",ve)});Se.set(x,A)}(x),ke(x,function W(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,mt):x)}function ye(x){if(x instanceof IDBRequest)return function Fe(x){const A=new Promise((S,B)=>{const Q=()=>{x.removeEventListener("success",ne),x.removeEventListener("error",ve)},ne=()=>{S(ye(x.result)),Q()},ve=()=>{B(x.error),Q()};x.addEventListener("success",ne),x.addEventListener("error",ve)});return A.then(S=>{S instanceof IDBCursor&&Ve.set(S,x)}).catch(()=>{}),Xe.set(A,x),A}(x);if(Pe.has(x))return Pe.get(x);const A=ce(x);return A!==x&&(Pe.set(x,A),Xe.set(A,x)),A}const Ne=x=>Xe.get(x),$e=["get","getKey","getAll","getAllKeys","count"],ln=["put","add","delete","clear"],Ti=new Map;function wr(x,A){if(!(x instanceof IDBDatabase)||A in x||"string"!=typeof A)return;if(Ti.get(A))return Ti.get(A);const S=A.replace(/FromIndex$/,""),B=A!==S,Q=ln.includes(S);if(!(S in(B?IDBIndex:IDBObjectStore).prototype)||!Q&&!$e.includes(S))return;const ne=function(){var ve=(0,P.Z)(function*(Qe,...Ge){const ht=this.transaction(Qe,Q?"readwrite":"readonly");let Ot=ht.store;return B&&(Ot=Ot.index(Ge.shift())),(yield Promise.all([Ot[S](...Ge),Q&&ht.done]))[0]});return function(Ge){return ve.apply(this,arguments)}}();return Ti.set(A,ne),ne}!function se(x){mt=x(mt)}(x=>({...x,get:(A,S,B)=>wr(A,S)||x.get(A,S,B),has:(A,S)=>!!wr(A,S)||x.has(A,S)}));const xs="@firebase/installations",pe="0.6.4",Ce=1e4,Ae=`w:${pe}`,Le="FIS_v2",Ye="https://firebaseinstallations.googleapis.com/v1",qe=36e5,st=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function bt(x){return x instanceof ue.ZR&&x.code.includes("request-failed")}function fn({projectId:x}){return`${Ye}/projects/${x}/installations`}function Tn(x){return{token:x.token,requestStatus:2,expiresIn:Qr(x.expiresIn),creationTime:Date.now()}}function Qn(x,A){return cn.apply(this,arguments)}function cn(){return(cn=(0,P.Z)(function*(x,A){const B=(yield A.json()).error;return st.create("request-failed",{requestName:x,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function Ai({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function ui(x){return ti.apply(this,arguments)}function ti(){return(ti=(0,P.Z)(function*(x){const A=yield x();return A.status>=500&&A.status<600?x():A})).apply(this,arguments)}function Qr(x){return Number(x.replace("s","000"))}function Yi(){return(Yi=(0,P.Z)(function*({appConfig:x,heartbeatServiceProvider:A},{fid:S}){const B=fn(x),Q=Ai(x),ne=A.getImmediate({optional:!0});if(ne){const ht=yield ne.getHeartbeatsHeader();ht&&Q.append("x-firebase-client",ht)}const Qe={method:"POST",headers:Q,body:JSON.stringify({fid:S,authVersion:Le,appId:x.appId,sdkVersion:Ae})},Ge=yield ui(()=>fetch(B,Qe));if(Ge.ok){const ht=yield Ge.json();return{fid:ht.fid||S,registrationStatus:2,refreshToken:ht.refreshToken,authToken:Tn(ht.authToken)}}throw yield Qn("Create Installation",Ge)})).apply(this,arguments)}function ni(x){return new Promise(A=>{setTimeout(A,x)})}const Ko=/^[cdef][\w-]{21}$/,et="";function gt(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const S=function xt(x){return function Cr(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return Ko.test(S)?S:et}catch{return et}}function rn(x){return`${x.appName}!${x.appId}`}const gi=new Map;function Fr(x,A){const S=rn(x);Oo(S,A),function wn(x,A){const S=function Bt(){return!lr&&"BroadcastChannel"in self&&(lr=new BroadcastChannel("[Firebase] FID Change"),lr.onmessage=x=>{Oo(x.data.key,x.data.fid)}),lr}();S&&S.postMessage({key:x,fid:A}),function jn(){0===gi.size&&lr&&(lr.close(),lr=null)}()}(S,A)}function Oo(x,A){const S=gi.get(x);if(S)for(const B of S)B(A)}let lr=null;const mo="firebase-installations-database",Qo=1,Wi="firebase-installations-store";let ii=null;function Ln(){return ii||(ii=function oe(x,A,{blocked:S,upgrade:B,blocking:Q,terminated:ne}={}){const ve=indexedDB.open(x,A),Qe=ye(ve);return B&&ve.addEventListener("upgradeneeded",Ge=>{B(ye(ve.result),Ge.oldVersion,Ge.newVersion,ye(ve.transaction))}),S&&ve.addEventListener("blocked",()=>S()),Qe.then(Ge=>{ne&&Ge.addEventListener("close",()=>ne()),Q&&Ge.addEventListener("versionchange",()=>Q())}).catch(()=>{}),Qe}(mo,Qo,{upgrade:(x,A)=>{0===A&&x.createObjectStore(Wi)}})),ii}function hi(x,A){return zn.apply(this,arguments)}function zn(){return(zn=(0,P.Z)(function*(x,A){const S=rn(x),Q=(yield Ln()).transaction(Wi,"readwrite"),ne=Q.objectStore(Wi),ve=yield ne.get(S);return yield ne.put(A,S),yield Q.done,(!ve||ve.fid!==A.fid)&&Fr(x,A.fid),A})).apply(this,arguments)}function _i(x){return $n.apply(this,arguments)}function $n(){return($n=(0,P.Z)(function*(x){const A=rn(x),B=(yield Ln()).transaction(Wi,"readwrite");yield B.objectStore(Wi).delete(A),yield B.done})).apply(this,arguments)}function xr(x,A){return on.apply(this,arguments)}function on(){return(on=(0,P.Z)(function*(x,A){const S=rn(x),Q=(yield Ln()).transaction(Wi,"readwrite"),ne=Q.objectStore(Wi),ve=yield ne.get(S),Qe=A(ve);return void 0===Qe?yield ne.delete(S):yield ne.put(Qe,S),yield Q.done,Qe&&(!ve||ve.fid!==Qe.fid)&&Fr(x,Qe.fid),Qe})).apply(this,arguments)}function Y(x){return z.apply(this,arguments)}function z(){return z=(0,P.Z)(function*(x){let A;const S=yield xr(x.appConfig,B=>{const Q=function L(x){return Et(x||{fid:gt(),registrationStatus:0})}(B),ne=function Z(x,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(st.create("app-offline"))};const S={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},B=function O(x,A){return ie.apply(this,arguments)}(x,S);return{installationEntry:S,registrationPromise:B}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:be(x)}:{installationEntry:A}}(x,Q);return A=ne.registrationPromise,ne.installationEntry});return S.fid===et?{installationEntry:yield A}:{installationEntry:S,registrationPromise:A}}),z.apply(this,arguments)}function ie(){return ie=(0,P.Z)(function*(x,A){try{const S=yield function po(x,A){return Yi.apply(this,arguments)}(x,A);return hi(x.appConfig,S)}catch(S){throw bt(S)&&409===S.customData.serverCode?yield _i(x.appConfig):yield hi(x.appConfig,{fid:A.fid,registrationStatus:0}),S}}),ie.apply(this,arguments)}function be(x){return We.apply(this,arguments)}function We(){return(We=(0,P.Z)(function*(x){let A=yield Dt(x.appConfig);for(;1===A.registrationStatus;)yield ni(100),A=yield Dt(x.appConfig);if(0===A.registrationStatus){const{installationEntry:S,registrationPromise:B}=yield Y(x);return B||S}return A})).apply(this,arguments)}function Dt(x){return xr(x,A=>{if(!A)throw st.create("installation-not-found");return Et(A)})}function Et(x){return function _t(x){return 1===x.registrationStatus&&x.registrationTime+Ce<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function Mn(){return(Mn=(0,P.Z)(function*({appConfig:x,heartbeatServiceProvider:A},S){const B=function jt(x,{fid:A}){return`${fn(x)}/${A}/authTokens:generate`}(x,S),Q=function mi(x,{refreshToken:A}){const S=Ai(x);return S.append("Authorization",function Ca(x){return`${Le} ${x}`}(A)),S}(x,S),ne=A.getImmediate({optional:!0});if(ne){const ht=yield ne.getHeartbeatsHeader();ht&&Q.append("x-firebase-client",ht)}const Qe={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:Ae,appId:x.appId}})},Ge=yield ui(()=>fetch(B,Qe));if(Ge.ok)return Tn(yield Ge.json());throw yield Qn("Generate Auth Token",Ge)})).apply(this,arguments)}function Fi(x){return Ki.apply(this,arguments)}function Ki(){return Ki=(0,P.Z)(function*(x,A=!1){let S;const B=yield xr(x.appConfig,ne=>{if(!Yt(ne))throw st.create("not-registered");const ve=ne.authToken;if(!A&&function pn(x){return 2===x.requestStatus&&!function Li(x){const A=Date.now();return A<x.creationTime||x.creationTime+x.expiresIn<A+qe}(x)}(ve))return ne;if(1===ve.requestStatus)return S=function _e(x,A){return le.apply(this,arguments)}(x,A),ne;{if(!navigator.onLine)throw st.create("app-offline");const Qe=function ri(x){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:A})}(ne);return S=function yt(x,A){return Ut.apply(this,arguments)}(x,Qe),Qe}});return S?yield S:B.authToken}),Ki.apply(this,arguments)}function le(){return(le=(0,P.Z)(function*(x,A){let S=yield Ue(x.appConfig);for(;1===S.authToken.requestStatus;)yield ni(100),S=yield Ue(x.appConfig);const B=S.authToken;return 0===B.requestStatus?Fi(x,A):B})).apply(this,arguments)}function Ue(x){return xr(x,A=>{if(!Yt(A))throw st.create("not-registered");return function Xs(x){return 1===x.requestStatus&&x.requestTime+Ce<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function Ut(){return Ut=(0,P.Z)(function*(x,A){try{const S=yield function Ft(x,A){return Mn.apply(this,arguments)}(x,A),B=Object.assign(Object.assign({},A),{authToken:S});return yield hi(x.appConfig,B),S}catch(S){if(!bt(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const B=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield hi(x.appConfig,B)}else yield _i(x.appConfig);throw S}}),Ut.apply(this,arguments)}function Yt(x){return void 0!==x&&2===x.registrationStatus}function $l(){return($l=(0,P.Z)(function*(x){const A=x,{installationEntry:S,registrationPromise:B}=yield Y(A);return B?B.catch(console.error):Fi(A).catch(console.error),S.fid})).apply(this,arguments)}function Gn(){return Gn=(0,P.Z)(function*(x,A=!1){const S=x;return yield function ea(x){return xa.apply(this,arguments)}(S),(yield Fi(S,A)).token}),Gn.apply(this,arguments)}function xa(){return(xa=(0,P.Z)(function*(x){const{registrationPromise:A}=yield Y(x);A&&(yield A)})).apply(this,arguments)}function Ds(x){return st.create("missing-app-config-values",{valueName:x})}const ol="installations",Gl=x=>{const A=x.getProvider("app").getImmediate(),S=function Yc(x){if(!x||!x.options)throw Ds("App Configuration");if(!x.name)throw Ds("App Name");const A=["projectId","apiKey","appId"];for(const S of A)if(!x.options[S])throw Ds(S);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(A);return{app:A,appConfig:S,heartbeatServiceProvider:(0,re._getProvider)(A,"heartbeat"),_delete:()=>Promise.resolve()}},Yl=x=>{const A=x.getProvider("app").getImmediate(),S=(0,re._getProvider)(A,ol).getImmediate();return{getId:()=>function rl(x){return $l.apply(this,arguments)}(S),getToken:Q=>function Qh(x){return Gn.apply(this,arguments)}(S,Q)}};(function fd(){(0,re._registerComponent)(new he.wA(ol,Gl,"PUBLIC")),(0,re._registerComponent)(new he.wA("installations-internal",Yl,"PRIVATE"))})(),(0,re.registerVersion)(xs,pe),(0,re.registerVersion)(xs,pe,"esm2017");const Wl="@firebase/remote-config",An=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Jl{constructor(A,S,B,Q){this.client=A,this.storage=S,this.storageCache=B,this.logger=Q}isCachedDataFresh(A,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-S,Q=B<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${Q}.`),Q}fetch(A){var S=this;return(0,P.Z)(function*(){const[B,Q]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(Q&&S.isCachedDataFresh(A.cacheMaxAgeMillis,B))return Q;A.eTag=Q&&Q.eTag;const ne=yield S.client.fetch(A),ve=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&ve.push(S.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(ve),ne})()}}function Wc(x=navigator){return x.languages&&x.languages[0]||x.language}class ta{constructor(A,S,B,Q,ne,ve){this.firebaseInstallations=A,this.sdkVersion=S,this.namespace=B,this.projectId=Q,this.apiKey=ne,this.appId=ve}fetch(A){var S=this;return(0,P.Z)(function*(){const[B,Q]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),ve=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,Qe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},Ge={sdk_version:S.sdkVersion,app_instance_id:B,app_instance_id_token:Q,app_id:S.appId,language_code:Wc()},ht={method:"POST",headers:Qe,body:JSON.stringify(Ge)},Ot=fetch(ve,ht),Pt=new Promise((no,io)=>{A.signal.addEventListener(()=>{const Ps=new Error("The operation was aborted.");Ps.name="AbortError",io(Ps)})});let Br;try{yield Promise.race([Ot,Pt]),Br=yield Ot}catch(no){let io="fetch-client-network";throw"AbortError"===no?.name&&(io="fetch-timeout"),An.create(io,{originalErrorMessage:no?.message})}let si=Br.status;const Tl=Br.headers.get("ETag")||void 0;let Os,Oa;if(200===Br.status){let no;try{no=yield Br.json()}catch(io){throw An.create("fetch-client-parse",{originalErrorMessage:io?.message})}Os=no.entries,Oa=no.state}if("INSTANCE_STATE_UNSPECIFIED"===Oa?si=500:"NO_CHANGE"===Oa?si=304:("NO_TEMPLATE"===Oa||"EMPTY_CONFIG"===Oa)&&(Os={}),304!==si&&200!==si)throw An.create("fetch-status",{httpStatus:si});return{status:si,eTag:Tl,config:Os}})()}}class Ea{constructor(A,S){this.client=A,this.storage=S}fetch(A){var S=this;return(0,P.Z)(function*(){const B=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(A,B)})()}attemptFetch(A,{throttleEndTimeMillis:S,backoffCount:B}){var Q=this;return(0,P.Z)(function*(){yield function Yn(x,A){return new Promise((S,B)=>{const Q=Math.max(A-Date.now(),0),ne=setTimeout(S,Q);x.addEventListener(()=>{clearTimeout(ne),B(An.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,S);try{const ne=yield Q.client.fetch(A);return yield Q.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function Kc(x){if(!(x instanceof ue.ZR&&x.customData))return!1;const A=Number(x.customData.httpStatus);return 429===A||500===A||503===A||504===A}(ne))throw ne;const ve={throttleEndTimeMillis:Date.now()+(0,ue.$s)(B),backoffCount:B+1};return yield Q.storage.setThrottleMetadata(ve),Q.attemptFetch(A,ve)}})()}}class Qc{constructor(A,S,B,Q,ne){this.app=A,this._client=S,this._storageCache=B,this._storage=Q,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ji(x,A){const S=x.target.error||void 0;return An.create(A,{originalErrorMessage:S&&S?.message})}const Tr="app_namespace_store";class Nm{constructor(A,S,B,Q=function gn(){return new Promise((x,A)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=B=>{A(Ji(B,"storage-open"))},S.onsuccess=B=>{x(B.target.result)},S.onupgradeneeded=B=>{0===B.oldVersion&&B.target.result.createObjectStore(Tr,{keyPath:"compositeKey"})}}catch(S){A(An.create("storage-open",{originalErrorMessage:S?.message}))}})}()){this.appId=A,this.appName=S,this.namespace=B,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var S=this;return(0,P.Z)(function*(){const B=yield S.openDbPromise;return new Promise((Q,ne)=>{const Qe=B.transaction([Tr],"readonly").objectStore(Tr),Ge=S.createCompositeKey(A);try{const ht=Qe.get(Ge);ht.onerror=Ot=>{ne(Ji(Ot,"storage-get"))},ht.onsuccess=Ot=>{const Pt=Ot.target.result;Q(Pt?Pt.value:void 0)}}catch(ht){ne(An.create("storage-get",{originalErrorMessage:ht?.message}))}})})()}set(A,S){var B=this;return(0,P.Z)(function*(){const Q=yield B.openDbPromise;return new Promise((ne,ve)=>{const Ge=Q.transaction([Tr],"readwrite").objectStore(Tr),ht=B.createCompositeKey(A);try{const Ot=Ge.put({compositeKey:ht,value:S});Ot.onerror=Pt=>{ve(Ji(Pt,"storage-set"))},Ot.onsuccess=()=>{ne()}}catch(Ot){ve(An.create("storage-set",{originalErrorMessage:Ot?.message}))}})})()}delete(A){var S=this;return(0,P.Z)(function*(){const B=yield S.openDbPromise;return new Promise((Q,ne)=>{const Qe=B.transaction([Tr],"readwrite").objectStore(Tr),Ge=S.createCompositeKey(A);try{const ht=Qe.delete(Ge);ht.onerror=Ot=>{ne(Ji(Ot,"storage-delete"))},ht.onsuccess=()=>{Q()}}catch(ht){ne(An.create("storage-delete",{originalErrorMessage:ht?.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class Jo{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,P.Z)(function*(){const S=A.storage.getLastFetchStatus(),B=A.storage.getLastSuccessfulFetchTimestampMillis(),Q=A.storage.getActiveConfig(),ne=yield S;ne&&(A.lastFetchStatus=ne);const ve=yield B;ve&&(A.lastSuccessfulFetchTimestampMillis=ve);const Qe=yield Q;Qe&&(A.activeConfig=Qe)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function ul(){return dl.apply(this,arguments)}function dl(){return(dl=(0,P.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}!function Ta(){(0,re._registerComponent)(new he.wA("remote-config",function x(A,{instanceIdentifier:S}){const B=A.getProvider("app").getImmediate(),Q=A.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw An.create("registration-window");if(!(0,ue.hl)())throw An.create("indexed-db-unavailable");const{projectId:ne,apiKey:ve,appId:Qe}=B.options;if(!ne)throw An.create("registration-project-id");if(!ve)throw An.create("registration-api-key");if(!Qe)throw An.create("registration-app-id");const Ge=new Nm(Qe,B.name,S=S||"firebase"),ht=new Jo(Ge),Ot=new xe.Yd(Wl);Ot.logLevel=xe.in.ERROR;const Pt=new ta(Q,re.SDK_VERSION,S,ne,ve,Qe),Br=new Ea(Pt,Ge),si=new Jl(Br,Ge,ht,Ot),Tl=new Qc(B,si,ht,Ge,Ot);return function qt(x){const A=(0,ue.m9)(x);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(Tl),Tl},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(Wl,"0.4.4"),(0,re.registerVersion)(Wl,"0.4.4","esm2017")}();const Xi=(x,A)=>A.some(S=>x instanceof S);let Xl,ur;const Fo=new WeakMap,na=new WeakMap,Vn=new WeakMap,hl=new WeakMap,fl=new WeakMap;let md={get(x,A,S){if(x instanceof IDBTransaction){if("done"===A)return na.get(x);if("objectStoreNames"===A)return x.objectStoreNames||Vn.get(x);if("store"===A)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return Xo(x[A])},set:(x,A,S)=>(x[A]=S,!0),has:(x,A)=>x instanceof IDBTransaction&&("done"===A||"store"===A)||A in x};function rf(x){return"function"==typeof x?function G_(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pd(){return ur||(ur=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...A){return x.apply(gd(this),A),Xo(Fo.get(this))}:function(...A){return Xo(x.apply(gd(this),A))}:function(A,...S){const B=x.call(gd(this),A,...S);return Vn.set(B,A.sort?A.sort():[A]),Xo(B)}}(x):(x instanceof IDBTransaction&&function Xc(x){if(na.has(x))return;const A=new Promise((S,B)=>{const Q=()=>{x.removeEventListener("complete",ne),x.removeEventListener("error",ve),x.removeEventListener("abort",ve)},ne=()=>{S(),Q()},ve=()=>{B(x.error||new DOMException("AbortError","AbortError")),Q()};x.addEventListener("complete",ne),x.addEventListener("error",ve),x.addEventListener("abort",ve)});na.set(x,A)}(x),Xi(x,function dr(){return Xl||(Xl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,md):x)}function Xo(x){if(x instanceof IDBRequest)return function nf(x){const A=new Promise((S,B)=>{const Q=()=>{x.removeEventListener("success",ne),x.removeEventListener("error",ve)},ne=()=>{S(Xo(x.result)),Q()},ve=()=>{B(x.error),Q()};x.addEventListener("success",ne),x.addEventListener("error",ve)});return A.then(S=>{S instanceof IDBCursor&&Fo.set(S,x)}).catch(()=>{}),fl.set(A,x),A}(x);if(hl.has(x))return hl.get(x);const A=rf(x);return A!==x&&(hl.set(x,A),fl.set(A,x)),A}const gd=x=>fl.get(x);function eu(x,A,{blocked:S,upgrade:B,blocking:Q,terminated:ne}={}){const ve=indexedDB.open(x,A),Qe=Xo(ve);return B&&ve.addEventListener("upgradeneeded",Ge=>{B(Xo(ve.result),Ge.oldVersion,Ge.newVersion,Xo(ve.transaction))}),S&&ve.addEventListener("blocked",()=>S()),Qe.then(Ge=>{ne&&Ge.addEventListener("close",()=>ne()),Q&&Ge.addEventListener("versionchange",()=>Q())}).catch(()=>{}),Qe}function tu(x,{blocked:A}={}){const S=indexedDB.deleteDatabase(x);return A&&S.addEventListener("blocked",()=>A()),Xo(S).then(()=>{})}const Lm=["get","getKey","getAll","getAllKeys","count"],sf=["put","add","delete","clear"],af=new Map;function _d(x,A){if(!(x instanceof IDBDatabase)||A in x||"string"!=typeof A)return;if(af.get(A))return af.get(A);const S=A.replace(/FromIndex$/,""),B=A!==S,Q=sf.includes(S);if(!(S in(B?IDBIndex:IDBObjectStore).prototype)||!Q&&!Lm.includes(S))return;const ne=function(){var ve=(0,P.Z)(function*(Qe,...Ge){const ht=this.transaction(Qe,Q?"readwrite":"readonly");let Ot=ht.store;return B&&(Ot=Ot.index(Ge.shift())),(yield Promise.all([Ot[S](...Ge),Q&&ht.done]))[0]});return function(Ge){return ve.apply(this,arguments)}}();return af.set(A,ne),ne}!function Fm(x){md=x(md)}(x=>({...x,get:(A,S,B)=>_d(A,S)||x.get(A,S,B),has:(A,S)=>!!_d(A,S)||x.has(A,S)}));const vd="/firebase-messaging-sw.js",nu="/firebase-cloud-messaging-push-scope",iu="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Um="https://fcmregistrations.googleapis.com/v1",lf="google.c.a.c_id",oi="google.c.a.c_l",pl="google.c.a.ts";var Lo=(()=>((Lo=Lo||{}).PUSH_RECEIVED="push-received",Lo.NOTIFICATION_CLICKED="notification-clicked",Lo))();function Xr(x){const A=new Uint8Array(x);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function cf(x){const S=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(S),Q=new Uint8Array(B.length);for(let ne=0;ne<B.length;++ne)Q[ne]=B.charCodeAt(ne);return Q}const ec="fcm_token_details_db",tc=5,Y_="fcm_token_object_Store";function eo(){return eo=(0,P.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes(ec))return null;let A=null;return(yield eu(ec,tc,{upgrade:(B=(0,P.Z)(function*(Q,ne,ve,Qe){var Ge;if(ne<2||!Q.objectStoreNames.contains(Y_))return;const ht=Qe.objectStore(Y_),Ot=yield ht.index("fcmSenderId").get(x);if(yield ht.clear(),Ot)if(2===ne){const Pt=Ot;if(!Pt.auth||!Pt.p256dh||!Pt.endpoint)return;A={token:Pt.fcmToken,createTime:null!==(Ge=Pt.createTime)&&void 0!==Ge?Ge:Date.now(),subscriptionOptions:{auth:Pt.auth,p256dh:Pt.p256dh,endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:"string"==typeof Pt.vapidKey?Pt.vapidKey:Xr(Pt.vapidKey)}}}else if(3===ne){const Pt=Ot;A={token:Pt.fcmToken,createTime:Pt.createTime,subscriptionOptions:{auth:Xr(Pt.auth),p256dh:Xr(Pt.p256dh),endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:Xr(Pt.vapidKey)}}}else if(4===ne){const Pt=Ot;A={token:Pt.fcmToken,createTime:Pt.createTime,subscriptionOptions:{auth:Xr(Pt.auth),p256dh:Xr(Pt.p256dh),endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:Xr(Pt.vapidKey)}}}}),function(ne,ve,Qe,Ge){return B.apply(this,arguments)})})).close(),yield tu(ec),yield tu("fcm_vapid_details_db"),yield tu("undefined"),function ml(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:A}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}(A)?A:null;var B}),eo.apply(this,arguments)}const Zi="firebase-messaging-database",gl=1,Uo="firebase-messaging-store";let _l=null;function ru(){return _l||(_l=eu(Zi,gl,{upgrade:(x,A)=>{0===A&&x.createObjectStore(Uo)}})),_l}function ia(x){return ou.apply(this,arguments)}function ou(){return ou=(0,P.Z)(function*(x){const A=nc(x),B=yield(yield ru()).transaction(Uo).objectStore(Uo).get(A);if(B)return B;{const Q=yield function uf(x){return eo.apply(this,arguments)}(x.appConfig.senderId);if(Q)return yield bd(x,Q),Q}}),ou.apply(this,arguments)}function bd(x,A){return wd.apply(this,arguments)}function wd(){return(wd=(0,P.Z)(function*(x,A){const S=nc(x),Q=(yield ru()).transaction(Uo,"readwrite");return yield Q.objectStore(Uo).put(A,S),yield Q.done,A})).apply(this,arguments)}function vl(){return(vl=(0,P.Z)(function*(x){const A=nc(x),B=(yield ru()).transaction(Uo,"readwrite");yield B.objectStore(Uo).delete(A),yield B.done})).apply(this,arguments)}function nc({appConfig:x}){return x.appId}const er=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function U0(x,A){return su.apply(this,arguments)}function su(){return(su=(0,P.Z)(function*(x,A){const S=yield ic(x),B=rc(A),Q={method:"POST",headers:S,body:JSON.stringify(B)};let ne;try{ne=yield(yield fetch(xd(x.appConfig),Q)).json()}catch(ve){throw er.create("token-subscribe-failed",{errorInfo:ve?.toString()})}if(ne.error)throw er.create("token-subscribe-failed",{errorInfo:ne.error.message});if(!ne.token)throw er.create("token-subscribe-no-token");return ne.token})).apply(this,arguments)}function au(){return(au=(0,P.Z)(function*(x,A){const S=yield ic(x),B=rc(A.subscriptionOptions),Q={method:"PATCH",headers:S,body:JSON.stringify(B)};let ne;try{ne=yield(yield fetch(`${xd(x.appConfig)}/${A.token}`,Q)).json()}catch(ve){throw er.create("token-update-failed",{errorInfo:ve?.toString()})}if(ne.error)throw er.create("token-update-failed",{errorInfo:ne.error.message});if(!ne.token)throw er.create("token-update-no-token");return ne.token})).apply(this,arguments)}function Zm(x,A){return yl.apply(this,arguments)}function yl(){return(yl=(0,P.Z)(function*(x,A){const B={method:"DELETE",headers:yield ic(x)};try{const ne=yield(yield fetch(`${xd(x.appConfig)}/${A}`,B)).json();if(ne.error)throw er.create("token-unsubscribe-failed",{errorInfo:ne.error.message})}catch(Q){throw er.create("token-unsubscribe-failed",{errorInfo:Q?.toString()})}})).apply(this,arguments)}function xd({projectId:x}){return`${Um}/projects/${x}/registrations`}function ic(x){return df.apply(this,arguments)}function df(){return(df=(0,P.Z)(function*({appConfig:x,installations:A}){const S=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function rc({p256dh:x,auth:A,endpoint:S,vapidKey:B}){const Q={web:{endpoint:S,auth:A,p256dh:x}};return B!==iu&&(Q.web.applicationPubKey=B),Q}const hf=6048e5;function lu(){return lu=(0,P.Z)(function*(x){const A=yield function Ad(x,A){return Ar.apply(this,arguments)}(x.swRegistration,x.vapidKey),S={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:A.endpoint,auth:Xr(A.getKey("auth")),p256dh:Xr(A.getKey("p256dh"))},B=yield ia(x.firebaseDependencies);if(B){if(function cu(x,A){return A.vapidKey===x.vapidKey&&A.endpoint===x.endpoint&&A.auth===x.auth&&A.p256dh===x.p256dh}(B.subscriptionOptions,S))return Date.now()>=B.createTime+hf?function Dd(x,A){return Ed.apply(this,arguments)}(x,{token:B.token,createTime:Date.now(),subscriptionOptions:S}):B.token;try{yield Zm(x.firebaseDependencies,B.token)}catch(Q){console.warn(Q)}return Cn(x.firebaseDependencies,S)}return Cn(x.firebaseDependencies,S)}),lu.apply(this,arguments)}function go(){return go=(0,P.Z)(function*(x){const A=yield ia(x.firebaseDependencies);A&&(yield Zm(x.firebaseDependencies,A.token),yield function Cd(x){return vl.apply(this,arguments)}(x.firebaseDependencies));const S=yield x.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()}),go.apply(this,arguments)}function Ed(){return Ed=(0,P.Z)(function*(x,A){try{const S=yield function Vm(x,A){return au.apply(this,arguments)}(x.firebaseDependencies,A),B=Object.assign(Object.assign({},A),{token:S,createTime:Date.now()});return yield bd(x.firebaseDependencies,B),S}catch(S){throw yield function Bm(x){return go.apply(this,arguments)}(x),S}}),Ed.apply(this,arguments)}function Cn(x,A){return Td.apply(this,arguments)}function Td(){return(Td=(0,P.Z)(function*(x,A){const B={token:yield U0(x,A),createTime:Date.now(),subscriptionOptions:A};return yield bd(x,B),B.token})).apply(this,arguments)}function Ar(){return(Ar=(0,P.Z)(function*(x,A){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:cf(A)})})).apply(this,arguments)}function Id(x){const A={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function ra(x,A){if(!A.notification)return;x.notification={};const S=A.notification.title;S&&(x.notification.title=S);const B=A.notification.body;B&&(x.notification.body=B);const Q=A.notification.image;Q&&(x.notification.image=Q);const ne=A.notification.icon;ne&&(x.notification.icon=ne)}(A,x),function tr(x,A){A.data&&(x.data=A.data)}(A,x),function K_(x,A){var S,B,Q,ne,ve;if(!(A.fcmOptions||null!==(S=A.notification)&&void 0!==S&&S.click_action))return;x.fcmOptions={};const Qe=null!==(Q=null===(B=A.fcmOptions)||void 0===B?void 0:B.link)&&void 0!==Q?Q:null===(ne=A.notification)||void 0===ne?void 0:ne.click_action;Qe&&(x.fcmOptions.link=Qe);const Ge=null===(ve=A.fcmOptions)||void 0===ve?void 0:ve.analytics_label;Ge&&(x.fcmOptions.analyticsLabel=Ge)}(A,x),A}function pf(x,A){const S=[];for(let B=0;B<x.length;B++)S.push(x.charAt(B)),B<A.length&&S.push(A.charAt(B));return S.join("")}function Sd(x){return er.create("missing-app-config-values",{valueName:x})}pf("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),pf("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class mf{constructor(A,S,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function sa(x){if(!x||!x.options)throw Sd("App Configuration Object");if(!x.name)throw Sd("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:S}=x;for(const B of A)if(!S[B])throw Sd(B);return{appName:x.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:Q,installations:S,analyticsProvider:B}}_delete(){return Promise.resolve()}}function du(){return(du=(0,P.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(vd,{scope:nu}),x.swRegistration.update().catch(()=>{})}catch(A){throw er.create("failed-service-worker-registration",{browserErrorMessage:A?.message})}})).apply(this,arguments)}function es(){return(es=(0,P.Z)(function*(x,A){if(!A&&!x.swRegistration&&(yield function uu(x){return du.apply(this,arguments)}(x)),A||!x.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw er.create("invalid-sw-registration");x.swRegistration=A}})).apply(this,arguments)}function wl(){return(wl=(0,P.Z)(function*(x,A){A?x.vapidKey=A:x.vapidKey||(x.vapidKey=iu)})).apply(this,arguments)}function Md(){return Md=(0,P.Z)(function*(x,A){if(!navigator)throw er.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw er.create("permission-blocked");return yield function Rt(x,A){return wl.apply(this,arguments)}(x,A?.vapidKey),yield function bl(x,A){return es.apply(this,arguments)}(x,A?.serviceWorkerRegistration),function ff(x){return lu.apply(this,arguments)}(x)}),Md.apply(this,arguments)}function kd(){return(kd=(0,P.Z)(function*(x,A,S){const B=function _f(x){switch(x){case Lo.NOTIFICATION_CLICKED:return"notification_open";case Lo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(A);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:S[lf],message_name:S[oi],message_time:S[pl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function oc(){return oc=(0,P.Z)(function*(x,A){const S=A.data;if(!S.isFirebaseMessaging)return;x.onMessageHandler&&S.messageType===Lo.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(Id(S)):x.onMessageHandler.next(Id(S)));const B=S.data;(function oa(x){return"object"==typeof x&&!!x&&lf in x})(B)&&"1"===B["google.c.a.e"]&&(yield function Q_(x,A,S){return kd.apply(this,arguments)}(x,S.messageType,B))}),oc.apply(this,arguments)}const Rd="@firebase/messaging",hu=x=>{const A=new mf(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function aa(x,A){return oc.apply(this,arguments)}(A,S)),A},qm=x=>{const A=x.getProvider("messaging").getImmediate();return{getToken:B=>function gf(x,A){return Md.apply(this,arguments)}(A,B)}};function un(){return Od.apply(this,arguments)}function Od(){return(Od=(0,P.Z)(function*(){try{yield(0,ue.eu)()}catch{return!1}return typeof window<"u"&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Me(){(0,re._registerComponent)(new he.wA("messaging",hu,"PUBLIC")),(0,re._registerComponent)(new he.wA("messaging-internal",qm,"PRIVATE")),(0,re.registerVersion)(Rd,"0.12.4"),(0,re.registerVersion)(Rd,"0.12.4","esm2017")}();const yf="analytics",lc="firebase_id",Lr="origin",Vo=6e4,bf="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",la="https://www.googletagmanager.com/gtag/js",kn=new xe.Yd("@firebase/analytics"),Si=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Pd(x){if(!x.startsWith(la)){const A=Si.create("invalid-gtag-resource",{gtagURL:x});return kn.warn(A.message),""}return x}function Sa(x){return Promise.all(x.map(A=>A.catch(S=>S)))}function cc(){return(cc=(0,P.Z)(function*(x,A,S,B,Q,ne){const ve=B[Q];try{if(ve)yield A[ve];else{const Ge=(yield Sa(S)).find(ht=>ht.measurementId===Q);Ge&&(yield A[Ge.appId])}}catch(Qe){kn.error(Qe)}x("config",Q,ne)})).apply(this,arguments)}function ca(){return(ca=(0,P.Z)(function*(x,A,S,B,Q){try{let ne=[];if(Q&&Q.send_to){let ve=Q.send_to;Array.isArray(ve)||(ve=[ve]);const Qe=yield Sa(S);for(const Ge of ve){const ht=Qe.find(Pt=>Pt.measurementId===Ge),Ot=ht&&A[ht.appId];if(!Ot){ne=[];break}ne.push(Ot)}}0===ne.length&&(ne=Object.values(A)),yield Promise.all(ne),x("event",B,Q||{})}catch(ne){kn.error(ne)}})).apply(this,arguments)}const Ld=30,jm=new class J_{constructor(A={},S=1e3){this.throttleMetadata=A,this.intervalMillis=S}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,S){this.throttleMetadata[A]=S}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function Ur(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function Wn(){return(Wn=(0,P.Z)(function*(x){var A;const{appId:S,apiKey:B}=x,Q={method:"GET",headers:Ur(B)},ne=bf.replace("{app-id}",S),ve=yield fetch(ne,Q);if(200!==ve.status&&304!==ve.status){let Qe="";try{const Ge=yield ve.json();null!==(A=Ge.error)&&void 0!==A&&A.message&&(Qe=Ge.error.message)}catch{}throw Si.create("config-fetch-failed",{httpStatus:ve.status,responseMessage:Qe})}return ve.json()})).apply(this,arguments)}function Df(){return(Df=(0,P.Z)(function*(x,A=jm,S){const{appId:B,apiKey:Q,measurementId:ne}=x.options;if(!B)throw Si.create("no-app-id");if(!Q){if(ne)return{measurementId:ne,appId:B};throw Si.create("no-api-key")}const ve=A.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Qe=new Vd;return setTimeout((0,P.Z)(function*(){Qe.abort()}),void 0!==S?S:Vo),Ef({appId:B,apiKey:Q,measurementId:ne},ve,Qe,A)})).apply(this,arguments)}function Ef(x,A,S){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,P.Z)(function*(x,{throttleEndTimeMillis:A,backoffCount:S},B,Q=jm){var ne;const{appId:ve,measurementId:Qe}=x;try{yield function Ud(x,A){return new Promise((S,B)=>{const Q=Math.max(A-Date.now(),0),ne=setTimeout(S,Q);x.addEventListener(()=>{clearTimeout(ne),B(Si.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(B,A)}catch(Ge){if(Qe)return kn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qe} provided in the "measurementId" field in the local Firebase config. [${Ge?.message}]`),{appId:ve,measurementId:Qe};throw Ge}try{const Ge=yield function ka(x){return Wn.apply(this,arguments)}(x);return Q.deleteThrottleMetadata(ve),Ge}catch(Ge){const ht=Ge;if(!function zm(x){if(!(x instanceof ue.ZR&&x.customData))return!1;const A=Number(x.customData.httpStatus);return 429===A||500===A||503===A||504===A}(ht)){if(Q.deleteThrottleMetadata(ve),Qe)return kn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qe} provided in the "measurementId" field in the local Firebase config. [${ht?.message}]`),{appId:ve,measurementId:Qe};throw Ge}const Ot=503===Number(null===(ne=ht?.customData)||void 0===ne?void 0:ne.httpStatus)?(0,ue.$s)(S,Q.intervalMillis,Ld):(0,ue.$s)(S,Q.intervalMillis),Pt={throttleEndTimeMillis:Date.now()+Ot,backoffCount:S+1};return Q.setThrottleMetadata(ve,Pt),kn.debug(`Calling attemptFetch again in ${Ot} millis`),Ef(x,Pt,B,Q)}}),Tf.apply(this,arguments)}class Vd{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let ns,Ra;function dc(){return(dc=(0,P.Z)(function*(x,A,S,B,Q){if(Q&&Q.global)x("event",S,B);else{const ne=yield A;x("event",S,Object.assign(Object.assign({},B),{send_to:ne}))}})).apply(this,arguments)}function Zo(){return(Zo=(0,P.Z)(function*(){if(!(0,ue.hl)())return kn.warn(Si.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(x){return kn.warn(Si.create("indexeddb-unavailable",{errorInfo:x?.toString()}).message),!1}return!0})).apply(this,arguments)}function bn(){return bn=(0,P.Z)(function*(x,A,S,B,Q,ne,ve){var Qe;const Ge=function mu(x){return Df.apply(this,arguments)}(x);Ge.then(si=>{S[si.measurementId]=si.appId,x.options.measurementId&&si.measurementId!==x.options.measurementId&&kn.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${si.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(si=>kn.error(si)),A.push(Ge);const ht=function $m(){return Zo.apply(this,arguments)}().then(si=>{if(si)return B.getId()}),[Ot,Pt]=yield Promise.all([Ge,ht]);(function xf(x){const A=window.document.getElementsByTagName("script");for(const S of Object.values(A))if(S.src&&S.src.includes(la)&&S.src.includes(x))return S;return null})(ne)||function wf(x,A){const S=function Ma(x,A){let S;return window.trustedTypes&&(S=window.trustedTypes.createPolicy(x,A)),S}("firebase-js-sdk-policy",{createScriptURL:Pd}),B=document.createElement("script"),Q=`${la}?l=${x}&id=${A}`;B.src=S?S?.createScriptURL(Q):Q,B.async=!0,document.head.appendChild(B)}(ne,Ot.measurementId),Ra&&(Q("consent","default",Ra),function _u(x){Ra=x}(void 0)),Q("js",new Date);const Br=null!==(Qe=ve?.config)&&void 0!==Qe?Qe:{};return Br[Lr]="firebase",Br.update=!0,null!=Pt&&(Br[lc]=Pt),Q("config",Ot.measurementId,Br),ns&&(Q("set",ns),function fc(x){ns=x}(void 0)),Ot.measurementId}),bn.apply(this,arguments)}class Ke{constructor(A){this.app=A}_delete(){return delete is[this.app.options.appId],Promise.resolve()}}let is={},mc=[];const Cl={};let vu,nr,rs="dataLayer",Ir=!1;function yu(x,A,S){!function gc(){const x=[];if((0,ue.ru)()&&x.push("This is a browser extension environment."),(0,ue.zI)()||x.push("Cookies are not available."),x.length>0){const A=x.map((B,Q)=>`(${Q+1}) ${B}`).join(" "),S=Si.create("invalid-analytics-context",{errorInfo:A});kn.warn(S.message)}}();const B=x.options.appId;if(!B)throw Si.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw Si.create("no-api-key");kn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=is[B])throw Si.create("already-exists",{id:B});if(!Ir){!function pu(x){let A=[];Array.isArray(window[x])?A=window[x]:window[x]=A}(rs);const{wrappedGtag:ne,gtagCore:ve}=function Cf(x,A,S,B,Q){let ne=function(...ve){window[B].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(ne=window[Q]),window[Q]=function ts(x,A,S,B){function ne(){return ne=(0,P.Z)(function*(ve,...Qe){try{if("event"===ve){const[Ge,ht]=Qe;yield function Fd(x,A,S,B,Q){return ca.apply(this,arguments)}(x,A,S,Ge,ht)}else if("config"===ve){const[Ge,ht]=Qe;yield function Nd(x,A,S,B,Q,ne){return cc.apply(this,arguments)}(x,A,S,B,Ge,ht)}else if("consent"===ve){const[Ge]=Qe;x("consent","update",Ge)}else if("get"===ve){const[Ge,ht,Ot]=Qe;x("get",Ge,ht,Ot)}else if("set"===ve){const[Ge]=Qe;x("set",Ge)}else x(ve,...Qe)}catch(Ge){kn.error(Ge)}}),ne.apply(this,arguments)}return function Q(ve){return ne.apply(this,arguments)}}(ne,x,A,S),{gtagCore:ne,wrappedGtag:window[Q]}}(is,mc,Cl,rs,"gtag");nr=ne,vu=ve,Ir=!0}return is[B]=function pc(x,A,S,B,Q,ne,ve){return bn.apply(this,arguments)}(x,mc,Cl,A,vu,rs,S),new Ke(x)}function qi(){return hr.apply(this,arguments)}function hr(){return(hr=(0,P.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}const Cu="@firebase/analytics";!function ks(){(0,re._registerComponent)(new he.wA(yf,(A,{options:S})=>yu(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,re._registerComponent)(new he.wA("analytics-internal",function x(A){try{const S=A.getProvider(yf).getImmediate();return{logEvent:(B,Q,ne)=>function Ms(x,A,S,B){x=(0,ue.m9)(x),function Af(x,A,S,B,Q){return dc.apply(this,arguments)}(nr,is[x.app.options.appId],A,S,B).catch(Q=>kn.error(Q))}(S,B,Q,ne)}}catch(S){throw Si.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,re.registerVersion)(Cu,"0.10.0"),(0,re.registerVersion)(Cu,"0.10.0","esm2017")}();var Of=U(4408),xl=U(7565);const jd=new class Pf extends xl.v{}(class yc extends Of.o{constructor(A,S){super(A,S),this.scheduler=A,this.work=S}schedule(A,S=0){return S>0?super.schedule(A,S):(this.delay=S,this.state=A,this.scheduler.flush(this),this)}execute(A,S){return S>0||this.closed?super.execute(A,S):this._execute(A,S)}requestAsyncId(A,S,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(A,S,B):(A.flush(this),0)}});var Dl=U(4986),os=U(9751),Rs=U(8505),ua=U(5363),El=U(9468);const ss=new r.GfV("7.6.1"),zd="__angularfire_symbol__analyticsIsSupportedValue",wc="__angularfire_symbol__analyticsIsSupported",Du="__angularfire_symbol__remoteConfigIsSupportedValue",Cc="__angularfire_symbol__remoteConfigIsSupported",xc="__angularfire_symbol__messagingIsSupportedValue",Eu="__angularfire_symbol__messagingIsSupported";function $d(x,A,S){if(A){if(1===A.length)return A[0];const ne=A.filter(ve=>ve.app===S);if(1===ne.length)return ne[0]}return S.container.getProvider(x).getImmediate({optional:!0})}globalThis[wc]||(globalThis[wc]=qi().then(x=>globalThis[zd]=x).catch(()=>globalThis[zd]=!1)),globalThis[Eu]||(globalThis[Eu]=un().then(x=>globalThis[xc]=x).catch(()=>globalThis[xc]=!1)),globalThis[Cc]||(globalThis[Cc]=ul().then(x=>globalThis[Du]=x).catch(()=>globalThis[Du]=!1));const ji=(x,A)=>{const S=A?[A]:(0,j.C6)(),B=[];return S.forEach(Q=>{Q.container.getProvider(x).instances.forEach(ve=>{B.includes(ve)||B.push(ve)})}),B};function Ec(){}class vi{constructor(A,S=jd){this.zone=A,this.delegate=S}now(){return this.delegate.now()}schedule(A,S,B){const Q=this.zone;return this.delegate.schedule(function(ve){Q.runGuarded(()=>{A.apply(this,[ve])})},S,B)}}class as{constructor(A){this.zone=A,this.task=null}call(A,S){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ec,{},Ec,Ec)),S.pipe((0,Rs.b)({next:B,complete:B,error:B})).subscribe(A).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let rr=(()=>{class x{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new vi(Zone.current)),this.insideAngular=S.run(()=>new vi(Zone.current,Dl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(S){return new(S||x)(r.LFG(r.R0b))},x.\u0275prov=r.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Vr(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function _o(x){return Vr().ngZone.run(()=>x())}function Tc(x){return x.pipe((0,ua.Q)(Vr().outsideAngular))}function ev(x){return Vr(),function tv(x){return function(S){return(S=S.lift(new as(x.ngZone))).pipe((0,El.R)(x.outsideAngular),(0,ua.Q)(x.insideAngular))}}(Vr())(x)}const Z0=(x,A)=>function(){const B=arguments;return A&&setTimeout(()=>{"scheduled"===A.state&&A.invoke()},10),_o(()=>x.apply(void 0,B))},Zr=(x,A)=>function(){let S;const B=arguments;for(let ne=0;ne<arguments.length;ne++)"function"==typeof B[ne]&&(A&&(S||(S=_o(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ec,{},Ec,Ec)))),B[ne]=Z0(B[ne],S));const Q=function Nf(x){return Vr().ngZone.runOutsideAngular(()=>x())}(()=>x.apply(this,B));if(!A){if(Q instanceof os.y){const ne=Vr();return Q.pipe((0,El.R)(ne.outsideAngular),(0,ua.Q)(ne.insideAngular))}return _o(()=>Q)}return Q instanceof os.y?Q.pipe(ev):Q instanceof Promise?_o(()=>new Promise((ne,ve)=>Q.then(Qe=>_o(()=>ne(Qe)),Qe=>_o(()=>ve(Qe))))):"function"==typeof Q&&S?function(){return setTimeout(()=>{S&&"scheduled"===S.state&&S.invoke()},10),Q.apply(this,arguments)}:_o(()=>Q)}},1389:(vt,Te,U)=>{U.d(Te,{$:()=>vd,A:()=>W,B:()=>uu,D:()=>Se,I:()=>Jh,J:()=>Gl,L:()=>Mt,N:()=>xr,P:()=>pc,Q:()=>Nm,R:()=>If,U:()=>Aa,V:()=>ul,W:()=>dl,X:()=>Jr,Y:()=>dr,Z:()=>pd,_:()=>fl,a:()=>fu,a0:()=>iu,a1:()=>lf,a2:()=>SD,a3:()=>Y_,a4:()=>eo,a5:()=>Zi,a6:()=>Uo,a7:()=>ru,a8:()=>ou,a9:()=>wd,aA:()=>oe,aB:()=>wc,aC:()=>_i,aD:()=>on,aE:()=>Rs,aF:()=>vc,aG:()=>Ym,aH:()=>fi,aL:()=>Is,aO:()=>Xl,aa:()=>Cd,ab:()=>nc,ac:()=>W_,ad:()=>Vm,ae:()=>Zm,af:()=>xd,ai:()=>hf,aj:()=>lu,ak:()=>Bm,an:()=>G_,ao:()=>ra,aq:()=>wl,ar:()=>Rd,as:()=>$e,at:()=>Et,au:()=>be,av:()=>se,aw:()=>Pt,ax:()=>Eu,ay:()=>_t,az:()=>De,b:()=>sc,c:()=>nr,d:()=>yu,e:()=>Ss,f:()=>Cu,g:()=>Pf,h:()=>Of,i:()=>uc,j:()=>Dl,k:()=>Oa,l:()=>Kn,m:()=>Ps,o:()=>Vf,p:()=>ke,r:()=>Mf,s:()=>Sf,u:()=>$m,v:()=>oa,x:()=>sa});var r=U(5861),j=U(2090),P=U(6881),re=U(7582),ue=U(1877),he=U(4859);const ke={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},W={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Se=function ae(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},nt=function Ve(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Pe=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Fe=new ue.Yd("@firebase/auth");function mt(w,...g){Fe.logLevel<=ue.in.ERROR&&Fe.error(`Auth (${P.SDK_VERSION}): ${w}`,...g)}function se(w,...g){throw Ne(w,...g)}function De(w,...g){return Ne(w,...g)}function ce(w,g,v){const D=Object.assign(Object.assign({},nt()),{[g]:v});return new j.LL("auth","Firebase",D).create(g,{appName:w.name})}function ye(w,g,v){if(!(g instanceof v))throw v.name!==g.constructor.name&&se(w,"argument-error"),ce(w,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ne(w,...g){if("string"!=typeof w){const v=g[0],D=[...g.slice(1)];return D[0]&&(D[0].appName=w.name),w._errorFactory.create(v,...D)}return Pe.create(w,...g)}function oe(w,g,...v){if(!w)throw Ne(g,...v)}function rt(w){const g="INTERNAL ASSERTION FAILED: "+w;throw mt(g),new Error(g)}function $e(w,g){w||rt(g)}function ln(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Ti(){return"http:"===wr()||"https:"===wr()}function wr(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Ce{constructor(g,v){this.shortDelay=g,this.longDelay=v,$e(v>g,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function xs(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ti()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ae(w,g){$e(w.emulator,"Emulator should always be set here");const{url:v}=w.emulator;return g?`${v}${g.startsWith("/")?g.slice(1):g}`:v}class Le{static initialize(g,v,D){this.fetchImpl=g,v&&(this.headersImpl=v),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void rt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void rt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void rt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ye={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},qe=new Ce(3e4,6e4);function it(w,g){return w.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:w.tenantId}):g}function lt(w,g,v,D){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,r.Z)(function*(w,g,v,D,M={}){return st(w,M,(0,r.Z)(function*(){let N={},X={};D&&("GET"===g?X=D:N={body:JSON.stringify(D)});const me=(0,j.xO)(Object.assign({key:w.config.apiKey},X)).slice(1),je=yield w._getAdditionalHeaders();return je["Content-Type"]="application/json",w.languageCode&&(je["X-Firebase-Locale"]=w.languageCode),Le.fetch()(Qn(w,w.config.apiHost,v,me),Object.assign({method:g,headers:je,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function st(w,g,v){return bt.apply(this,arguments)}function bt(){return(bt=(0,r.Z)(function*(w,g,v){w._canInitEmulator=!1;const D=Object.assign(Object.assign({},Ye),g);try{const M=new cn(w),N=yield Promise.race([v(),M.promise]);M.clearNetworkTimeout();const X=yield N.json();if("needConfirmation"in X)throw Ai(w,"account-exists-with-different-credential",X);if(N.ok&&!("errorMessage"in X))return X;{const me=N.ok?X.errorMessage:X.error.message,[je,ct]=me.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===je)throw Ai(w,"credential-already-in-use",X);if("EMAIL_EXISTS"===je)throw Ai(w,"email-already-in-use",X);if("USER_DISABLED"===je)throw Ai(w,"user-disabled",X);const wt=D[je]||je.toLowerCase().replace(/[_\s]+/g,"-");if(ct)throw ce(w,wt,ct);se(w,wt)}}catch(M){if(M instanceof j.ZR)throw M;se(w,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function fn(w,g,v,D){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,r.Z)(function*(w,g,v,D,M={}){const N=yield lt(w,g,v,D,M);return"mfaPendingCredential"in N&&se(w,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Qn(w,g,v,D){const M=`${g}${v}?${D}`;return w.config.emulator?Ae(w.config,M):`${w.config.apiScheme}://${M}`}class cn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((v,D)=>{this.timer=setTimeout(()=>D(De(this.auth,"network-request-failed")),qe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ai(w,g,v){const D={appName:w.name};v.email&&(D.email=v.email),v.phoneNumber&&(D.phoneNumber=v.phoneNumber);const M=De(w,g,D);return M.customData._tokenResponse=v,M}function ui(){return(ui=(0,r.Z)(function*(w,g){return lt(w,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Qr(){return(Qr=(0,r.Z)(function*(w,g){return lt(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function po(){return(po=(0,r.Z)(function*(w,g){return lt(w,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Yi(w){if(w)try{const g=new Date(Number(w));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Ko(){return(Ko=(0,r.Z)(function*(w,g=!1){const v=(0,j.m9)(w),D=yield v.getIdToken(g),M=gt(D);oe(M&&M.exp&&M.auth_time&&M.iat,v.auth,"internal-error");const N="object"==typeof M.firebase?M.firebase:void 0,X=N?.sign_in_provider;return{claims:M,token:D,authTime:Yi(et(M.auth_time)),issuedAtTime:Yi(et(M.iat)),expirationTime:Yi(et(M.exp)),signInProvider:X||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function et(w){return 1e3*Number(w)}function gt(w){const[g,v,D]=w.split(".");if(void 0===g||void 0===v||void 0===D)return mt("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,j.tV)(v);return M?JSON.parse(M):(mt("Failed to decode base64 JWT payload"),null)}catch(M){return mt("Caught error parsing JWT payload as JSON",M?.toString()),null}}function rn(w,g){return gi.apply(this,arguments)}function gi(){return(gi=(0,r.Z)(function*(w,g,v=!1){if(v)return g;try{return yield g}catch(D){throw D instanceof j.ZR&&function Fr({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(D)&&w.auth.currentUser===w&&(yield w.auth.signOut()),D}})).apply(this,arguments)}class Jt{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var v;if(g){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const M=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(g=!1){var v=this;if(!this.isRunning)return;const D=this.getInterval(g);this.timerId=setTimeout((0,r.Z)(function*(){yield v.iteration()}),D)}iteration(){var g=this;return(0,r.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&g.schedule(!0))}g.schedule()})()}}class di{constructor(g,v){this.createdAt=g,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yi(this.lastLoginAt),this.creationTime=Yi(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Oo(w){return wn.apply(this,arguments)}function wn(){return wn=(0,r.Z)(function*(w){var g;const v=w.auth,D=yield w.getIdToken(),M=yield rn(w,function Ca(w,g){return po.apply(this,arguments)}(v,{idToken:D}));oe(M?.users.length,v,"internal-error");const N=M.users[0];w._notifyReloadListener(N);const X=null!==(g=N.providerUserInfo)&&void 0!==g&&g.length?function mo(w){return w.map(g=>{var{providerId:v}=g,D=(0,re._T)(g,["providerId"]);return{providerId:v,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}(N.providerUserInfo):[],me=function jn(w,g){return[...w.filter(D=>!g.some(M=>M.providerId===D.providerId)),...g]}(w.providerData,X),wt=!!w.isAnonymous&&!(w.email&&N.passwordHash||me?.length),sn={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:me,metadata:new di(N.createdAt,N.lastLoginAt),isAnonymous:wt};Object.assign(w,sn)}),wn.apply(this,arguments)}function Bt(){return(Bt=(0,r.Z)(function*(w){const g=(0,j.m9)(w);yield Oo(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Wi(){return(Wi=(0,r.Z)(function*(w,g){const v=yield st(w,{},(0,r.Z)(function*(){const D=(0,j.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:M,apiKey:N}=w.config,X=Qn(w,M,"/v1/token",`key=${N}`),me=yield w._getAdditionalHeaders();return me["Content-Type"]="application/x-www-form-urlencoded",Le.fetch()(X,{method:"POST",headers:me,body:D})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class ii{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){oe(g.idToken,"internal-error"),oe(typeof g.idToken<"u","internal-error"),oe(typeof g.refreshToken<"u","internal-error");const v="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function xt(w){const g=gt(w);return oe(g,"internal-error"),oe(typeof g.exp<"u","internal-error"),oe(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,v)}getToken(g,v=!1){var D=this;return(0,r.Z)(function*(){return oe(!D.accessToken||D.refreshToken,g,"user-token-expired"),v||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(g,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,v){var D=this;return(0,r.Z)(function*(){const{accessToken:M,refreshToken:N,expiresIn:X}=yield function Qo(w,g){return Wi.apply(this,arguments)}(g,v);D.updateTokensAndExpiration(M,N,Number(X))})()}updateTokensAndExpiration(g,v,D){this.refreshToken=v||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(g,v){const{refreshToken:D,accessToken:M,expirationTime:N}=v,X=new ii;return D&&(oe("string"==typeof D,"internal-error",{appName:g}),X.refreshToken=D),M&&(oe("string"==typeof M,"internal-error",{appName:g}),X.accessToken=M),N&&(oe("number"==typeof N,"internal-error",{appName:g}),X.expirationTime=N),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new ii,this.toJSON())}_performRefresh(){return rt("not implemented")}}function Ln(w,g){oe("string"==typeof w||typeof w>"u","internal-error",{appName:g})}class hi{constructor(g){var{uid:v,auth:D,stsTokenManager:M}=g,N=(0,re._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=D,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new di(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(g){var v=this;return(0,r.Z)(function*(){const D=yield rn(v,v.stsTokenManager.getToken(v.auth,g));return oe(D,v.auth,"internal-error"),v.accessToken!==D&&(v.accessToken=D,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),D})()}getIdTokenResult(g){return function Cr(w){return Ko.apply(this,arguments)}(this,g)}reload(){return function lr(w){return Bt.apply(this,arguments)}(this)}_assign(g){this!==g&&(oe(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(v=>Object.assign({},v)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const v=new hi(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(g){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,v=!1){var D=this;return(0,r.Z)(function*(){let M=!1;g.idToken&&g.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(g),M=!0),v&&(yield Oo(D)),yield D.auth._persistUserIfCurrent(D),M&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var g=this;return(0,r.Z)(function*(){const v=yield g.getIdToken();return yield rn(g,function mi(w,g){return ui.apply(this,arguments)}(g.auth,{idToken:v})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,v){var D,M,N,X,me,je,ct,wt;const sn=null!==(D=v.displayName)&&void 0!==D?D:void 0,vo=null!==(M=v.email)&&void 0!==M?M:void 0,Pa=null!==(N=v.phoneNumber)&&void 0!==N?N:void 0,Qm=null!==(X=v.photoURL)&&void 0!==X?X:void 0,kD=null!==(me=v.tenantId)&&void 0!==me?me:void 0,rv=null!==(je=v._redirectEventId)&&void 0!==je?je:void 0,Iu=null!==(ct=v.createdAt)&&void 0!==ct?ct:void 0,qr=null!==(wt=v.lastLoginAt)&&void 0!==wt?wt:void 0,{uid:Su,emailVerified:Zf,isAnonymous:yo,providerData:Jm,stsTokenManager:Ac}=v;oe(Su&&Ac,g,"internal-error");const Xm=ii.fromJSON(this.name,Ac);oe("string"==typeof Su,g,"internal-error"),Ln(sn,g.name),Ln(vo,g.name),oe("boolean"==typeof Zf,g,"internal-error"),oe("boolean"==typeof yo,g,"internal-error"),Ln(Pa,g.name),Ln(Qm,g.name),Ln(kD,g.name),Ln(rv,g.name),Ln(Iu,g.name),Ln(qr,g.name);const Gd=new hi({uid:Su,auth:g,email:vo,emailVerified:Zf,displayName:sn,isAnonymous:yo,photoURL:Qm,phoneNumber:Pa,tenantId:kD,stsTokenManager:Xm,createdAt:Iu,lastLoginAt:qr});return Jm&&Array.isArray(Jm)&&(Gd.providerData=Jm.map(eg=>Object.assign({},eg))),rv&&(Gd._redirectEventId=rv),Gd}static _fromIdTokenResponse(g,v,D=!1){return(0,r.Z)(function*(){const M=new ii;M.updateFromServerResponse(v);const N=new hi({uid:v.localId,auth:g,stsTokenManager:M,isAnonymous:D});return yield Oo(N),N})()}}const zn=new Map;function _i(w){$e(w instanceof Function,"Expected a class definition");let g=zn.get(w);return g?($e(g instanceof w,"Instance stored in cache mismatched with class"),g):(g=new w,zn.set(w,g),g)}const xr=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,r.Z)(function*(){return!0})()}_set(v,D){var M=this;return(0,r.Z)(function*(){M.storage[v]=D})()}_get(v){var D=this;return(0,r.Z)(function*(){const M=D.storage[v];return void 0===M?null:M})()}_remove(v){var D=this;return(0,r.Z)(function*(){delete D.storage[v]})()}_addListener(v,D){}_removeListener(v,D){}}return w.type="NONE",w})();function on(w,g,v){return`firebase:${w}:${g}:${v}`}class Y{constructor(g,v,D){this.persistence=g,this.auth=v,this.userKey=D;const{config:M,name:N}=this.auth;this.fullUserKey=on(this.userKey,M.apiKey,N),this.fullPersistenceKey=on("persistence",M.apiKey,N),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,r.Z)(function*(){const v=yield g.persistence._get(g.fullUserKey);return v?hi._fromJSON(g.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var v=this;return(0,r.Z)(function*(){if(v.persistence===g)return;const D=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=g,D?v.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,v,D="authUser"){return(0,r.Z)(function*(){if(!v.length)return new Y(_i(xr),g,D);const M=(yield Promise.all(v.map(function(){var ct=(0,r.Z)(function*(wt){if(yield wt._isAvailable())return wt});return function(wt){return ct.apply(this,arguments)}}()))).filter(ct=>ct);let N=M[0]||_i(xr);const X=on(D,g.config.apiKey,g.name);let me=null;for(const ct of v)try{const wt=yield ct._get(X);if(wt){const sn=hi._fromJSON(g,wt);ct!==N&&(me=sn),N=ct;break}}catch{}const je=M.filter(ct=>ct._shouldAllowMigration);return N._shouldAllowMigration&&je.length?(N=je[0],me&&(yield N._set(X,me.toJSON())),yield Promise.all(v.map(function(){var ct=(0,r.Z)(function*(wt){if(wt!==N)try{yield wt._remove(X)}catch{}});return function(wt){return ct.apply(this,arguments)}}())),new Y(N,g,D)):new Y(N,g,D)})()}}function z(w){const g=w.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(ie(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(L(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(We(g))return"Blackberry";if(Dt(g))return"Webos";if(Z(g))return"Safari";if((g.includes("chrome/")||O(g))&&!g.includes("edge/"))return"Chrome";if(be(g))return"Android";{const D=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function L(w=(0,j.z$)()){return/firefox\//i.test(w)}function Z(w=(0,j.z$)()){const g=w.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function O(w=(0,j.z$)()){return/crios\//i.test(w)}function ie(w=(0,j.z$)()){return/iemobile/i.test(w)}function be(w=(0,j.z$)()){return/android/i.test(w)}function We(w=(0,j.z$)()){return/blackberry/i.test(w)}function Dt(w=(0,j.z$)()){return/webos/i.test(w)}function Et(w=(0,j.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function _t(w=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function jt(w=(0,j.z$)()){return Et(w)||be(w)||Dt(w)||We(w)||/windows phone/i.test(w)||ie(w)}function Ki(w,g=[]){let v;switch(w){case"Browser":v=z((0,j.z$)());break;case"Worker":v=`${z((0,j.z$)())}-${w}`;break;default:v=w}const D=g.length?g.join(","):"FirebaseCore-web";return`${v}/JsCore/${P.SDK_VERSION}/${D}`}function le(){return(le=(0,r.Z)(function*(w){return(yield lt(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ue(w,g){return yt.apply(this,arguments)}function yt(){return(yt=(0,r.Z)(function*(w,g){return lt(w,"GET","/v2/recaptchaConfig",it(w,g))})).apply(this,arguments)}function Ut(w){return void 0!==w&&void 0!==w.getResponse}function Yt(w){return void 0!==w&&void 0!==w.enterprise}class pn{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(v=>"EMAIL_PASSWORD_PROVIDER"===v.provider&&"OFF"!==v.enforcementState)}}function ri(w){return new Promise((g,v)=>{const D=document.createElement("script");D.setAttribute("src",w),D.onload=g,D.onerror=M=>{const N=De("internal-error");N.customData=M,v(N)},D.type="text/javascript",D.charset="UTF-8",function Li(){var w,g;return null!==(g=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==g?g:document}().appendChild(D)})}function Xs(w){return`__${w}${Math.floor(1e6*Math.random())}`}class Gn{constructor(g){this.type="recaptcha-enterprise",this.auth=fi(g)}verify(g="verify",v=!1){var D=this;return(0,r.Z)(function*(){function N(){return N=(0,r.Z)(function*(me){if(!v){if(null==me.tenantId&&null!=me._agentRecaptchaConfig)return me._agentRecaptchaConfig.siteKey;if(null!=me.tenantId&&void 0!==me._tenantRecaptchaConfigs[me.tenantId])return me._tenantRecaptchaConfigs[me.tenantId].siteKey}return new Promise(function(){var je=(0,r.Z)(function*(ct,wt){Ue(me,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(sn=>{if(void 0!==sn.recaptchaKey){const vo=new pn(sn);return null==me.tenantId?me._agentRecaptchaConfig=vo:me._tenantRecaptchaConfigs[me.tenantId]=vo,ct(vo.siteKey)}wt(new Error("recaptcha Enterprise site key undefined"))}).catch(sn=>{wt(sn)})});return function(ct,wt){return je.apply(this,arguments)}}())}),N.apply(this,arguments)}function X(me,je,ct){const wt=window.grecaptcha;Yt(wt)?wt.enterprise.ready(()=>{wt.enterprise.execute(me,{action:g}).then(sn=>{je(sn)}).catch(()=>{je("NO_RECAPTCHA")})}):ct(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((me,je)=>{(function M(me){return N.apply(this,arguments)})(D.auth).then(ct=>{if(!v&&Yt(window.grecaptcha))X(ct,me,je);else{if(typeof window>"u")return void je(new Error("RecaptchaVerifier is only supported in browser"));ri("https://www.google.com/recaptcha/enterprise.js?render="+ct).then(()=>{X(ct,me,je)}).catch(wt=>{je(wt)})}}).catch(ct=>{je(ct)})})})()}}function ea(w,g,v){return xa.apply(this,arguments)}function xa(){return(xa=(0,r.Z)(function*(w,g,v,D=!1){const M=new Gn(w);let N;try{N=yield M.verify(v)}catch{N=yield M.verify(v,!0)}const X=Object.assign({},g);return Object.assign(X,D?{captchaResp:N}:{captchaResponse:N}),Object.assign(X,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(X,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),X})).apply(this,arguments)}class Om{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,v){const D=N=>new Promise((X,me)=>{try{X(g(N))}catch(je){me(je)}});D.onAbort=v,this.queue.push(D);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(g){var v=this;return(0,r.Z)(function*(){if(v.auth.currentUser===g)return;const D=[];try{for(const M of v.queue)yield M(g),M.onAbort&&D.push(M.onAbort)}catch(M){D.reverse();for(const N of D)try{N()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class cr{constructor(g,v,D,M){this.app=g,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=D,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z_(this),this.idTokenSubscription=new z_(this),this.beforeStateQueue=new Om(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(g,v){var D=this;return v&&(this._popupRedirectResolver=_i(v)),this._initializationPromise=this.queue((0,r.Z)(function*(){var M,N;if(!D._deleted&&(D.persistenceManager=yield Y.create(D,g),!D._deleted)){if(null!==(M=D._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(v),D.lastNotifiedUid=(null===(N=D.currentUser)||void 0===N?void 0:N.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,r.Z)(function*(){if(g._deleted)return;const v=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||v){if(g.currentUser&&v&&g.currentUser.uid===v.uid)return g._currentUser._assign(v),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(v,!0)}})()}initializeCurrentUser(g){var v=this;return(0,r.Z)(function*(){var D;const M=yield v.assertedPersistence.getCurrentUser();let N=M,X=!1;if(g&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const me=null===(D=v.redirectUser)||void 0===D?void 0:D._redirectEventId,je=N?._redirectEventId,ct=yield v.tryRedirectSignIn(g);(!me||me===je)&&ct?.user&&(N=ct.user,X=!0)}if(!N)return v.directlySetCurrentUser(null);if(!N._redirectEventId){if(X)try{yield v.beforeStateQueue.runMiddleware(N)}catch(me){N=M,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(me))}return N?v.reloadAndSetCurrentUserOrClear(N):v.directlySetCurrentUser(null)}return oe(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===N._redirectEventId?v.directlySetCurrentUser(N):v.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(g){var v=this;return(0,r.Z)(function*(){let D=null;try{D=yield v._popupRedirectResolver._completeRedirectFn(v,g,!0)}catch{yield v._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(g){var v=this;return(0,r.Z)(function*(){try{yield Oo(g)}catch(D){if("auth/network-request-failed"!==D?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function pe(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var g=this;return(0,r.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var v=this;return(0,r.Z)(function*(){const D=g?(0,j.m9)(g):null;return D&&oe(D.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(D&&D._clone(v))})()}_updateCurrentUser(g,v=!1){var D=this;return(0,r.Z)(function*(){if(!D._deleted)return g&&oe(D.tenantId===g.tenantId,D,"tenant-id-mismatch"),v||(yield D.beforeStateQueue.runMiddleware(g)),D.queue((0,r.Z)(function*(){yield D.directlySetCurrentUser(g),D.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,r.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var v=this;return this.queue((0,r.Z)(function*(){yield v.assertedPersistence.setPersistence(_i(g))}))}initializeRecaptchaConfig(){var g=this;return(0,r.Z)(function*(){const v=yield Ue(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),D=new pn(v);null==g.tenantId?g._agentRecaptchaConfig=D:g._tenantRecaptchaConfigs[g.tenantId]=D,D.emailPasswordEnabled&&new Gn(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new j.LL("auth","Firebase",g())}onAuthStateChanged(g,v,D){return this.registerStateListener(this.authStateSubscription,g,v,D)}beforeAuthStateChanged(g,v){return this.beforeStateQueue.pushCallback(g,v)}onIdTokenChanged(g,v,D){return this.registerStateListener(this.idTokenSubscription,g,v,D)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,v){var D=this;return(0,r.Z)(function*(){const M=yield D.getOrInitRedirectPersistenceManager(v);return null===g?M.removeCurrentUser():M.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var v=this;return(0,r.Z)(function*(){if(!v.redirectPersistenceManager){const D=g&&_i(g)||v._popupRedirectResolver;oe(D,v,"argument-error"),v.redirectPersistenceManager=yield Y.create(v,[_i(D._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(g){var v=this;return(0,r.Z)(function*(){var D,M;return v._isInitialized&&(yield v.queue((0,r.Z)(function*(){}))),(null===(D=v._currentUser)||void 0===D?void 0:D._redirectEventId)===g?v._currentUser:(null===(M=v.redirectUser)||void 0===M?void 0:M._redirectEventId)===g?v.redirectUser:null})()}_persistUserIfCurrent(g){var v=this;return(0,r.Z)(function*(){if(g===v.currentUser)return v.queue((0,r.Z)(function*(){return v.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(v=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,v,D,M){if(this._deleted)return()=>{};const N="function"==typeof v?v:v.next.bind(v),X=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(X,this,"internal-error"),X.then(()=>N(this.currentUser)),"function"==typeof v?g.addObserver(v,D,M):g.addObserver(v)}directlySetCurrentUser(g){var v=this;return(0,r.Z)(function*(){v.currentUser&&v.currentUser!==g&&v._currentUser._stopProactiveRefresh(),g&&v.isProactiveRefreshEnabled&&g._startProactiveRefresh(),v.currentUser=g,g?yield v.assertedPersistence.setCurrentUser(g):yield v.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Ki(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,r.Z)(function*(){var v;const D={"X-Client-Version":g.clientVersion};g.app.options.appId&&(D["X-Firebase-gmpid"]=g.app.options.appId);const M=yield null===(v=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();M&&(D["X-Firebase-Client"]=M);const N=yield g._getAppCheckToken();return N&&(D["X-Firebase-AppCheck"]=N),D})()}_getAppCheckToken(){var g=this;return(0,r.Z)(function*(){var v;const D=yield null===(v=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return D?.error&&function Ct(w,...g){Fe.logLevel<=ue.in.WARN&&Fe.warn(`Auth (${P.SDK_VERSION}): ${w}`,...g)}(`Error while retrieving App Check token: ${D.error}`),D?.token})()}}function fi(w){return(0,j.m9)(w)}class z_{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,j.ne)(v=>this.observer=v)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Jh(w,g,v){const D=fi(w);oe(D._canInitEmulator,D,"emulator-config-failed"),oe(/^https?:\/\//.test(g),D,"invalid-emulator-scheme");const M=!!v?.disableWarnings,N=Yc(g),{host:X,port:me}=function Ds(w){const g=Yc(w),v=/(\/\/)?([^?#/]+)/.exec(w.substr(g.length));if(!v)return{host:"",port:null};const D=v[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(D);if(M){const N=M[1];return{host:N,port:ol(D.substr(N.length+1))}}{const[N,X]=D.split(":");return{host:N,port:ol(X)}}}(g);D.config.emulator={url:`${N}//${X}${null===me?"":`:${me}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:X,port:me,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Xh(){function w(){const g=document.createElement("p"),v=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function Yc(w){const g=w.indexOf(":");return g<0?"":w.substr(0,g+1)}function ol(w){if(!w)return null;const g=Number(w);return isNaN(g)?null:g}class Gl{constructor(g,v){this.providerId=g,this.signInMethod=v}toJSON(){return rt("not implemented")}_getIdTokenResponse(g){return rt("not implemented")}_linkToIdToken(g,v){return rt("not implemented")}_getReauthenticationResolver(g){return rt("not implemented")}}function Yl(w,g){return fd.apply(this,arguments)}function fd(){return(fd=(0,r.Z)(function*(w,g){return lt(w,"POST","/v1/accounts:resetPassword",it(w,g))})).apply(this,arguments)}function Wl(w,g){return sl.apply(this,arguments)}function sl(){return(sl=(0,r.Z)(function*(w,g){return lt(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function zt(){return(zt=(0,r.Z)(function*(w,g){return lt(w,"POST","/v1/accounts:update",it(w,g))})).apply(this,arguments)}function Ui(w,g){return An.apply(this,arguments)}function An(){return(An=(0,r.Z)(function*(w,g){return fn(w,"POST","/v1/accounts:signInWithPassword",it(w,g))})).apply(this,arguments)}function Es(w,g){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,r.Z)(function*(w,g){return lt(w,"POST","/v1/accounts:sendOobCode",it(w,g))})).apply(this,arguments)}function Kl(){return(Kl=(0,r.Z)(function*(w,g){return Es(w,g)})).apply(this,arguments)}function al(w,g){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,r.Z)(function*(w,g){return Es(w,g)})).apply(this,arguments)}function tf(w,g){return pi.apply(this,arguments)}function pi(){return(pi=(0,r.Z)(function*(w,g){return Es(w,g)})).apply(this,arguments)}function qt(){return(qt=(0,r.Z)(function*(w,g){return Es(w,g)})).apply(this,arguments)}function Er(){return(Er=(0,r.Z)(function*(w,g){return fn(w,"POST","/v1/accounts:signInWithEmailLink",it(w,g))})).apply(this,arguments)}function Qi(){return(Qi=(0,r.Z)(function*(w,g){return fn(w,"POST","/v1/accounts:signInWithEmailLink",it(w,g))})).apply(this,arguments)}class Ts extends Gl{constructor(g,v,D,M=null){super("password",D),this._email=g,this._password=v,this._tenantId=M}static _fromEmailAndPassword(g,v){return new Ts(g,v,"password")}static _fromEmailAndCode(g,v,D=null){return new Ts(g,v,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(g){var v=this;return(0,r.Z)(function*(){var D;switch(v.signInMethod){case"password":const M={returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(D=g._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const N=yield ea(g,M,"signInWithPassword");return Ui(g,N)}return Ui(g,M).catch(function(){var N=(0,r.Z)(function*(X){if("auth/missing-recaptcha-token"===X.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const me=yield ea(g,M,"signInWithPassword");return Ui(g,me)}return Promise.reject(X)});return function(X){return N.apply(this,arguments)}}());case"emailLink":return function Jn(w,g){return Er.apply(this,arguments)}(g,{email:v._email,oobCode:v._password});default:se(g,"internal-error")}})()}_linkToIdToken(g,v){var D=this;return(0,r.Z)(function*(){switch(D.signInMethod){case"password":return Wl(g,{idToken:v,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function ll(w,g){return Qi.apply(this,arguments)}(g,{idToken:v,email:D._email,oobCode:D._password});default:se(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function In(w,g){return Po.apply(this,arguments)}function Po(){return(Po=(0,r.Z)(function*(w,g){return fn(w,"POST","/v1/accounts:signInWithIdp",it(w,g))})).apply(this,arguments)}class Mt extends Gl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const v=new Mt(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(v.idToken=g.idToken),g.accessToken&&(v.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(v.nonce=g.nonce),g.pendingToken&&(v.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(v.accessToken=g.oauthToken,v.secret=g.oauthTokenSecret):se("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:M}=v,N=(0,re._T)(v,["providerId","signInMethod"]);if(!D||!M)return null;const X=new Mt(D,M);return X.idToken=N.idToken||void 0,X.accessToken=N.accessToken||void 0,X.secret=N.secret,X.nonce=N.nonce,X.pendingToken=N.pendingToken||null,X}_getIdTokenResponse(g){return In(g,this.buildRequest())}_linkToIdToken(g,v){const D=this.buildRequest();return D.idToken=v,In(g,D)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,In(g,v)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),g.postBody=(0,j.xO)(v)}return g}}function Wc(){return(Wc=(0,r.Z)(function*(w,g){return lt(w,"POST","/v1/accounts:sendVerificationCode",it(w,g))})).apply(this,arguments)}function Yn(){return(Yn=(0,r.Z)(function*(w,g){return fn(w,"POST","/v1/accounts:signInWithPhoneNumber",it(w,g))})).apply(this,arguments)}function Ea(){return(Ea=(0,r.Z)(function*(w,g){const v=yield fn(w,"POST","/v1/accounts:signInWithPhoneNumber",it(w,g));if(v.temporaryProof)throw Ai(w,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Vi={USER_NOT_FOUND:"user-not-found"};function Qc(){return(Qc=(0,r.Z)(function*(w,g){return fn(w,"POST","/v1/accounts:signInWithPhoneNumber",it(w,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Vi)})).apply(this,arguments)}class Ji extends Gl{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,v){return new Ji({verificationId:g,verificationCode:v})}static _fromTokenResponse(g,v){return new Ji({phoneNumber:g,temporaryProof:v})}_getIdTokenResponse(g){return function ta(w,g){return Yn.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,v){return function Kc(w,g){return Ea.apply(this,arguments)}(g,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function cl(w,g){return Qc.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:v,verificationId:D,verificationCode:M}=this.params;return g&&v?{temporaryProof:g,phoneNumber:v}:{sessionInfo:D,code:M}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:v,verificationCode:D,phoneNumber:M,temporaryProof:N}=g;return D||v||M||N?new Ji({verificationId:v,verificationCode:D,phoneNumber:M,temporaryProof:N}):null}}class No{constructor(g){var v,D,M,N,X,me;const je=(0,j.zd)((0,j.pd)(g)),ct=null!==(v=je.apiKey)&&void 0!==v?v:null,wt=null!==(D=je.oobCode)&&void 0!==D?D:null,sn=function Tr(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=je.mode)&&void 0!==M?M:null);oe(ct&&wt&&sn,"argument-error"),this.apiKey=ct,this.operation=sn,this.code=wt,this.continueUrl=null!==(N=je.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(X=je.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(me=je.tenantId)&&void 0!==me?me:null}static parseLink(g){const v=function Jc(w){const g=(0,j.zd)((0,j.pd)(w)).link,v=g?(0,j.zd)((0,j.pd)(g)).deep_link_id:null,D=(0,j.zd)((0,j.pd)(w)).deep_link_id;return(D?(0,j.zd)((0,j.pd)(D)).link:null)||D||v||g||w}(g);try{return new No(v)}catch{return null}}}let Nm=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(v,D){return Ts._fromEmailAndPassword(v,D)}static credentialWithLink(v,D){const M=No.parseLink(D);return oe(M,"argument-error"),Ts._fromEmailAndCode(v,M.code,M.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Jo{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Ta extends Jo{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Jr extends Ta{static credentialFromJSON(g){const v="string"==typeof g?JSON.parse(g):g;return oe("providerId"in v&&"signInMethod"in v,"argument-error"),Mt._fromParams(v)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return oe(g.idToken||g.accessToken,"argument-error"),Mt._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Jr.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Jr.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:D,oauthTokenSecret:M,pendingToken:N,nonce:X,providerId:me}=g;if(!D&&!M&&!v&&!N||!me)return null;try{return new Jr(me)._credential({idToken:v,accessToken:D,nonce:X,pendingToken:N})}catch{return null}}}let Aa=(()=>{class w extends Ta{constructor(){super("facebook.com")}static credential(v){return Mt._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),ul=(()=>{class w extends Ta{constructor(){super("google.com"),this.addScope("profile")}static credential(v,D){return Mt._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:D})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:D,oauthAccessToken:M}=v;if(!D&&!M)return null;try{return w.credential(D,M)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),dl=(()=>{class w extends Ta{constructor(){super("github.com")}static credential(v){return Mt._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class Xl extends Gl{constructor(g,v){super(g,g),this.pendingToken=v}_getIdTokenResponse(g){return In(g,this.buildRequest())}_linkToIdToken(g,v){const D=this.buildRequest();return D.idToken=v,In(g,D)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,In(g,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:M,pendingToken:N}=v;return D&&M&&N&&D===M?new Xl(D,N):null}static _create(g,v){return new Xl(g,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class dr extends Jo{constructor(g){oe(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return dr.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return dr.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const v=Xl.fromJSON(g);return oe(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:v,providerId:D}=g;if(!v||!D)return null;try{return Xl._create(D,v)}catch{return null}}}let pd=(()=>{class w extends Ta{constructor(){super("twitter.com")}static credential(v,D){return Mt._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:D})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:D,oauthTokenSecret:M}=v;if(!D||!M)return null;try{return w.credential(D,M)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Fo(w,g){return na.apply(this,arguments)}function na(){return(na=(0,r.Z)(function*(w,g){return fn(w,"POST","/v1/accounts:signUp",it(w,g))})).apply(this,arguments)}class Vn{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,v,D,M=!1){return(0,r.Z)(function*(){const N=yield hi._fromIdTokenResponse(g,D,M),X=hl(D);return new Vn({user:N,providerId:X,_tokenResponse:D,operationType:v})})()}static _forOperation(g,v,D){return(0,r.Z)(function*(){yield g._updateTokensIfNecessary(D,!0);const M=hl(D);return new Vn({user:g,providerId:M,_tokenResponse:D,operationType:v})})()}}function hl(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function fl(w){return nf.apply(this,arguments)}function nf(){return(nf=(0,r.Z)(function*(w){var g;const v=fi(w);if(yield v._initializationPromise,null!==(g=v.currentUser)&&void 0!==g&&g.isAnonymous)return new Vn({user:v.currentUser,providerId:null,operationType:"signIn"});const D=yield Fo(v,{returnSecureToken:!0}),M=yield Vn._fromIdTokenResponse(v,"signIn",D,!0);return yield v._updateCurrentUser(M.user),M})).apply(this,arguments)}class Xc extends j.ZR{constructor(g,v,D,M){var N;super(v.code,v.message),this.operationType=D,this.user=M,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:g.name,tenantId:null!==(N=g.tenantId)&&void 0!==N?N:void 0,_serverResponse:v.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(g,v,D,M){return new Xc(g,v,D,M)}}function md(w,g,v,D){return("reauthenticate"===g?v._getReauthenticationResolver(w):v._getIdTokenResponse(w)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?Xc._fromErrorAndOperation(w,N,g,D):N})}function Fm(w){return new Set(w.map(({providerId:g})=>g).filter(g=>!!g))}function G_(w,g){return rf.apply(this,arguments)}function rf(){return rf=(0,r.Z)(function*(w,g){const v=(0,j.m9)(w);yield eu(!0,v,g);const{providerUserInfo:D}=yield function ti(w,g){return Qr.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[g]}),M=Fm(D||[]);return v.providerData=v.providerData.filter(N=>M.has(N.providerId)),M.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),rf.apply(this,arguments)}function Xo(w,g){return gd.apply(this,arguments)}function gd(){return(gd=(0,r.Z)(function*(w,g,v=!1){const D=yield rn(w,g._linkToIdToken(w.auth,yield w.getIdToken()),v);return Vn._forOperation(w,"link",D)})).apply(this,arguments)}function eu(w,g,v){return tu.apply(this,arguments)}function tu(){return(tu=(0,r.Z)(function*(w,g,v){yield Oo(g);const M=!1===w?"provider-already-linked":"no-such-provider";oe(Fm(g.providerData).has(v)===w,g.auth,M)})).apply(this,arguments)}function Lm(w,g){return sf.apply(this,arguments)}function sf(){return(sf=(0,r.Z)(function*(w,g,v=!1){const{auth:D}=w,M="reauthenticate";try{const N=yield rn(w,md(D,M,g,w),v);oe(N.idToken,D,"internal-error");const X=gt(N.idToken);oe(X,D,"internal-error");const{sub:me}=X;return oe(w.uid===me,D,"user-mismatch"),Vn._forOperation(w,M,N)}catch(N){throw"auth/user-not-found"===N?.code&&se(D,"user-mismatch"),N}})).apply(this,arguments)}function af(w,g){return _d.apply(this,arguments)}function _d(){return(_d=(0,r.Z)(function*(w,g,v=!1){const D="signIn",M=yield md(w,D,g),N=yield Vn._fromIdTokenResponse(w,D,M);return v||(yield w._updateCurrentUser(N.user)),N})).apply(this,arguments)}function vd(w,g){return nu.apply(this,arguments)}function nu(){return(nu=(0,r.Z)(function*(w,g){return af(fi(w),g)})).apply(this,arguments)}function iu(w,g){return Um.apply(this,arguments)}function Um(){return(Um=(0,r.Z)(function*(w,g){const v=(0,j.m9)(w);return yield eu(!1,v,g.providerId),Xo(v,g)})).apply(this,arguments)}function lf(w,g){return oi.apply(this,arguments)}function oi(){return(oi=(0,r.Z)(function*(w,g){return Lm((0,j.m9)(w),g)})).apply(this,arguments)}function yd(){return(yd=(0,r.Z)(function*(w,g){return fn(w,"POST","/v1/accounts:signInWithCustomToken",it(w,g))})).apply(this,arguments)}function SD(w,g){return Lo.apply(this,arguments)}function Lo(){return Lo=(0,r.Z)(function*(w,g){const v=fi(w),D=yield function pl(w,g){return yd.apply(this,arguments)}(v,{token:g,returnSecureToken:!0}),M=yield Vn._fromIdTokenResponse(v,"signIn",D);return yield v._updateCurrentUser(M.user),M}),Lo.apply(this,arguments)}class Xr{constructor(g,v){this.factorId=g,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(g,v){return"phoneInfo"in v?cf._fromServerResponse(g,v):"totpInfo"in v?ec._fromServerResponse(g,v):se(g,"internal-error")}}class cf extends Xr{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,v){return new cf(v)}}class ec extends Xr{constructor(g){super("totp",g)}static _fromServerResponse(g,v){return new ec(v)}}function tc(w,g,v){var D;oe((null===(D=v.url)||void 0===D?void 0:D.length)>0,w,"invalid-continue-uri"),oe(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),g.continueUrl=v.url,g.dynamicLinkDomain=v.dynamicLinkDomain,g.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(oe(v.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),g.iOSBundleId=v.iOS.bundleId),v.android&&(oe(v.android.packageName.length>0,w,"missing-android-pkg-name"),g.androidInstallApp=v.android.installApp,g.androidMinimumVersionCode=v.android.minimumVersion,g.androidPackageName=v.android.packageName)}function Y_(w,g,v){return uf.apply(this,arguments)}function uf(){return uf=(0,r.Z)(function*(w,g,v){var D;const M=fi(w),N={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(D=M._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const X=yield ea(M,N,"getOobCode",!0);v&&tc(M,X,v),yield al(M,X)}else v&&tc(M,N,v),yield al(M,N).catch(function(){var X=(0,r.Z)(function*(me){if("auth/missing-recaptcha-token"!==me.code)return Promise.reject(me);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const je=yield ea(M,N,"getOobCode",!0);v&&tc(M,je,v),yield al(M,je)}});return function(me){return X.apply(this,arguments)}}())}),uf.apply(this,arguments)}function eo(w,g,v){return ml.apply(this,arguments)}function ml(){return(ml=(0,r.Z)(function*(w,g,v){yield Yl((0,j.m9)(w),{oobCode:g,newPassword:v})})).apply(this,arguments)}function Zi(w,g){return gl.apply(this,arguments)}function gl(){return gl=(0,r.Z)(function*(w,g){yield function Pm(w,g){return zt.apply(this,arguments)}((0,j.m9)(w),{oobCode:g})}),gl.apply(this,arguments)}function Uo(w,g){return _l.apply(this,arguments)}function _l(){return(_l=(0,r.Z)(function*(w,g){const v=(0,j.m9)(w),D=yield Yl(v,{oobCode:g}),M=D.requestType;switch(oe(M,v,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(D.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(D.mfaInfo,v,"internal-error");default:oe(D.email,v,"internal-error")}let N=null;return D.mfaInfo&&(N=Xr._fromServerResponse(fi(v),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:N},operation:M}})).apply(this,arguments)}function ru(w,g){return ia.apply(this,arguments)}function ia(){return(ia=(0,r.Z)(function*(w,g){const{data:v}=yield Uo((0,j.m9)(w),g);return v.email})).apply(this,arguments)}function ou(w,g,v){return bd.apply(this,arguments)}function bd(){return bd=(0,r.Z)(function*(w,g,v){var D;const M=fi(w),N={returnSecureToken:!0,email:g,password:v,clientType:"CLIENT_TYPE_WEB"};let X;if(null!==(D=M._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const ct=yield ea(M,N,"signUpPassword");X=Fo(M,ct)}else X=Fo(M,N).catch(function(){var ct=(0,r.Z)(function*(wt){if("auth/missing-recaptcha-token"===wt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const sn=yield ea(M,N,"signUpPassword");return Fo(M,sn)}return Promise.reject(wt)});return function(wt){return ct.apply(this,arguments)}}());const me=yield X.catch(ct=>Promise.reject(ct)),je=yield Vn._fromIdTokenResponse(M,"signIn",me);return yield M._updateCurrentUser(je.user),je}),bd.apply(this,arguments)}function wd(w,g,v){return vd((0,j.m9)(w),Nm.credential(g,v))}function Cd(w,g,v){return vl.apply(this,arguments)}function vl(){return vl=(0,r.Z)(function*(w,g,v){var D;const M=fi(w),N={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function X(me,je){oe(je.handleCodeInApp,M,"argument-error"),je&&tc(M,me,je)}if(null!==(D=M._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const me=yield ea(M,N,"getOobCode",!0);X(me,v),yield tf(M,me)}else X(N,v),yield tf(M,N).catch(function(){var me=(0,r.Z)(function*(je){if("auth/missing-recaptcha-token"!==je.code)return Promise.reject(je);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ct=yield ea(M,N,"getOobCode",!0);X(ct,v),yield tf(M,ct)}});return function(je){return me.apply(this,arguments)}}())}),vl.apply(this,arguments)}function nc(w,g){const v=No.parseLink(g);return"EMAIL_SIGNIN"===v?.operation}function W_(w,g,v){return er.apply(this,arguments)}function er(){return(er=(0,r.Z)(function*(w,g,v){const D=(0,j.m9)(w),M=Nm.credentialWithLink(g,v||ln());return oe(M._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),vd(D,M)})).apply(this,arguments)}function su(){return(su=(0,r.Z)(function*(w,g){return lt(w,"POST","/v1/accounts:createAuthUri",it(w,g))})).apply(this,arguments)}function Vm(w,g){return au.apply(this,arguments)}function au(){return au=(0,r.Z)(function*(w,g){const D={identifier:g,continueUri:Ti()?ln():"http://localhost"},{signinMethods:M}=yield function U0(w,g){return su.apply(this,arguments)}((0,j.m9)(w),D);return M||[]}),au.apply(this,arguments)}function Zm(w,g){return yl.apply(this,arguments)}function yl(){return yl=(0,r.Z)(function*(w,g){const v=(0,j.m9)(w),M={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};g&&tc(v.auth,M,g);const{email:N}=yield function ef(w,g){return Kl.apply(this,arguments)}(v.auth,M);N!==w.email&&(yield w.reload())}),yl.apply(this,arguments)}function xd(w,g,v){return ic.apply(this,arguments)}function ic(){return ic=(0,r.Z)(function*(w,g,v){const D=(0,j.m9)(w),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:g};v&&tc(D.auth,N,v);const{email:X}=yield function ot(w,g){return qt.apply(this,arguments)}(D.auth,N);X!==w.email&&(yield w.reload())}),ic.apply(this,arguments)}function rc(){return(rc=(0,r.Z)(function*(w,g){return lt(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function hf(w,g){return ff.apply(this,arguments)}function ff(){return ff=(0,r.Z)(function*(w,{displayName:g,photoURL:v}){if(void 0===g&&void 0===v)return;const D=(0,j.m9)(w),N={idToken:yield D.getIdToken(),displayName:g,photoUrl:v,returnSecureToken:!0},X=yield rn(D,function df(w,g){return rc.apply(this,arguments)}(D.auth,N));D.displayName=X.displayName||null,D.photoURL=X.photoUrl||null;const me=D.providerData.find(({providerId:je})=>"password"===je);me&&(me.displayName=D.displayName,me.photoURL=D.photoURL),yield D._updateTokensIfNecessary(X)}),ff.apply(this,arguments)}function lu(w,g){return go((0,j.m9)(w),g,null)}function Bm(w,g){return go((0,j.m9)(w),null,g)}function go(w,g,v){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,r.Z)(function*(w,g,v){const{auth:D}=w,N={idToken:yield w.getIdToken(),returnSecureToken:!0};g&&(N.email=g),v&&(N.password=v);const X=yield rn(w,Wl(D,N));yield w._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class Cn{constructor(g,v,D={}){this.isNewUser=g,this.providerId=v,this.profile=D}}class Td extends Cn{constructor(g,v,D,M){super(g,v,D),this.username=M}}class Ad extends Cn{constructor(g,v){super(g,"facebook.com",v)}}class Ar extends Td{constructor(g,v){super(g,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class cu extends Cn{constructor(g,v){super(g,"google.com",v)}}class Id extends Td{constructor(g,v,D){super(g,"twitter.com",v,D)}}function ra(w){const{user:g,_tokenResponse:v}=w;return g.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Ed(w){var g,v;if(!w)return null;const{providerId:D}=w,M=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},N=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!D&&w?.idToken){const X=null===(v=null===(g=gt(w.idToken))||void 0===g?void 0:g.firebase)||void 0===v?void 0:v.sign_in_provider;if(X)return new Cn(N,"anonymous"!==X&&"custom"!==X?X:null)}if(!D)return null;switch(D){case"facebook.com":return new Ad(N,M);case"github.com":return new Ar(N,M);case"google.com":return new cu(N,M);case"twitter.com":return new Id(N,M,w.screenName||null);case"custom":case"anonymous":return new Cn(N,null);default:return new Cn(N,D,M)}}(v)}function oa(w,g,v,D){return(0,j.m9)(w).onIdTokenChanged(g,v,D)}function sa(w,g,v,D){return(0,j.m9)(w).onAuthStateChanged(g,v,D)}function uu(w){return(0,j.m9)(w).signOut()}class es{constructor(g,v,D){this.type=g,this.credential=v,this.auth=D}static _fromIdtoken(g,v){return new es("enroll",g,v)}static _fromMfaPendingCredential(g){return new es("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var v,D;if(g?.multiFactorSession){if(null!==(v=g.multiFactorSession)&&void 0!==v&&v.pendingCredential)return es._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(D=g.multiFactorSession)&&void 0!==D&&D.idToken)return es._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Rt{constructor(g,v,D){this.session=g,this.hints=v,this.signInResolver=D}static _fromError(g,v){const D=fi(g),M=v.customData._serverResponse,N=(M.mfaInfo||[]).map(me=>Xr._fromServerResponse(D,me));oe(M.mfaPendingCredential,D,"internal-error");const X=es._fromMfaPendingCredential(M.mfaPendingCredential);return new Rt(X,N,function(){var me=(0,r.Z)(function*(je){const ct=yield je._process(D,X);delete M.mfaInfo,delete M.mfaPendingCredential;const wt=Object.assign(Object.assign({},M),{idToken:ct.idToken,refreshToken:ct.refreshToken});switch(v.operationType){case"signIn":const sn=yield Vn._fromIdTokenResponse(D,v.operationType,wt);return yield D._updateCurrentUser(sn.user),sn;case"reauthenticate":return oe(v.user,D,"internal-error"),Vn._forOperation(v.user,v.operationType,wt);default:se(D,"internal-error")}});return function(je){return me.apply(this,arguments)}}())}resolveSignIn(g){var v=this;return(0,r.Z)(function*(){return v.signInResolver(g)})()}}function wl(w,g){var v;const D=(0,j.m9)(w),M=g;return oe(g.customData.operationType,D,"argument-error"),oe(null===(v=M.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,D,"argument-error"),Rt._fromError(D,M)}class aa{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(D=>Xr._fromServerResponse(g.auth,D)))})}static _fromUser(g){return new aa(g)}getSession(){var g=this;return(0,r.Z)(function*(){return es._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,v){var D=this;return(0,r.Z)(function*(){const M=g,N=yield D.getSession(),X=yield rn(D.user,M._process(D.user.auth,N,v));return yield D.user._updateTokensIfNecessary(X),D.user.reload()})()}unenroll(g){var v=this;return(0,r.Z)(function*(){const D="string"==typeof g?g:g.uid,M=yield v.user.getIdToken();try{const N=yield rn(v.user,function _f(w,g){return lt(w,"POST","/v2/accounts/mfaEnrollment:withdraw",it(w,g))}(v.user.auth,{idToken:M,mfaEnrollmentId:D}));v.enrolledFactors=v.enrolledFactors.filter(({uid:X})=>X!==D),yield v.user._updateTokensIfNecessary(N),yield v.user.reload()}catch(N){throw N}})()}}const oc=new WeakMap;function Rd(w){const g=(0,j.m9)(w);return oc.has(g)||oc.set(g,aa._fromUser(g)),oc.get(g)}const Ia="__sak";class hu{constructor(g,v){this.storageRetriever=g,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Ia,"1"),this.storage.removeItem(Ia),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,v){return this.storage.setItem(g,JSON.stringify(v)),Promise.resolve()}_get(g){const v=this.storage.getItem(g);return Promise.resolve(v?JSON.parse(v):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const sc=(()=>{class w extends hu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,D)=>this.onStorageEvent(v,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function qm(){const w=(0,j.z$)();return Z(w)||Et(w)}()&&function Fi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=jt(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const D of Object.keys(this.listeners)){const M=this.storage.getItem(D),N=this.localCache[D];M!==N&&v(D,N,M)}}onStorageEvent(v,D=!1){if(!v.key)return void this.forAllChangedKeys((me,je,ct)=>{this.notifyListeners(me,ct)});const M=v.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const me=this.storage.getItem(M);if(v.newValue!==me)null!==v.newValue?this.storage.setItem(M,v.newValue):this.storage.removeItem(M);else if(this.localCache[M]===v.newValue&&!D)return}const N=()=>{const me=this.storage.getItem(M);!D&&this.localCache[M]===me||this.notifyListeners(M,me)},X=this.storage.getItem(M);!function Mn(){return(0,j.w1)()&&10===document.documentMode}()||X===v.newValue||v.newValue===v.oldValue?N():setTimeout(N,10)}notifyListeners(v,D){this.localCache[v]=D;const M=this.listeners[v];if(M)for(const N of Array.from(M))N(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,D,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:D,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(D)}_removeListener(v,D){this.listeners[v]&&(this.listeners[v].delete(D),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,D){var M=()=>super._set,N=this;return(0,r.Z)(function*(){yield M().call(N,v,D),N.localCache[v]=JSON.stringify(D)})()}_get(v){var D=()=>super._get,M=this;return(0,r.Z)(function*(){const N=yield D().call(M,v);return M.localCache[v]=JSON.stringify(N),N})()}_remove(v){var D=()=>super._remove,M=this;return(0,r.Z)(function*(){yield D().call(M,v),delete M.localCache[v]})()}}return w.type="LOCAL",w})(),fu=(()=>{class w extends hu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,D){}_removeListener(v,D){}}return w.type="SESSION",w})();let As=(()=>{class w{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const D=this.receivers.find(N=>N.isListeningto(v));if(D)return D;const M=new w(v);return this.receivers.push(M),M}isListeningto(v){return this.eventTarget===v}handleEvent(v){var D=this;return(0,r.Z)(function*(){const M=v,{eventId:N,eventType:X,data:me}=M.data,je=D.handlersMap[X];if(!je?.size)return;M.ports[0].postMessage({status:"ack",eventId:N,eventType:X});const ct=Array.from(je).map(function(){var sn=(0,r.Z)(function*(vo){return vo(M.origin,me)});return function(vo){return sn.apply(this,arguments)}}()),wt=yield function ac(w){return Promise.all(w.map(function(){var g=(0,r.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(D){return{fulfilled:!1,reason:D}}});return function(v){return g.apply(this,arguments)}}()))}(ct);M.ports[0].postMessage({status:"done",eventId:N,eventType:X,response:wt})})()}_subscribe(v,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(D)}_unsubscribe(v,D){this.handlersMap[v]&&D&&this.handlersMap[v].delete(D),(!D||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Is(w="",g=10){let v="";for(let D=0;D<g;D++)v+=Math.floor(10*Math.random());return w+v}class vf{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,v,D=50){var M=this;return(0,r.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let X,me;return new Promise((je,ct)=>{const wt=Is("",20);N.port1.start();const sn=setTimeout(()=>{ct(new Error("unsupported_event"))},D);me={messageChannel:N,onMessage(vo){const Pa=vo;if(Pa.data.eventId===wt)switch(Pa.data.status){case"ack":clearTimeout(sn),X=setTimeout(()=>{ct(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),je(Pa.data.response);break;default:clearTimeout(sn),clearTimeout(X),ct(new Error("invalid_response"))}}},M.handlers.add(me),N.port1.addEventListener("message",me.onMessage),M.target.postMessage({eventType:g,eventId:wt,data:v},[N.port2])}).finally(()=>{me&&M.removeMessageHandler(me)})})()}}function Bi(){return window}function lc(){return typeof Bi().WorkerGlobalScope<"u"&&"function"==typeof Bi().importScripts}function Vo(){return(Vo=(0,r.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const kn="firebaseLocalStorageDb",Si="firebaseLocalStorage",Pd="fbase_key";class Sa{constructor(g){this.request=g}toPromise(){return new Promise((g,v)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Ma(w,g){return w.transaction([Si],g?"readwrite":"readonly").objectStore(Si)}function pu(){const w=indexedDB.open(kn,1);return new Promise((g,v)=>{w.addEventListener("error",()=>{v(w.error)}),w.addEventListener("upgradeneeded",()=>{const D=w.result;try{D.createObjectStore(Si,{keyPath:Pd})}catch(M){v(M)}}),w.addEventListener("success",(0,r.Z)(function*(){const D=w.result;D.objectStoreNames.contains(Si)?g(D):(D.close(),yield function wf(){const w=indexedDB.deleteDatabase(kn);return new Sa(w).toPromise()}(),g(yield pu()))}))})}function Nd(w,g,v){return cc.apply(this,arguments)}function cc(){return(cc=(0,r.Z)(function*(w,g,v){const D=Ma(w,!0).put({[Pd]:g,value:v});return new Sa(D).toPromise()})).apply(this,arguments)}function ca(){return(ca=(0,r.Z)(function*(w,g){const v=Ma(w,!1).get(g),D=yield new Sa(v).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function ts(w,g){const v=Ma(w,!0).delete(g);return new Sa(v).toPromise()}const uc=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,r.Z)(function*(){return v.db||(v.db=yield pu()),v.db})()}_withRetries(v){var D=this;return(0,r.Z)(function*(){let M=0;for(;;)try{const N=yield D._openDb();return yield v(N)}catch(N){if(M++>3)throw N;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,r.Z)(function*(){return lc()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,r.Z)(function*(){v.receiver=As._getInstance(function la(){return lc()?self:null}()),v.receiver._subscribe("keyChanged",function(){var D=(0,r.Z)(function*(M,N){return{keyProcessed:(yield v._poll()).includes(N.key)}});return function(M,N){return D.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var D=(0,r.Z)(function*(M,N){return["keyChanged"]});return function(M,N){return D.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,r.Z)(function*(){var D,M;if(v.activeServiceWorker=yield function Lr(){return Vo.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new vf(v.activeServiceWorker);const N=yield v.sender._send("ping",{},800);N&&null!==(D=N[0])&&void 0!==D&&D.fulfilled&&null!==(M=N[0])&&void 0!==M&&M.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var D=this;return(0,r.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function bf(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:v},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,r.Z)(function*(){try{if(!indexedDB)return!1;const v=yield pu();return yield Nd(v,Ia,"1"),yield ts(v,Ia),!0}catch{}return!1})()}_withPendingWrite(v){var D=this;return(0,r.Z)(function*(){D.pendingWrites++;try{yield v()}finally{D.pendingWrites--}})()}_set(v,D){var M=this;return(0,r.Z)(function*(){return M._withPendingWrite((0,r.Z)(function*(){return yield M._withRetries(N=>Nd(N,v,D)),M.localCache[v]=D,M.notifyServiceWorker(v)}))})()}_get(v){var D=this;return(0,r.Z)(function*(){const M=yield D._withRetries(N=>function Fd(w,g){return ca.apply(this,arguments)}(N,v));return D.localCache[v]=M,M})()}_remove(v){var D=this;return(0,r.Z)(function*(){return D._withPendingWrite((0,r.Z)(function*(){return yield D._withRetries(M=>ts(M,v)),delete D.localCache[v],D.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,r.Z)(function*(){const D=yield v._withRetries(X=>{const me=Ma(X,!1).getAll();return new Sa(me).toPromise()});if(!D)return[];if(0!==v.pendingWrites)return[];const M=[],N=new Set;for(const{fbase_key:X,value:me}of D)N.add(X),JSON.stringify(v.localCache[X])!==JSON.stringify(me)&&(v.notifyListeners(X,me),M.push(X));for(const X of Object.keys(v.localCache))v.localCache[X]&&!N.has(X)&&(v.notifyListeners(X,null),M.push(X));return M})()}notifyListeners(v,D){this.localCache[v]=D;const M=this.listeners[v];if(M)for(const N of Array.from(M))N(D)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,r.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(D)}_removeListener(v,D){this.listeners[v]&&(this.listeners[v].delete(D),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),mu=1e12;class Df{constructor(g){this.auth=g,this.counter=mu,this._widgets=new Map}render(g,v){const D=this.counter;return this._widgets.set(D,new Ef(g,this.auth.name,v||{})),this.counter++,D}reset(g){var v;const D=g||mu;null===(v=this._widgets.get(D))||void 0===v||v.delete(),this._widgets.delete(D)}getResponse(g){var v;return(null===(v=this._widgets.get(g||mu))||void 0===v?void 0:v.getResponse())||""}execute(g){var v=this;return(0,r.Z)(function*(){var D;return null===(D=v._widgets.get(g||mu))||void 0===D||D.execute(),""})()}}class Ef{constructor(g,v,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof g?document.getElementById(g):g;oe(M,"argument-error",{appName:v}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Tf(w){const g=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<w;D++)g.push(v.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":v}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ud=Xs("rcb"),zm=new Ce(3e4,6e4);class ns{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Bi().grecaptcha)||void 0===g||!g.render)}load(g,v=""){return oe(function Af(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(v),g,"argument-error"),this.shouldResolveImmediately(v)&&Ut(Bi().grecaptcha)?Promise.resolve(Bi().grecaptcha):new Promise((D,M)=>{const N=Bi().setTimeout(()=>{M(De(g,"network-request-failed"))},zm.get());Bi()[Ud]=()=>{Bi().clearTimeout(N),delete Bi()[Ud];const me=Bi().grecaptcha;if(!me||!Ut(me))return void M(De(g,"internal-error"));const je=me.render;me.render=(ct,wt)=>{const sn=je(ct,wt);return this.counter++,sn},this.hostLanguage=v,D(me)},ri(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:Ud,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(N),M(De(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var v;return!(null===(v=Bi().grecaptcha)||void 0===v||!v.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class dc{load(g){return(0,r.Z)(function*(){return new Df(g)})()}clearedOneInstance(){}}const gu="recaptcha",hc={theme:"light",type:"image"};class If{constructor(g,v=Object.assign({},hc),D){this.parameters=v,this.type=gu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fi(D),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof g?document.getElementById(g):g;oe(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new dc:new ns,this.validateStartingState()}verify(){var g=this;return(0,r.Z)(function*(){g.assertNotDestroyed();const v=yield g.render(),D=g.getAssertedRecaptcha();return D.getResponse(v)||new Promise(N=>{const X=me=>{me&&(g.tokenChangeListeners.delete(X),N(me))};g.tokenChangeListeners.add(X),g.isInvisible&&D.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return v=>{if(this.tokenChangeListeners.forEach(D=>D(v)),"function"==typeof g)g(v);else if("string"==typeof g){const D=Bi()[g];"function"==typeof D&&D(v)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,r.Z)(function*(){if(yield g.init(),!g.widgetId){let v=g.container;if(!g.isInvisible){const D=document.createElement("div");v.appendChild(D),v=D}g.widgetId=g.getAssertedRecaptcha().render(v,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,r.Z)(function*(){oe(Ti()&&!lc(),g.auth,"internal-error"),yield function Zd(){let w=null;return new Promise(g=>{"complete"!==document.readyState?(w=()=>g(),window.addEventListener("load",w)):g()}).catch(g=>{throw w&&window.removeEventListener("load",w),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const v=yield function _e(w){return le.apply(this,arguments)}(g.auth);oe(v,g.auth,"internal-error"),g.parameters.sitekey=v})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Bd{constructor(g,v){this.verificationId=g,this.onConfirmation=v}confirm(g){const v=Ji._fromVerification(this.verificationId,g);return this.onConfirmation(v)}}function Sf(w,g,v){return _n.apply(this,arguments)}function _n(){return(_n=(0,r.Z)(function*(w,g,v){const D=fi(w),M=yield _u(D,g,(0,j.m9)(v));return new Bd(M,N=>vd(D,N))})).apply(this,arguments)}function Kn(w,g,v){return qd.apply(this,arguments)}function qd(){return(qd=(0,r.Z)(function*(w,g,v){const D=(0,j.m9)(w);yield eu(!1,D,"phone");const M=yield _u(D.auth,g,(0,j.m9)(v));return new Bd(M,N=>iu(D,N))})).apply(this,arguments)}function Mf(w,g,v){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,r.Z)(function*(w,g,v){const D=(0,j.m9)(w),M=yield _u(D.auth,g,(0,j.m9)(v));return new Bd(M,N=>lf(D,N))})).apply(this,arguments)}function _u(w,g,v){return fc.apply(this,arguments)}function fc(){return fc=(0,r.Z)(function*(w,g,v){var D;const M=yield v.verify();try{let N;if(oe("string"==typeof M,w,"argument-error"),oe(v.type===gu,w,"argument-error"),N="string"==typeof g?{phoneNumber:g}:g,"session"in N){const X=N.session;if("phoneNumber"in N)return oe("enroll"===X.type,w,"internal-error"),(yield function gf(w,g){return lt(w,"POST","/v2/accounts/mfaEnrollment:start",it(w,g))}(w,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{oe("signin"===X.type,w,"internal-error");const me=(null===(D=N.multiFactorHint)||void 0===D?void 0:D.uid)||N.multiFactorUid;return oe(me,w,"missing-multi-factor-info"),(yield function J_(w,g){return lt(w,"POST","/v2/accounts/mfaSignIn:start",it(w,g))}(w,{mfaPendingCredential:X.credential,mfaEnrollmentId:me,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield function Jl(w,g){return Wc.apply(this,arguments)}(w,{phoneNumber:N.phoneNumber,recaptchaToken:M});return X}}finally{v._reset()}}),fc.apply(this,arguments)}function $m(w,g){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,r.Z)(function*(w,g){yield Xo((0,j.m9)(w),g)})).apply(this,arguments)}let pc=(()=>{class w{constructor(v){this.providerId=w.PROVIDER_ID,this.auth=fi(v)}verifyPhoneNumber(v,D){return _u(this.auth,v,(0,j.m9)(D))}static credential(v,D){return Ji._fromVerification(v,D)}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:D,temporaryProof:M}=v;return D&&M?Ji._fromTokenResponse(D,M):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function bn(w,g){return g?_i(g):(oe(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class Ke extends Gl{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return In(g,this._buildIdpRequest())}_linkToIdToken(g,v){return In(g,this._buildIdpRequest(v))}_getReauthenticationResolver(g){return In(g,this._buildIdpRequest())}_buildIdpRequest(g){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(v.idToken=g),v}}function is(w){return af(w.auth,new Ke(w),w.bypassAuthState)}function mc(w){const{auth:g,user:v}=w;return oe(v,g,"internal-error"),Lm(v,new Ke(w),w.bypassAuthState)}function Cl(w){return rs.apply(this,arguments)}function rs(){return(rs=(0,r.Z)(function*(w){const{auth:g,user:v}=w;return oe(v,g,"internal-error"),Xo(v,new Ke(w),w.bypassAuthState)})).apply(this,arguments)}class kf{constructor(g,v,D,M,N=!1){this.auth=g,this.resolver=D,this.user=M,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var g=this;return new Promise(function(){var v=(0,r.Z)(function*(D,M){g.pendingPromise={resolve:D,reject:M};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(N){g.reject(N)}});return function(D,M){return v.apply(this,arguments)}}())}onAuthEvent(g){var v=this;return(0,r.Z)(function*(){const{urlResponse:D,sessionId:M,postBody:N,tenantId:X,error:me,type:je}=g;if(me)return void v.reject(me);const ct={auth:v.auth,requestUri:D,sessionId:M,tenantId:X||void 0,postBody:N||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(je)(ct))}catch(wt){v.reject(wt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return is;case"linkViaPopup":case"linkViaRedirect":return Cl;case"reauthViaPopup":case"reauthViaRedirect":return mc;default:se(this.auth,"internal-error")}}resolve(g){$e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){$e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vu=new Ce(2e3,1e4);function nr(w,g,v){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,r.Z)(function*(w,g,v){const D=fi(w);ye(w,g,Jo);const M=bn(D,v);return new wu(D,"signInViaPopup",g,M).executeNotNull()})).apply(this,arguments)}function Ss(w,g,v){return gc.apply(this,arguments)}function gc(){return(gc=(0,r.Z)(function*(w,g,v){const D=(0,j.m9)(w);ye(D.auth,g,Jo);const M=bn(D.auth,v);return new wu(D.auth,"reauthViaPopup",g,M,D).executeNotNull()})).apply(this,arguments)}function yu(w,g,v){return bu.apply(this,arguments)}function bu(){return(bu=(0,r.Z)(function*(w,g,v){const D=(0,j.m9)(w);ye(D.auth,g,Jo);const M=bn(D.auth,v);return new wu(D.auth,"linkViaPopup",g,M,D).executeNotNull()})).apply(this,arguments)}let wu=(()=>{class w extends kf{constructor(v,D,M,N,X){super(v,D,N,X),this.provider=M,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var v=this;return(0,r.Z)(function*(){const D=yield v.execute();return oe(D,v.auth,"internal-error"),D})()}onExecution(){var v=this;return(0,r.Z)(function*(){$e(1===v.filter.length,"Popup operations only handle one event");const D=Is();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],D),v.authWindow.associatedEvent=D,v.resolver._originValidation(v.auth).catch(M=>{v.reject(M)}),v.resolver._isIframeWebStorageSupported(v.auth,M=>{M||v.reject(De(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(De(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const v=()=>{var D,M;this.pollId=null!==(M=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(De(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,vu.get())};v()}}return w.currentPopupAction=null,w})();const qi="pendingRedirect",hr=new Map;class Gm extends kf{constructor(g,v,D=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,D),this.eventId=null}execute(){var g=()=>super.execute,v=this;return(0,r.Z)(function*(){let D=hr.get(v.auth._key());if(!D){try{const N=(yield function ir(w,g){return to.apply(this,arguments)}(v.resolver,v.auth))?yield g().call(v):null;D=()=>Promise.resolve(N)}catch(M){D=()=>Promise.reject(M)}hr.set(v.auth._key(),D)}return v.bypassAuthState||hr.set(v.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(g){var v=()=>super.onAuthEvent,D=this;return(0,r.Z)(function*(){if("signInViaRedirect"===g.type)return v().call(D,g);if("unknown"!==g.type){if(g.eventId){const M=yield D.auth._redirectUserForId(g.eventId);if(M)return D.user=M,v().call(D,g);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,r.Z)(function*(){})()}cleanUp(){}}function to(){return(to=(0,r.Z)(function*(w,g){const v=Rf(g),D=Ms(w);if(!(yield D._isAvailable()))return!1;const M="true"===(yield D._get(v));return yield D._remove(v),M})).apply(this,arguments)}function Hd(w,g){return _c.apply(this,arguments)}function _c(){return(_c=(0,r.Z)(function*(w,g){return Ms(w)._set(Rf(g),"true")})).apply(this,arguments)}function Ym(){hr.clear()}function vc(w,g){hr.set(w._key(),g)}function Ms(w){return _i(w._redirectPersistence)}function Rf(w){return on(qi,w.config.apiKey,w.name)}function Cu(w,g,v){return function xu(w,g,v){return ks.apply(this,arguments)}(w,g,v)}function ks(){return(ks=(0,r.Z)(function*(w,g,v){const D=fi(w);ye(w,g,Jo),yield D._initializationPromise;const M=bn(D,v);return yield Hd(M,D),M._openRedirect(D,g,"signInViaRedirect")})).apply(this,arguments)}function Of(w,g,v){return function yc(w,g,v){return xl.apply(this,arguments)}(w,g,v)}function xl(){return(xl=(0,r.Z)(function*(w,g,v){const D=(0,j.m9)(w);ye(D.auth,g,Jo),yield D.auth._initializationPromise;const M=bn(D.auth,v);yield Hd(M,D.auth);const N=yield El(D);return M._openRedirect(D.auth,g,"reauthViaRedirect",N)})).apply(this,arguments)}function Pf(w,g,v){return function jd(w,g,v){return bc.apply(this,arguments)}(w,g,v)}function bc(){return(bc=(0,r.Z)(function*(w,g,v){const D=(0,j.m9)(w);ye(D.auth,g,Jo),yield D.auth._initializationPromise;const M=bn(D.auth,v);yield eu(!1,D,g.providerId),yield Hd(M,D.auth);const N=yield El(D);return M._openRedirect(D.auth,g,"linkViaRedirect",N)})).apply(this,arguments)}function Dl(w,g){return os.apply(this,arguments)}function os(){return(os=(0,r.Z)(function*(w,g){return yield fi(w)._initializationPromise,Rs(w,g,!1)})).apply(this,arguments)}function Rs(w,g){return ua.apply(this,arguments)}function ua(){return(ua=(0,r.Z)(function*(w,g,v=!1){const D=fi(w),M=bn(D,g),X=yield new Gm(D,M,v).execute();return X&&!v&&(delete X.user._redirectEventId,yield D._persistUserIfCurrent(X.user),yield D._setRedirectUser(null,g)),X})).apply(this,arguments)}function El(w){return ss.apply(this,arguments)}function ss(){return(ss=(0,r.Z)(function*(w){const g=Is(`${w.uid}:::`);return w._redirectEventId=g,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),g})).apply(this,arguments)}class wc{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let v=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(g,D)&&(v=!0,this.sendToConsumer(g,D),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function xc(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cc(w);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=g,v=!0)),v}sendToConsumer(g,v){var D;if(g.error&&!Cc(g)){const M=(null===(D=g.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";v.onError(De(this.auth,M))}else v.onAuthEvent(g)}isEventForConsumer(g,v){const D=null===v.eventId||!!g.eventId&&g.eventId===v.eventId;return v.filter.includes(g.type)&&D}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Du(g))}saveEventToCache(g){this.cachedEventUids.add(Du(g)),this.lastProcessedEventTime=Date.now()}}function Du(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(g=>g).join("-")}function Cc({type:w,error:g}){return"unknown"===w&&"auth/no-auth-event"===g?.code}function Eu(w){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,r.Z)(function*(w,g={}){return lt(w,"GET","/v1/projects",g)})).apply(this,arguments)}const X_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hi=/^https?/;function $d(){return($d=(0,r.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:g}=yield Eu(w);for(const v of g)try{if(ji(v))return}catch{}se(w,"unauthorized-domain")})).apply(this,arguments)}function ji(w){const g=ln(),{protocol:v,hostname:D}=new URL(g);if(w.startsWith("chrome-extension://")){const X=new URL(w);return""===X.hostname&&""===D?"chrome-extension:"===v&&w.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===v&&X.hostname===D}if(!Hi.test(v))return!1;if(X_.test(w))return D===w;const M=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(D)}const Ec=new Ce(3e4,6e4);function vi(){const w=Bi().___jsl;if(w?.H)for(const g of Object.keys(w.H))if(w.H[g].r=w.H[g].r||[],w.H[g].L=w.H[g].L||[],w.H[g].r=[...w.H[g].L],w.CP)for(let v=0;v<w.CP.length;v++)w.CP[v]=null}let rr=null;const Nf=new Ce(5e3,15e3),_o="__/auth/iframe",Tc="emulator/auth/iframe",V0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ev=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tv(w){const g=w.config;oe(g.authDomain,w,"auth-domain-config-required");const v=g.emulator?Ae(g,Tc):`https://${w.config.authDomain}/${_o}`,D={apiKey:g.apiKey,appName:w.name,v:P.SDK_VERSION},M=ev.get(w.config.apiHost);M&&(D.eid=M);const N=w._getFrameworks();return N.length&&(D.fw=N.join(",")),`${v}?${(0,j.xO)(D).slice(1)}`}function Zr(){return Zr=(0,r.Z)(function*(w){const g=yield function Vr(w){return rr=rr||function as(w){return new Promise((g,v)=>{var D,M,N;function X(){vi(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{vi(),v(De(w,"network-request-failed"))},timeout:Ec.get()})}if(null!==(M=null===(D=Bi().gapi)||void 0===D?void 0:D.iframes)&&void 0!==M&&M.Iframe)g(gapi.iframes.getContext());else{if(null===(N=Bi().gapi)||void 0===N||!N.load){const me=Xs("iframefcb");return Bi()[me]=()=>{gapi.load?X():v(De(w,"network-request-failed"))},ri(`https://apis.google.com/js/api.js?onload=${me}`).catch(je=>v(je))}X()}}).catch(g=>{throw rr=null,g})}(w),rr}(w),v=Bi().gapi;return oe(v,w,"internal-error"),g.open({where:document.body,url:tv(w),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:V0,dontclear:!0},D=>new Promise(function(){var M=(0,r.Z)(function*(N,X){yield D.restyle({setHideOnLeave:!1});const me=De(w,"network-request-failed"),je=Bi().setTimeout(()=>{X(me)},Nf.get());function ct(){Bi().clearTimeout(je),N(D)}D.ping(ct).then(ct,()=>{X(me)})});return function(N,X){return M.apply(this,arguments)}}()))}),Zr.apply(this,arguments)}const x={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ne{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ge="__/auth/handler",ht="emulator/auth/handler",Ot=encodeURIComponent("fac");function Pt(w,g,v,D,M,N){return Br.apply(this,arguments)}function Br(){return(Br=(0,r.Z)(function*(w,g,v,D,M,N){oe(w.config.authDomain,w,"auth-domain-config-required"),oe(w.config.apiKey,w,"invalid-api-key");const X={apiKey:w.config.apiKey,appName:w.name,authType:v,redirectUrl:D,v:P.SDK_VERSION,eventId:M};if(g instanceof Jo){g.setDefaultLanguage(w.languageCode),X.providerId=g.providerId||"",(0,j.xb)(g.getCustomParameters())||(X.customParameters=JSON.stringify(g.getCustomParameters()));for(const[wt,sn]of Object.entries(N||{}))X[wt]=sn}if(g instanceof Ta){const wt=g.getScopes().filter(sn=>""!==sn);wt.length>0&&(X.scopes=wt.join(","))}w.tenantId&&(X.tid=w.tenantId);const me=X;for(const wt of Object.keys(me))void 0===me[wt]&&delete me[wt];const je=yield w._getAppCheckToken(),ct=je?`#${Ot}=${encodeURIComponent(je)}`:"";return`${function si({config:w}){return w.emulator?Ae(w,ht):`https://${w.authDomain}/${Ge}`}(w)}?${(0,j.xO)(me).slice(1)}${ct}`})).apply(this,arguments)}const Tl="webStorageSupport",Oa=class Os{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fu,this._completeRedirectFn=Rs,this._overrideRedirectResult=vc}_openPopup(g,v,D,M){var N=this;return(0,r.Z)(function*(){var X;$e(null===(X=N.eventManagers[g._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const me=yield Pt(g,v,D,ln(),M);return function ve(w,g,v,D=500,M=600){const N=Math.max((window.screen.availHeight-M)/2,0).toString(),X=Math.max((window.screen.availWidth-D)/2,0).toString();let me="";const je=Object.assign(Object.assign({},x),{width:D.toString(),height:M.toString(),top:N,left:X}),ct=(0,j.z$)().toLowerCase();v&&(me=O(ct)?"_blank":v),L(ct)&&(g=g||"http://localhost",je.scrollbars="yes");const wt=Object.entries(je).reduce((vo,[Pa,Qm])=>`${vo}${Pa}=${Qm},`,"");if(function Ft(w=(0,j.z$)()){var g;return Et(w)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(ct)&&"_self"!==me)return function Qe(w,g){const v=document.createElement("a");v.href=w,v.target=g;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(D)}(g||"",me),new ne(null);const sn=window.open(g||"",me,wt);oe(sn,w,"popup-blocked");try{sn.focus()}catch{}return new ne(sn)}(g,me,Is())})()}_openRedirect(g,v,D,M){var N=this;return(0,r.Z)(function*(){return yield N._originValidation(g),function yf(w){Bi().location.href=w}(yield Pt(g,v,D,ln(),M)),new Promise(()=>{})})()}_initialize(g){const v=g._key();if(this.eventManagers[v]){const{manager:M,promise:N}=this.eventManagers[v];return M?Promise.resolve(M):($e(N,"If manager is not set, promise should be"),N)}const D=this.initAndGetManager(g);return this.eventManagers[v]={promise:D},D.catch(()=>{delete this.eventManagers[v]}),D}initAndGetManager(g){var v=this;return(0,r.Z)(function*(){const D=yield function Z0(w){return Zr.apply(this,arguments)}(g),M=new wc(g);return D.register("authEvent",N=>(oe(N?.authEvent,g,"invalid-auth-event"),{status:M.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[g._key()]={manager:M},v.iframes[g._key()]=D,M})()}_isIframeWebStorageSupported(g,v){this.iframes[g._key()].send(Tl,{type:Tl},M=>{var N;const X=null===(N=M?.[0])||void 0===N?void 0:N[Tl];void 0!==X&&v(!!X),se(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function da(w){return $d.apply(this,arguments)}(g)),this.originValidationPromises[v]}get _shouldInitProactively(){return jt()||Z()||Et()}};class no{constructor(g){this.factorId=g}_process(g,v,D){switch(v.type){case"enroll":return this._finalizeEnroll(g,v.credential,D);case"signin":return this._finalizeSignIn(g,v.credential);default:return rt("unexpected MultiFactorSessionType")}}}class io extends no{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new io(g)}_finalizeEnroll(g,v,D){return function Md(w,g){return lt(w,"POST","/v2/accounts/mfaEnrollment:finalize",it(w,g))}(g,{idToken:v,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,v){return function jm(w,g){return lt(w,"POST","/v2/accounts/mfaSignIn:finalize",it(w,g))}(g,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ps=(()=>{class w{constructor(){}static assertion(v){return io._fromCredential(v)}}return w.FACTOR_ID="phone",w})();var ls="@firebase/auth";class Wm{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var v=this;return(0,r.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const v=this.auth.onIdTokenChanged(D=>{g(D?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,v),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const v=this.internalListeners.get(g);v&&(this.internalListeners.delete(g),v(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const B0=(0,j.Pz)("authIdTokenMaxAge")||300;let Lf=null;const Uf=w=>function(){var g=(0,r.Z)(function*(v){const D=v&&(yield v.getIdTokenResult()),M=D&&((new Date).getTime()-Date.parse(D.issuedAtTime))/1e3;if(M&&M>B0)return;const N=D?.token;Lf!==N&&(Lf=N,yield fetch(w,{method:N?"POST":"DELETE",headers:N?{Authorization:`Bearer ${N}`}:{}}))});return function(v){return g.apply(this,arguments)}}();function Vf(w=(0,P.getApp)()){const g=(0,P._getProvider)(w,"auth");if(g.isInitialized())return g.getImmediate();const v=function Un(w,g){const v=(0,P._getProvider)(w,"auth");if(v.isInitialized()){const M=v.getImmediate(),N=v.getOptions();if((0,j.vZ)(N,g??{}))return M;se(M,"already-initialized")}return v.initialize({options:g})}(w,{popupRedirectResolver:Oa,persistence:[uc,sc,fu]}),D=(0,j.Pz)("authTokenSyncURL");if(D){const N=Uf(D);(function pf(w,g,v){(0,j.m9)(w).beforeAuthStateChanged(g,v)})(v,N,()=>N(v.currentUser)),oa(v,X=>N(X))}const M=(0,j.q4)("auth");return M&&Jh(v,`http://${M}`),v}!function Ff(w){(0,P._registerComponent)(new he.wA("auth",(g,{options:v})=>{const D=g.getProvider("app").getImmediate(),M=g.getProvider("heartbeat"),N=g.getProvider("app-check-internal"),{apiKey:X,authDomain:me}=D.options;oe(X&&!X.includes(":"),"invalid-api-key",{appName:D.name});const je={apiKey:X,authDomain:me,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ki(w)},ct=new cr(D,M,N,je);return function $_(w,g){const v=g?.persistence||[],D=(Array.isArray(v)?v:[v]).map(_i);g?.errorMap&&w._updateErrorMap(g.errorMap),w._initializeWithPersistence(D,g?.popupRedirectResolver)}(ct,v),ct},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,v,D)=>{g.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new he.wA("auth-internal",g=>{const v=fi(g.getProvider("auth").getImmediate());return new Wm(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(ls,"0.23.2",function Au(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,P.registerVersion)(ls,"0.23.2","esm2017")}("Browser")},2090:(vt,Te,U)=>{U.d(Te,{$s:()=>_i,BH:()=>ce,DV:()=>Qr,Dv:()=>Oo,G6:()=>Ae,GJ:()=>ui,L:()=>we,LL:()=>Hn,Pz:()=>De,Sg:()=>ye,UG:()=>rt,UI:()=>po,US:()=>he,Wj:()=>Bt,Wl:()=>Tn,Yr:()=>Ce,ZB:()=>ae,ZR:()=>lt,aH:()=>se,b$:()=>Ti,cI:()=>fn,dS:()=>mo,eu:()=>Ye,g5:()=>P,gK:()=>wn,gQ:()=>xt,h$:()=>ke,hl:()=>Le,hu:()=>j,jU:()=>$e,lb:()=>jn,m9:()=>on,ne:()=>rn,p$:()=>W,pd:()=>gt,q4:()=>Ct,r3:()=>ti,ru:()=>ln,tV:()=>G,uI:()=>oe,ug:()=>Qo,vZ:()=>Yi,w1:()=>xs,w9:()=>mi,xO:()=>Ko,xb:()=>Ca,z$:()=>Ne,zI:()=>qe,zd:()=>et});const r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},j=function(Y,z){if(!Y)throw P(z)},P=function(Y){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Y)},re=function(Y){const z=[];let L=0;for(let Z=0;Z<Y.length;Z++){let O=Y.charCodeAt(Z);O<128?z[L++]=O:O<2048?(z[L++]=O>>6|192,z[L++]=63&O|128):55296==(64512&O)&&Z+1<Y.length&&56320==(64512&Y.charCodeAt(Z+1))?(O=65536+((1023&O)<<10)+(1023&Y.charCodeAt(++Z)),z[L++]=O>>18|240,z[L++]=O>>12&63|128,z[L++]=O>>6&63|128,z[L++]=63&O|128):(z[L++]=O>>12|224,z[L++]=O>>6&63|128,z[L++]=63&O|128)}return z},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,z){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const L=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,Z=[];for(let O=0;O<Y.length;O+=3){const ie=Y[O],be=O+1<Y.length,We=be?Y[O+1]:0,Dt=O+2<Y.length,Et=Dt?Y[O+2]:0;let Mn=(15&We)<<2|Et>>6,jt=63&Et;Dt||(jt=64,be||(Mn=64)),Z.push(L[ie>>2],L[(3&ie)<<4|We>>4],L[Mn],L[jt])}return Z.join("")},encodeString(Y,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(Y):this.encodeByteArray(re(Y),z)},decodeString(Y,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(Y):function(Y){const z=[];let L=0,Z=0;for(;L<Y.length;){const O=Y[L++];if(O<128)z[Z++]=String.fromCharCode(O);else if(O>191&&O<224){const ie=Y[L++];z[Z++]=String.fromCharCode((31&O)<<6|63&ie)}else if(O>239&&O<365){const Dt=((7&O)<<18|(63&Y[L++])<<12|(63&Y[L++])<<6|63&Y[L++])-65536;z[Z++]=String.fromCharCode(55296+(Dt>>10)),z[Z++]=String.fromCharCode(56320+(1023&Dt))}else{const ie=Y[L++],be=Y[L++];z[Z++]=String.fromCharCode((15&O)<<12|(63&ie)<<6|63&be)}}return z.join("")}(this.decodeStringToByteArray(Y,z))},decodeStringToByteArray(Y,z){this.init_();const L=z?this.charToByteMapWebSafe_:this.charToByteMap_,Z=[];for(let O=0;O<Y.length;){const ie=L[Y.charAt(O++)],We=O<Y.length?L[Y.charAt(O)]:0;++O;const Et=O<Y.length?L[Y.charAt(O)]:64;++O;const Ft=O<Y.length?L[Y.charAt(O)]:64;if(++O,null==ie||null==We||null==Et||null==Ft)throw new xe;Z.push(ie<<2|We>>4),64!==Et&&(Z.push(We<<4&240|Et>>2),64!==Ft&&Z.push(Et<<6&192|Ft))}return Z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}};class xe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ke=function(Y){const z=re(Y);return he.encodeByteArray(z,!0)},we=function(Y){return ke(Y).replace(/\./g,"")},G=function(Y){try{return he.decodeString(Y,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function W(Y){return ae(void 0,Y)}function ae(Y,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===Y&&(Y={});break;case Array:Y=[];break;default:return z}for(const L in z)!z.hasOwnProperty(L)||!Ve(L)||(Y[L]=ae(Y[L],z[L]));return Y}function Ve(Y){return"__proto__"!==Y}const Fe=()=>{try{return function Se(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Y=process.env.__FIREBASE_DEFAULTS__;return Y?JSON.parse(Y):void 0})()||(()=>{if(typeof document>"u")return;let Y;try{Y=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const z=Y&&G(Y[1]);return z&&JSON.parse(z)})()}catch(Y){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Y}`)}},Ct=Y=>{var z,L;return null===(L=null===(z=Fe())||void 0===z?void 0:z.emulatorHosts)||void 0===L?void 0:L[Y]},se=()=>{var Y;return null===(Y=Fe())||void 0===Y?void 0:Y.config},De=Y=>{var z;return null===(z=Fe())||void 0===z?void 0:z[`_${Y}`]};class ce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,L)=>{this.resolve=z,this.reject=L})}wrapCallback(z){return(L,Z)=>{L?this.reject(L):this.resolve(Z),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(L):z(L,Z))}}}function ye(Y,z){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Z=z||"demo-project",O=Y.iat||0,ie=Y.sub||Y.user_id;if(!ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const be=Object.assign({iss:`https://securetoken.google.com/${Z}`,aud:Z,iat:O,exp:O+3600,auth_time:O,sub:ie,user_id:ie,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[we(JSON.stringify({alg:"none",type:"JWT"})),we(JSON.stringify(be)),""].join(".")}function Ne(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function oe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function rt(){var Y;const z=null===(Y=Fe())||void 0===Y?void 0:Y.forceEnvironment;if("node"===z)return!0;if("browser"===z)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function $e(){return"object"==typeof self&&self.self===self}function ln(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function Ti(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function xs(){const Y=Ne();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function Ce(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN}function Ae(){return!rt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Le(){try{return"object"==typeof indexedDB}catch{return!1}}function Ye(){return new Promise((Y,z)=>{try{let L=!0;const Z="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(Z);O.onsuccess=()=>{O.result.close(),L||self.indexedDB.deleteDatabase(Z),Y(!0)},O.onupgradeneeded=()=>{L=!1},O.onerror=()=>{var ie;z((null===(ie=O.error)||void 0===ie?void 0:ie.message)||"")}}catch(L){z(L)}})}function qe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class lt extends Error{constructor(z,L,Z){super(L),this.code=z,this.customData=Z,this.name="FirebaseError",Object.setPrototypeOf(this,lt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hn.prototype.create)}}class Hn{constructor(z,L,Z){this.service=z,this.serviceName=L,this.errors=Z}create(z,...L){const Z=L[0]||{},O=`${this.service}/${z}`,ie=this.errors[z],be=ie?function st(Y,z){return Y.replace(bt,(L,Z)=>{const O=z[Z];return null!=O?String(O):`<${Z}?>`})}(ie,Z):"Error";return new lt(O,`${this.serviceName}: ${be} (${O}).`,Z)}}const bt=/\{\$([^}]+)}/g;function fn(Y){return JSON.parse(Y)}function Tn(Y){return JSON.stringify(Y)}const Qn=function(Y){let z={},L={},Z={},O="";try{const ie=Y.split(".");z=fn(G(ie[0])||""),L=fn(G(ie[1])||""),O=ie[2],Z=L.d||{},delete L.d}catch{}return{header:z,claims:L,data:Z,signature:O}},mi=function(Y){const L=Qn(Y).claims;return!!L&&"object"==typeof L&&L.hasOwnProperty("iat")},ui=function(Y){const z=Qn(Y).claims;return"object"==typeof z&&!0===z.admin};function ti(Y,z){return Object.prototype.hasOwnProperty.call(Y,z)}function Qr(Y,z){if(Object.prototype.hasOwnProperty.call(Y,z))return Y[z]}function Ca(Y){for(const z in Y)if(Object.prototype.hasOwnProperty.call(Y,z))return!1;return!0}function po(Y,z,L){const Z={};for(const O in Y)Object.prototype.hasOwnProperty.call(Y,O)&&(Z[O]=z.call(L,Y[O],O,Y));return Z}function Yi(Y,z){if(Y===z)return!0;const L=Object.keys(Y),Z=Object.keys(z);for(const O of L){if(!Z.includes(O))return!1;const ie=Y[O],be=z[O];if(ni(ie)&&ni(be)){if(!Yi(ie,be))return!1}else if(ie!==be)return!1}for(const O of Z)if(!L.includes(O))return!1;return!0}function ni(Y){return null!==Y&&"object"==typeof Y}function Ko(Y){const z=[];for(const[L,Z]of Object.entries(Y))Array.isArray(Z)?Z.forEach(O=>{z.push(encodeURIComponent(L)+"="+encodeURIComponent(O))}):z.push(encodeURIComponent(L)+"="+encodeURIComponent(Z));return z.length?"&"+z.join("&"):""}function et(Y){const z={};return Y.replace(/^\?/,"").split("&").forEach(Z=>{if(Z){const[O,ie]=Z.split("=");z[decodeURIComponent(O)]=decodeURIComponent(ie)}}),z}function gt(Y){const z=Y.indexOf("?");if(!z)return"";const L=Y.indexOf("#",z);return Y.substring(z,L>0?L:void 0)}class xt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let z=1;z<this.blockSize;++z)this.pad_[z]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(z,L){L||(L=0);const Z=this.W_;if("string"==typeof z)for(let Ft=0;Ft<16;Ft++)Z[Ft]=z.charCodeAt(L)<<24|z.charCodeAt(L+1)<<16|z.charCodeAt(L+2)<<8|z.charCodeAt(L+3),L+=4;else for(let Ft=0;Ft<16;Ft++)Z[Ft]=z[L]<<24|z[L+1]<<16|z[L+2]<<8|z[L+3],L+=4;for(let Ft=16;Ft<80;Ft++){const Mn=Z[Ft-3]^Z[Ft-8]^Z[Ft-14]^Z[Ft-16];Z[Ft]=4294967295&(Mn<<1|Mn>>>31)}let Et,_t,O=this.chain_[0],ie=this.chain_[1],be=this.chain_[2],We=this.chain_[3],Dt=this.chain_[4];for(let Ft=0;Ft<80;Ft++){Ft<40?Ft<20?(Et=We^ie&(be^We),_t=1518500249):(Et=ie^be^We,_t=1859775393):Ft<60?(Et=ie&be|We&(ie|be),_t=2400959708):(Et=ie^be^We,_t=3395469782);const Mn=(O<<5|O>>>27)+Et+Dt+_t+Z[Ft]&4294967295;Dt=We,We=be,be=4294967295&(ie<<30|ie>>>2),ie=O,O=Mn}this.chain_[0]=this.chain_[0]+O&4294967295,this.chain_[1]=this.chain_[1]+ie&4294967295,this.chain_[2]=this.chain_[2]+be&4294967295,this.chain_[3]=this.chain_[3]+We&4294967295,this.chain_[4]=this.chain_[4]+Dt&4294967295}update(z,L){if(null==z)return;void 0===L&&(L=z.length);const Z=L-this.blockSize;let O=0;const ie=this.buf_;let be=this.inbuf_;for(;O<L;){if(0===be)for(;O<=Z;)this.compress_(z,O),O+=this.blockSize;if("string"==typeof z){for(;O<L;)if(ie[be]=z.charCodeAt(O),++be,++O,be===this.blockSize){this.compress_(ie),be=0;break}}else for(;O<L;)if(ie[be]=z[O],++be,++O,be===this.blockSize){this.compress_(ie),be=0;break}}this.inbuf_=be,this.total_+=L}digest(){const z=[];let L=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let O=this.blockSize-1;O>=56;O--)this.buf_[O]=255&L,L/=256;this.compress_(this.buf_);let Z=0;for(let O=0;O<5;O++)for(let ie=24;ie>=0;ie-=8)z[Z]=this.chain_[O]>>ie&255,++Z;return z}}function rn(Y,z){const L=new gi(Y,z);return L.subscribe.bind(L)}class gi{constructor(z,L){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then(()=>{z(this)}).catch(Z=>{this.error(Z)})}next(z){this.forEachObserver(L=>{L.next(z)})}error(z){this.forEachObserver(L=>{L.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,L,Z){let O;if(void 0===z&&void 0===L&&void 0===Z)throw new Error("Missing Observer.");O=function Jt(Y,z){if("object"!=typeof Y||null===Y)return!1;for(const L of z)if(L in Y&&"function"==typeof Y[L])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:L,complete:Z},void 0===O.next&&(O.next=di),void 0===O.error&&(O.error=di),void 0===O.complete&&(O.complete=di);const ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),ie}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let L=0;L<this.observers.length;L++)this.sendOne(L,z)}sendOne(z,L){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{L(this.observers[z])}catch(Z){typeof console<"u"&&console.error&&console.error(Z)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function di(){}const Oo=function(Y,z,L,Z){let O;if(Z<z?O="at least "+z:Z>L&&(O=0===L?"none":"no more than "+L),O)throw new Error(Y+" failed: Was called with "+Z+(1===Z?" argument.":" arguments.")+" Expects "+O+".")};function wn(Y,z){return`${Y} failed: ${z} argument `}function Bt(Y,z,L,Z){if((!Z||L)&&"function"!=typeof L)throw new Error(wn(Y,z)+"must be a valid function.")}function jn(Y,z,L,Z){if((!Z||L)&&("object"!=typeof L||null===L))throw new Error(wn(Y,z)+"must be a valid context object.")}const mo=function(Y){const z=[];let L=0;for(let Z=0;Z<Y.length;Z++){let O=Y.charCodeAt(Z);if(O>=55296&&O<=56319){const ie=O-55296;Z++,j(Z<Y.length,"Surrogate pair missing trail surrogate."),O=65536+(ie<<10)+(Y.charCodeAt(Z)-56320)}O<128?z[L++]=O:O<2048?(z[L++]=O>>6|192,z[L++]=63&O|128):O<65536?(z[L++]=O>>12|224,z[L++]=O>>6&63|128,z[L++]=63&O|128):(z[L++]=O>>18|240,z[L++]=O>>12&63|128,z[L++]=O>>6&63|128,z[L++]=63&O|128)}return z},Qo=function(Y){let z=0;for(let L=0;L<Y.length;L++){const Z=Y.charCodeAt(L);Z<128?z++:Z<2048?z+=2:Z>=55296&&Z<=56319?(z+=4,L++):z+=3}return z},ii=1e3,Ln=2,hi=144e5,zn=.5;function _i(Y,z=ii,L=Ln){const Z=z*Math.pow(L,Y),O=Math.round(zn*Z*(Math.random()-.5)*2);return Math.min(hi,Z+O)}function on(Y){return Y&&Y._delegate?Y._delegate:Y}},8287:(vt,Te,U)=>{var r=U(2223);let j=null;function P(){return j}class ue{}const he=new r.OlP("DocumentToken");let xe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:function(){return(0,r.f3M)(we)},providedIn:"platform"}),n})();const ke=new r.OlP("Location Initialized");let we=(()=>{class n extends xe{constructor(){super(),this._doc=(0,r.f3M)(he),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,o){this._history.pushState(e,i,o)}replaceState(e,i,o){this._history.replaceState(e,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function G(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function W(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ae(n){return n&&"?"!==n[0]?"?"+n:n}let Ve=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:function(){return(0,r.f3M)(nt)},providedIn:"root"}),n})();const Se=new r.OlP("appBaseHref");let nt=(()=>{class n extends Ve{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,r.f3M)(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return G(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+ae(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${i}${o}`:i}pushState(e,i,o,s){const c=this.prepareExternalUrl(o+ae(s));this._platformLocation.pushState(e,i,c)}replaceState(e,i,o,s){const c=this.prepareExternalUrl(o+ae(s));this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(xe),r.LFG(Se,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pe=(()=>{class n extends Ve{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=G(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,o,s){let c=this.prepareExternalUrl(o+ae(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,i,c)}replaceState(e,i,o,s){let c=this.prepareExternalUrl(o+ae(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(xe),r.LFG(Se,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Xe=(()=>{class n{constructor(e){this._subject=new r.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function se(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(W(mt(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+ae(i))}normalize(e){return n.stripTrailingSlash(function Ct(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,mt(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",o=null){this._locationStrategy.pushState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ae(i)),o)}replaceState(e,i="",o=null){this._locationStrategy.replaceState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ae(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(o=>o(e,i))}subscribe(e,i,o){return this._subject.subscribe({next:e,error:i,complete:o})}}return n.normalizeQueryParams=ae,n.joinWithSlash=G,n.stripTrailingSlash=W,n.\u0275fac=function(e){return new(e||n)(r.LFG(Ve))},n.\u0275prov=r.Yz7({token:n,factory:function(){return function Fe(){return new Xe((0,r.LFG)(Ve))}()},providedIn:"root"}),n})();function mt(n){return n.replace(/\/index.html$/,"")}const $l=/\s+/,Qh=[];let Gn=(()=>{class n{constructor(e,i,o,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=o,this._renderer=s,this.initialClasses=Qh,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split($l):Qh}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split($l):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const o=this.stateMap.get(e);void 0!==o?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],o=e[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split($l).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.ZZ4),r.Y36(r.aQg),r.Y36(r.SBq),r.Y36(r.Qsj))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Om{constructor(t,e,i,o){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let cr=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,o){this._viewContainer=e,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((o,s,c)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new Om(o.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,c),fi(d,o)}});for(let o=0,s=i.length;o<s;o++){const d=i.get(o).context;d.index=o,d.count=s,d.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{fi(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function fi(n,t){n.context.$implicit=t.item}let Un=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new $_,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Jh("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Jh("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.Rgc))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class $_{constructor(){this.$implicit=null,this.ngIf=null}}function Jh(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,r.AaK)(t)}'.`)}class Yc{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Ds=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),ol=(()=>{class n{constructor(e,i,o){this.ngSwitch=o,o._addCase(),this._view=new Yc(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(Ds,9))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Xh=(()=>{class n{constructor(e,i,o){o._addDefault(new Yc(e,i))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(Ds,9))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),sl=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:o,ngTemplateOutletContext:s,ngTemplateOutletInjector:c}=this;this._viewRef=i.createEmbeddedView(o,s,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[r.TTD]}),n})(),Vi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();const cl="browser";function No(n){return"server"===n}let Ta=(()=>{class n{}return n.\u0275prov=(0,r.Yz7)({token:n,providedIn:"root",factory:()=>new Jr((0,r.LFG)(he),window)}),n})();class Jr{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ul(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=i.currentNode;for(;o;){const s=o.shadowRoot;if(s){const c=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(c)return c}o=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],o-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Aa(this.window.history)||Aa(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Aa(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Id extends ue{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ra extends Id{static makeCurrent(){!function re(n){j||(j=n)}(new ra)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function K_(){return tr=tr||document.querySelector("base"),tr?tr.getAttribute("href"):null}();return null==e?null:function pf(n){oa=oa||document.createElement("a"),oa.setAttribute("href",n);const t=oa.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){tr=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function rl(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[o,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(o.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let oa,tr=null,Sd=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const mf=new r.OlP("EventManagerPlugins");let uu=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,o){return this._findPluginFor(i).addEventListener(e,i,o)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new r.vHH(5101,!1);return this._eventNameToPlugin.set(e,i),i}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(mf),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class du{constructor(t){this._doc=t}}const bl="ng-app-id";let es=(()=>{class n{constructor(e,i,o,s={}){this.doc=e,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=No(s),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(o=>o.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${bl}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(o=>{null!=o.textContent&&i.set(o.textContent,o)}),i}return null}changeUsageCount(e,i){const o=this.styleRef;if(o.has(e)){const s=o.get(e);return s.usage+=i,s.usage}return o.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===e)return o.delete(i),s.removeAttribute(bl),s;{const c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(bl,this.appId),c}}addStyleToHost(e,i){const o=this.getStyleElement(e,i);e.appendChild(o);const s=this.styleRef,c=s.get(i)?.elements;c?c.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(he),r.LFG(r.AFp),r.LFG(r.Ojb,8),r.LFG(r.Lbi))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const Rt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wl=/%COMP%/g,_f=new r.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Rd(n,t){return t.map(e=>e.replace(wl,n))}let Ia=(()=>{class n{constructor(e,i,o,s,c,d,p,_=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestory=s,this.doc=c,this.platformId=d,this.ngZone=p,this.nonce=_,this.rendererByCompId=new Map,this.platformIsServer=No(d),this.defaultRenderer=new hu(e,c,p,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===r.ifc.ShadowDom&&(i={...i,encapsulation:r.ifc.Emulated});const o=this.getOrCreateRenderer(e,i);return o instanceof Ii?o.applyToHost(e):o instanceof sc&&o.applyStyles(),o}getOrCreateRenderer(e,i){const o=this.rendererByCompId;let s=o.get(i.id);if(!s){const c=this.doc,d=this.ngZone,p=this.eventManager,_=this.sharedStylesHost,b=this.removeStylesOnCompDestory,E=this.platformIsServer;switch(i.encapsulation){case r.ifc.Emulated:s=new Ii(p,_,i,this.appId,b,c,d,E);break;case r.ifc.ShadowDom:return new Od(p,_,e,i,c,d,this.nonce,E);default:s=new sc(p,_,i,b,c,d,E)}s.onDestroy=()=>o.delete(i.id),o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(uu),r.LFG(es),r.LFG(r.AFp),r.LFG(_f),r.LFG(he),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(r.Ojb))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class hu{constructor(t,e,i,o){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(Rt[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(un(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(un(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new r.vHH(5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,o){if(o){e=o+":"+e;const s=Rt[o];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const o=Rt[i];o?t.removeAttributeNS(o,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,o){o&(r.JOm.DashCase|r.JOm.Important)?t.style.setProperty(e,i,o&r.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&r.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=P().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function un(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Od extends hu{constructor(t,e,i,o,s,c,d,p){super(t,s,c,p),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const _=Rd(o.id,o.styles);for(const b of _){const E=document.createElement("style");d&&E.setAttribute("nonce",d),E.textContent=b,this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class sc extends hu{constructor(t,e,i,o,s,c,d,p){super(t,s,c,d),this.sharedStylesHost=e,this.removeStylesOnCompDestory=o,this.rendererUsageCount=0,this.styles=p?Rd(p,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Ii extends sc{constructor(t,e,i,o,s,c,d,p){const _=o+"-"+i.id;super(t,e,i,s,c,d,p,_),this.contentAttr=function aa(n){return"_ngcontent-%COMP%".replace(wl,n)}(_),this.hostAttr=function oc(n){return"_nghost-%COMP%".replace(wl,n)}(_)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let fu=(()=>{class n extends du{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,o){return e.addEventListener(i,o,!1),()=>this.removeEventListener(e,i,o)}removeEventListener(e,i,o){return e.removeEventListener(i,o)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(he))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const ac=["alt","control","meta","shift"],As={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Is={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let vf=(()=>{class n extends du{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,o){const s=n.parseEventName(i),c=n.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,s.domEventName,c))}static parseEventName(e){const i=e.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const s=n._normalizeKey(i.pop());let c="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),c="code."),ac.forEach(_=>{const b=i.indexOf(_);b>-1&&(i.splice(b,1),c+=_+".")}),c+=s,0!=i.length||0===s.length)return null;const p={};return p.domEventName=o,p.fullKey=c,p}static matchEventFullKeyCode(e,i){let o=As[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(o=e.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),ac.forEach(c=>{c!==o&&(0,Is[c])(e)&&(s+=c+".")}),s+=o,s===i)}static eventCallback(e,i,o){return s=>{n.matchEventFullKeyCode(s,e)&&o.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(he))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const Hm=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:cl},{provide:r.g9A,useValue:function Vo(){ra.makeCurrent()},multi:!0},{provide:he,useFactory:function la(){return(0,r.RDi)(document),document},deps:[]}]),Si=new r.OlP(""),Pd=[{provide:r.rWj,useClass:class sa{addToWindow(t){r.dqk.getAngularTestability=(i,o=!0)=>{const s=t.findTestabilityInTree(i,o);if(null==s)throw new r.vHH(5103,!1);return s},r.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(i=>{const o=r.dqk.getAllAngularTestabilities();let s=o.length,c=!1;const d=function(p){c=c||p,s--,0==s&&i(c)};o.forEach(function(p){p.whenStable(d)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:r.lri,useClass:r.dDg,deps:[r.R0b,r.eoX,r.rWj]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b,r.eoX,r.rWj]}],Sa=[{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function bf(){return new r.qLn},deps:[]},{provide:mf,useClass:fu,multi:!0,deps:[he,r.R0b,r.Lbi]},{provide:mf,useClass:vf,multi:!0,deps:[he]},Ia,es,uu,{provide:r.FYo,useExisting:Ia},{provide:class Xi{},useClass:Sd,deps:[]},[]];let Ma=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:r.AFp,useValue:e.appId}]}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Si,12))},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[...Sa,...Pd],imports:[Vi,r.hGG]}),n})(),Fd=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(he))},n.\u0275prov=r.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function cc(){return new Fd((0,r.LFG)(he))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;var _n=U(8996),Kn=U(9751);const{isArray:qd}=Array,{getPrototypeOf:Mf,prototype:Ra,keys:_u}=Object;function fc(n){if(1===n.length){const t=n[0];if(qd(t))return{args:t,keys:null};if(function $m(n){return n&&"object"==typeof n&&Mf(n)===Ra}(t)){const e=_u(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Zo=U(8421),pc=U(3269),bn=U(5403),Ke=U(4004);const{isArray:is}=Array;function Cl(n){return(0,Ke.U)(t=>function mc(n,t){return is(t)?n(...t):n(t)}(n,t))}function rs(n,t){return n.reduce((e,i,o)=>(e[i]=t[o],e),{})}let vu=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Qsj),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n}),n})(),nr=(()=>{class n extends vu{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,features:[r.qOj]}),n})();const Ir=new r.OlP("NgValueAccessor"),Ss={provide:Ir,useExisting:(0,r.Gpc)(()=>gc),multi:!0};let gc=(()=>{class n extends nr{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,i){1&e&&r.NdJ("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[r._Bn([Ss]),r.qOj]}),n})();const yu={provide:Ir,useExisting:(0,r.Gpc)(()=>qi),multi:!0},wu=new r.OlP("CompositionEventMode");let qi=(()=>{class n extends vu{constructor(e,i,o){super(e,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function bu(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(wu,8))},n.\u0275dir=r.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&r.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[r._Bn([yu]),r.qOj]}),n})();function hr(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Gm(n){return null!=n&&"number"==typeof n.length}const ir=new r.OlP("NgValidators"),to=new r.OlP("NgAsyncValidators"),Hd=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _c{static min(t){return Ym(t)}static max(t){return vc(t)}static required(t){return Ms(t)}static requiredTrue(t){return function Rf(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function Cu(n){return hr(n.value)||Hd.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function xu(n){return t=>hr(t.value)||!Gm(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function ks(n){return t=>Gm(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return Of(t)}static nullValidator(t){return null}static compose(t){return Rs(t)}static composeAsync(t){return El(t)}}function Ym(n){return t=>{if(hr(t.value)||hr(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function vc(n){return t=>{if(hr(t.value)||hr(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function Ms(n){return hr(n.value)?{required:!0}:null}function Of(n){if(!n)return yc;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(hr(i.value))return null;const o=i.value;return t.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}function yc(n){return null}function xl(n){return null!=n}function Pf(n){return(0,r.QGY)(n)?(0,_n.D)(n):n}function jd(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function bc(n,t){return t.map(e=>e(n))}function os(n){return n.map(t=>function Dl(n){return!n.validate}(t)?t:e=>t.validate(e))}function Rs(n){if(!n)return null;const t=n.filter(xl);return 0==t.length?null:function(e){return jd(bc(e,t))}}function ua(n){return null!=n?Rs(os(n)):null}function El(n){if(!n)return null;const t=n.filter(xl);return 0==t.length?null:function(e){return function kf(...n){const t=(0,pc.jO)(n),{args:e,keys:i}=fc(n),o=new Kn.y(s=>{const{length:c}=e;if(!c)return void s.complete();const d=new Array(c);let p=c,_=c;for(let b=0;b<c;b++){let E=!1;(0,Zo.Xf)(e[b]).subscribe((0,bn.x)(s,k=>{E||(E=!0,_--),d[b]=k},()=>p--,void 0,()=>{(!p||!E)&&(_||s.next(i?rs(i,d):d),s.complete())}))}});return t?o.pipe(Cl(t)):o}(bc(e,t).map(Pf)).pipe((0,Ke.U)(jd))}}function ss(n){return null!=n?El(os(n)):null}function zd(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function wc(n){return n._rawValidators}function Du(n){return n._rawAsyncValidators}function Cc(n){return n?Array.isArray(n)?n:[n]:[]}function xc(n,t){return Array.isArray(n)?n.includes(t):n===t}function Eu(n,t){const e=Cc(t);return Cc(n).forEach(o=>{xc(e,o)||e.push(o)}),e}function Dc(n,t){return Cc(t).filter(e=>!xc(n,e))}class X_{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ua(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ss(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Hi extends X_{get formDirective(){return null}get path(){return null}}class da extends X_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $d{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let vi=(()=>{class n extends $d{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(da,2))},n.\u0275dir=r.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&r.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[r.qOj]}),n})(),as=(()=>{class n extends $d{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Hi,10))},n.\u0275dir=r.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&r.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[r.qOj]}),n})();const Qe="VALID",Ge="INVALID",ht="PENDING",Ot="DISABLED";function Pt(n){return(Os(n)?n.validators:n)||null}function si(n,t){return(Os(t)?t.asyncValidators:n)||null}function Os(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class io{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Qe}get invalid(){return this.status===Ge}get pending(){return this.status==ht}get disabled(){return this.status===Ot}get enabled(){return this.status!==Ot}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Eu(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Eu(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Dc(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Dc(t,this._rawAsyncValidators))}hasValidator(t){return xc(this._rawValidators,t)}hasAsyncValidator(t){return xc(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ht,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ot,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Qe,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qe||this.status===ht)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ot:Qe}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ht,this._hasOwnPendingAsyncValidator=!0;const e=Pf(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,o)=>i&&i._find(o),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?Ot:this.errors?Ge:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ht)?ht:this._anyControlsHaveStatus(Ge)?Ge:Qe}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Os(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Br(n){return Array.isArray(n)?ua(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Tl(n){return Array.isArray(n)?ss(n):n||null}(this._rawAsyncValidators)}}class Ps extends io{constructor(t,e,i){super(Pt(e),si(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function no(n,t,e){n._forEachChild((i,o)=>{if(void 0===e[o])throw new r.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function Oa(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new r.vHH(1e3,"");if(!i[e])throw new r.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const o=this.controls[i];o&&o.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,o)=>{i.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,o)=>((i.enabled||this.disabled)&&(e[o]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((o,s)=>{i=e(i,o,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const ls=new r.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Tu}),Tu="always";function Wm(n,t){return[...t.path,n]}function Au(n,t,e=Tu){Lf(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function Vf(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&g(n,t)})}(n,t),function v(n,t){const e=(i,o)=>{t.valueAccessor.writeValue(i),o&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function w(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&g(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function B0(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Ff(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Uf(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Km(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Lf(n,t){const e=wc(n);null!==t.validator?n.setValidators(zd(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=Du(n);null!==t.asyncValidator?n.setAsyncValidators(zd(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const o=()=>n.updateValueAndValidity();Km(t._rawValidators,o),Km(t._rawAsyncValidators,o)}function Uf(n,t){let e=!1;if(null!==n){if(null!==t.validator){const o=wc(n);if(Array.isArray(o)&&o.length>0){const s=o.filter(c=>c!==t.validator);s.length!==o.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const o=Du(n);if(Array.isArray(o)&&o.length>0){const s=o.filter(c=>c!==t.asyncValidator);s.length!==o.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Km(t._rawValidators,i),Km(t._rawAsyncValidators,i),e}function g(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function D(n,t){Lf(n,t)}function wt(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function vo(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Pa(n,t){if(!t)return null;let e,i,o;return Array.isArray(t),t.forEach(s=>{s.constructor===qi?e=s:function sn(n){return Object.getPrototypeOf(n.constructor)===nr}(s)?i=s:o=s}),o||i||e||null}const rv={provide:Hi,useExisting:(0,r.Gpc)(()=>qr)},Iu=(()=>Promise.resolve())();let qr=(()=>{class n extends Hi{constructor(e,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new r.vpe,this.form=new Ps({},ua(e),ss(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Iu.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Au(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Iu.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Iu.then(()=>{const i=this._findContainer(e.path),o=new Ps({});D(o,e),i.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Iu.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Iu.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,vo(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(ir,10),r.Y36(to,10),r.Y36(ls,8))},n.\u0275dir=r.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&r.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([rv]),r.qOj]}),n})();function Su(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Zf(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const yo=class extends io{constructor(t=null,e,i){super(Pt(e),si(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Os(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Zf(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Su(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Su(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Zf(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},OD={provide:da,useExisting:(0,r.Gpc)(()=>ha)},ov=(()=>Promise.resolve())();let ha=(()=>{class n extends da{constructor(e,i,o,s,c,d){super(),this._changeDetectorRef=c,this.callSetDisabledState=d,this.control=new yo,this._registered=!1,this.name="",this.update=new r.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Pa(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),wt(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Au(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){ov.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,o=0!==i&&(0,r.D6c)(i);ov.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Wm(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Hi,9),r.Y36(ir,10),r.Y36(to,10),r.Y36(Ir,10),r.Y36(r.sBO,8),r.Y36(ls,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([OD]),r.qOj,r.TTD]}),n})(),Il=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const NM={provide:Ir,useExisting:(0,r.Gpc)(()=>Bf),multi:!0};let Bf=(()=>{class n extends nr{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&r.NdJ("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[r._Bn([NM]),r.qOj]}),n})(),Bo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();const Yd=new r.OlP("NgModelWithFormControlWarning"),PD={provide:da,useExisting:(0,r.Gpc)(()=>sv)};let sv=(()=>{class n extends da{set isDisabled(e){}constructor(e,i,o,s,c){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=c,this.update=new r.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=Pa(0,o)}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&Ff(i,this,!1),Au(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}wt(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Ff(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(r.Y36(ir,10),r.Y36(to,10),r.Y36(Ir,10),r.Y36(Yd,8),r.Y36(ls,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[r._Bn([PD]),r.qOj,r.TTD]}),n})();const LM={provide:Hi,useExisting:(0,r.Gpc)(()=>Mu)};let Mu=(()=>{class n extends Hi{constructor(e,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Uf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Au(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Ff(e.control||null,e,!1),function Qm(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,vo(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,o=this.form.get(e.path);i!==o&&(Ff(i||null,e),(n=>n instanceof yo)(o)&&(Au(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);D(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function M(n,t){return Uf(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Lf(this.form,this),this._oldForm&&Uf(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(ir,10),r.Y36(to,10),r.Y36(ls,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&r.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([LM]),r.qOj,r.TTD]}),n})();const ZM={provide:da,useExisting:(0,r.Gpc)(()=>qf)};let qf=(()=>{class n extends da{set isDisabled(e){}constructor(e,i,o,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.name=null,this.update=new r.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Pa(0,s)}ngOnChanges(e){this._added||this._setUpControl(),wt(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Wm(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(r.Y36(Hi,13),r.Y36(ir,10),r.Y36(to,10),r.Y36(Ir,10),r.Y36(Yd,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r._Bn([ZM]),r.qOj,r.TTD]}),n})();const z0={provide:Ir,useExisting:(0,r.Gpc)(()=>Sc),multi:!0};function FD(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Sc=(()=>{class n extends nr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const o=FD(this._getOptionId(e),e);this.setProperty("value",o)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function tg(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&r.NdJ("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[r._Bn([z0]),r.qOj]}),n})(),Wd=(()=>{class n{constructor(e,i,o){this._element=e,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(FD(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(Sc,9))},n.\u0275dir=r.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const $0={provide:Ir,useExisting:(0,r.Gpc)(()=>Hf),multi:!0};function cv(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Hf=(()=>{class n extends nr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const o=e.map(s=>this._getOptionId(s));i=(s,c)=>{s._setSelected(o.indexOf(c.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const o=[],s=i.selectedOptions;if(void 0!==s){const c=s;for(let d=0;d<c.length;d++){const _=this._getOptionValue(c[d].value);o.push(_)}}else{const c=i.options;for(let d=0;d<c.length;d++){const p=c[d];if(p.selected){const _=this._getOptionValue(p.value);o.push(_)}}}this.value=o,e(o)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function LD(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&r.NdJ("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[r._Bn([$0]),r.qOj]}),n})(),ku=(()=>{class n{constructor(e,i,o){this._element=e,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(cv(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(cv(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(Hf,9))},n.\u0275dir=r.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();function ig(n){return"number"==typeof n?n:parseFloat(n)}let Kd=(()=>{class n{constructor(){this._validator=yc}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):yc,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,features:[r.TTD]}),n})();const BM={provide:ir,useExisting:(0,r.Gpc)(()=>G0),multi:!0};let G0=(()=>{class n extends Kd{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>ig(e),this.createValidator=e=>vc(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&r.uIk("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[r._Bn([BM]),r.qOj]}),n})();const qM={provide:ir,useExisting:(0,r.Gpc)(()=>Y0),multi:!0};let Y0=(()=>{class n extends Kd{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>ig(e),this.createValidator=e=>Ym(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&r.uIk("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[r._Bn([qM]),r.qOj]}),n})();const HM={provide:ir,useExisting:(0,r.Gpc)(()=>cs),multi:!0};let cs=(()=>{class n extends Kd{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=r.D6c,this.createValidator=e=>Ms}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&r.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[r._Bn([HM]),r.qOj]}),n})();const BD={provide:ir,useExisting:(0,r.Gpc)(()=>jf),multi:!0};let jf=(()=>{class n extends Kd{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=e=>e,this.createValidator=e=>Of(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&r.uIk("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},features:[r._Bn([BD]),r.qOj]}),n})(),qD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[Bo]}),n})(),X0=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:ls,useValue:e.callSetDisabledState??Tu}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[qD]}),n})(),fv=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Yd,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:ls,useValue:e.callSetDisabledState??Tu}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[qD]}),n})();var fr=U(2011),Qd=U(4986),ft=U(9646),us=U(6451),ew=U(3099),Sr=U(4482);function Mi(n,t){return(0,Sr.e)((e,i)=>{let o=null,s=0,c=!1;const d=()=>c&&!o&&i.complete();e.subscribe((0,bn.x)(i,p=>{o?.unsubscribe();let _=0;const b=s++;(0,Zo.Xf)(n(p,b)).subscribe(o=(0,bn.x)(i,E=>i.next(t?t(p,E,b,_++):E),()=>{o=null,d()}))},()=>{c=!0,d()}))})}function Jd(n,t){return(0,Sr.e)(function WM(n,t,e,i,o){return(s,c)=>{let d=e,p=t,_=0;s.subscribe((0,bn.x)(c,b=>{const E=_++;p=d?n(p,b,E):(d=!0,b),i&&c.next(p)},o&&(()=>{d&&c.next(p),c.complete()})))}}(n,t,arguments.length>=2,!0))}var rg=U(1884),Ou=U(4671),pv=U(5032),Wt=U(4976),tw=(U(9568),U(3942)),Ns=U(4859),de=U(5861),Mr=U(6881),V=U(2090),Fs=U(1877);const nw="@firebase/database";let mv="";function rw(n){mv=n}class QM{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,V.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,V.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class JM{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,V.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const zD=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new QM(t)}}catch{}return new JM},Xd=zD("localStorage"),ow=zD("sessionStorage"),Ls=new Fs.Yd("@firebase/database"),$f=function(){let n=1;return function(){return n++}}(),$D=function(n){const t=(0,V.dS)(n),e=new V.gQ;e.update(t);const i=e.digest();return V.US.encodeByteArray(i)},gv=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=gv.apply(null,i):t+="object"==typeof i?(0,V.Wl)(i):i,t+=" "}return t};let Gf=null,XM=!0;const ek=function(n,t){(0,V.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Ls.logLevel=Fs.in.VERBOSE,Gf=Ls.log.bind(Ls),t&&ow.set("logging_enabled",!0)):"function"==typeof n?Gf=n:(Gf=null,ow.remove("logging_enabled"))},oo=function(...n){if(!0===XM&&(XM=!1,null===Gf&&!0===ow.get("logging_enabled")&&ek(!0)),Gf){const t=gv.apply(null,n);Gf(t)}},Yf=function(n){return function(...t){oo(n,...t)}},sw=function(...n){const t="FIREBASE INTERNAL ERROR: "+gv(...n);Ls.error(t)},Sl=function(...n){const t=`FIREBASE FATAL ERROR: ${gv(...n)}`;throw Ls.error(t),new Error(t)},bo=function(...n){const t="FIREBASE WARNING: "+gv(...n);Ls.warn(t)},Wf=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},fa="[MIN_NAME]",Ml="[MAX_NAME]",Pu=function(n,t){if(n===t)return 0;if(n===fa||t===Ml)return-1;if(t===fa||n===Ml)return 1;{const e=KD(n),i=KD(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},GD=function(n,t){return n===t?0:n<t?-1:1},_v=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,V.Wl)(t))},YD=function(n){if("object"!=typeof n||null===n)return(0,V.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,V.Wl)(t[i]),e+=":",e+=YD(n[t[i]]);return e+="}",e},nk=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let o=0;o<e;o+=t)i.push(n.substring(o,o+t>e?e:o+t));return i};function pr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const vv=function(n){(0,V.hu)(!Wf(n),"Invalid JSON number");const i=1023;let o,s,c,d,p;0===n?(s=0,c=0,o=1/n==-1/0?1:0):(o=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=d+i,c=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const _=[];for(p=52;p;p-=1)_.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)_.push(s%2?1:0),s=Math.floor(s/2);_.push(o?1:0),_.reverse();const b=_.join("");let E="";for(p=0;p<64;p+=8){let k=parseInt(b.substr(p,8),2).toString(16);1===k.length&&(k="0"+k),E+=k}return E.toLowerCase()},ik=new RegExp("^-?(0*)\\d{1,10}$"),KD=function(n){if(ik.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},eh=function(n){try{n()}catch(t){setTimeout(()=>{throw bo("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},og=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class aw{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){bo(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class sk{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(oo("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',bo(t)}}let yi=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const XD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ak="websocket",lk="long_polling";class th{constructor(t,e,i,o,s=!1,c="",d=!1,p=!1){this.secure=e,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=p,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Xd.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Xd.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Kf(n,t,e){let i;if((0,V.hu)("string"==typeof t,"typeof type must == string"),(0,V.hu)("object"==typeof e,"typeof params must == object"),t===ak)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==lk)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Nn(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const o=[];return pr(e,(s,c)=>{o.push(s+"="+c)}),i+o.join("&")}class nE{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,V.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,V.p$)(this.counters_)}}const xv={},Dv={};function Ev(n){const t=n.toString();return xv[t]||(xv[t]=new nE),xv[t]}class iE{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<i.length;++o)i[o]&&eh(()=>{this.onMessage_(i[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class kl{constructor(t,e,i,o,s,c,d){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Yf(t),this.stats_=Ev(e),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),Kf(e,lk,p))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new iE(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,V.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new mw((...s)=>{const[c,d,p,_,b]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=d,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,d]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&XD.test(location.hostname)&&(i.r="f");const o=this.urlFn(i);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){kl.forceAllow_=!0}static forceDisallow(){kl.forceDisallow_=!0}static isAvailable(){return!((0,V.Yr)()||!kl.forceAllow_&&(kl.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,V.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,V.h$)(e),o=nk(i,1840);for(let s=0;s<o.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,V.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,V.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class mw{constructor(t,e,i,o){if(this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,V.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=$f(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=mw.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){oo("frame writing exception"),d.stack&&oo(d.stack),oo(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||oo("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+o+"="+c.seg+"&ts"+o+"="+c.ts+"&d"+o+"="+c.d,o++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},o=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(o),i()})}addTag(t,e){(0,V.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const o=i.readyState;(!o||"loaded"===o||"complete"===o)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{oo("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let kc=null;typeof MozWebSocket<"u"?kc=MozWebSocket:typeof WebSocket<"u"&&(kc=WebSocket);let Qf=(()=>{class n{constructor(e,i,o,s,c,d,p){this.connId=e,this.applicationId=o,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Yf(this.connId),this.stats_=Ev(i),this.connURL=n.connectionURL_(i,d,p,s,o),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,o,s,c){const d={v:"5"};return!(0,V.Yr)()&&typeof location<"u"&&location.hostname&&XD.test(location.hostname)&&(d.r="f"),i&&(d.s=i),o&&(d.ls=o),s&&(d.ac=s),c&&(d.p=c),Kf(e,ak,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Xd.set("previous_websocket_failure",!0);try{let o;if((0,V.Yr)()){o={headers:{"User-Agent":`Firebase/5/${mv}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(o.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(o.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,d=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;d&&(o.proxy={origin:d})}this.mySock=new kc(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const s=o.message||o.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const s=o.message||o.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const o=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);o&&o.length>1&&parseFloat(o[1])<4.4&&(e=!0)}return!e&&null!==kc&&!n.forceDisallow_}static previouslyFailed(){return Xd.isInMemoryStorage||!0===Xd.get("previous_websocket_failure")}markConnectionHealthy(){Xd.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const o=(0,V.cI)(i);this.onMessage(o)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,V.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const o=this.extractFrameCount_(i);null!==o&&this.appendFrame_(o)}}send(e){this.resetKeepAlive();const i=(0,V.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const o=nk(i,16384);o.length>1&&this.sendString_(String(o.length));for(let s=0;s<o.length;s++)this.sendString_(o[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),lE=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[kl,Qf]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Qf&&Qf.isAvailable();let o=i&&!Qf.previouslyFailed();if(e.webSocketOnly&&(i||bo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Qf];else{const s=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&s.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class Rv{constructor(t,e,i,o,s,c,d,p,_,b){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=s,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=p,this.onKill_=_,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Yf("c:"+this.id+":"),this.transportManager_=new lE(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=og(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=_v("t",t),i=_v("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=_v("t",t),i=_v("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=_v("t",t);if("d"in t){const i=t.d;if("h"===e){const o=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?sw("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):sw("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&bo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),og(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):og(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Xd.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ov{put(t,e,i,o){}merge(t,e,i,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class Jf{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,V.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let o=0;o<i.length;o++)i[o].callback.apply(i[o].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const o=this.getInitialEvent(t);o&&e.apply(i,o)}off(t,e,i){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let s=0;s<o.length;s++)if(o[s].callback===e&&(!i||i===o[s].context))return void o.splice(s,1)}validateEventType_(t){(0,V.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Xf extends Jf{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,V.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Xf}getInitialEvent(t){return(0,V.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Sn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function vn(){return new Sn("")}function dn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Rl(n){return n.pieces_.length-n.pieceNum_}function Zn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Sn(n.pieces_,t)}function hE(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function rh(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function vw(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Sn(t,0)}function bi(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Sn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let o=0;o<i.length;o++)i[o].length>0&&e.push(i[o])}return new Sn(e,0)}function mn(n){return n.pieceNum_>=n.pieces_.length}function wo(n,t){const e=dn(n),i=dn(t);if(null===e)return t;if(e===i)return wo(Zn(n),Zn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function fE(n,t){const e=rh(n,0),i=rh(t,0);for(let o=0;o<e.length&&o<i.length;o++){const s=Pu(e[o],i[o]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function yw(n,t){if(Rl(n)!==Rl(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function pa(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Rl(n)>Rl(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class xU{constructor(t,e){this.errorPrefix_=e,this.parts_=rh(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,V.ug)(this.parts_[i]);Nv(this)}}function Nv(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+oh(n))}function oh(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Fv extends Jf{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Fv}getInitialEvent(t){return(0,V.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const sh=1e3;let Rc,ah=(()=>{class n extends Ov{constructor(e,i,o,s,c,d,p,_){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=o,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=p,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=Yf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=sh,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,V.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Fv.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Xf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,o){const s=++this.requestNumber_,c={r:s,a:e,b:i};this.log_((0,V.Wl)(c)),(0,V.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),o&&(this.requestCBHash_[s]=o)}get(e){this.initConnection_();const i=new V.BH,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:d=>{const p=d.d;"ok"===d.s?i.resolve(p):i.reject(p)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,o,s){this.initConnection_();const c=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),(0,V.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,V.hu)(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:e,tag:o};this.listens.get(d).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,o=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})}sendListen_(e){const i=e.query,o=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+o+" for "+s);const c={p:o};e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,p=>{const _=p.d,b=p.s;n.warnOnListenWarnings_(_,i),(this.listens.get(o)&&this.listens.get(o).get(s))===e&&(this.log_("listen response",p),"ok"!==b&&this.removeListen_(o,s),e.onComplete&&e.onComplete(b,_))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,V.r3)(e,"w")){const o=(0,V.DV)(e,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();bo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,V.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,V.w9)(e)?"auth":"gauth",o={cred:e};null===this.authOverride_?o.noauth=!0:"object"==typeof this.authOverride_&&(o.authvar=this.authOverride_),this.sendRequest(i,o,s=>{const c=s.s,d=s.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,o=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,o)})}unlisten(e,i){const o=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+o+" "+s),(0,V.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,s)&&this.connected_&&this.sendUnlisten_(o,s,e._queryObject,i)}sendUnlisten_(e,i,o,s){this.log_("Unlisten on "+e+" for "+i);const c={p:e};s&&(c.q=o,c.t=s),this.sendRequest("n",c)}onDisconnectPut(e,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:o})}onDisconnectMerge(e,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:o})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,o,s){const c={p:i,d:o};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,d=>{s&&setTimeout(()=>{s(d.s,d.d)},Math.floor(0))})}put(e,i,o,s){this.putInternal("p",e,i,o,s)}merge(e,i,o,s){this.putInternal("m",e,i,o,s)}putInternal(e,i,o,s,c){this.initConnection_();const d={p:i,d:o};void 0!==c&&(d.h=c),this.outstandingPuts_.push({action:e,request:d,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,o,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,o=>{"ok"!==o.s&&this.log_("reportStats","Error sending stats: "+o.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,V.Wl)(e));const i=e.r,o=this.requestCBHash_[i];o&&(delete this.requestCBHash_[i],o(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):sw("Unrecognized action received from server: "+(0,V.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,V.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=sh,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=sh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=sh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,de.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),o=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,d=e.lastSessionId;let p=!1,_=null;const b=function(){_?_.close():(p=!0,s())};e.realtime_={close:b,sendRequest:function(F){(0,V.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(F)}};const k=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[F,q]=yield Promise.all([e.authTokenProvider_.getToken(k),e.appCheckTokenProvider_.getToken(k)]);p?oo("getToken() completed but was canceled"):(oo("getToken() completed. Creating connection."),e.authToken_=F&&F.accessToken,e.appCheckToken_=q&&q.token,_=new Rv(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,o,s,K=>{bo(K+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},d))}catch(F){e.log_("Failed to get token: "+F),p||(e.repoInfo_.nodeAdmin&&bo(F),b())}}})()}interrupt(e){oo("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){oo("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,V.xb)(this.interruptReasons_)&&(this.reconnectDelay_=sh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let o;o=i?i.map(c=>YD(c)).join("$"):"default";const s=this.removeListen_(e,o);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const o=new Sn(e).toString();let s;if(this.listens.has(o)){const c=this.listens.get(o);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(o)}else s=void 0;return s}onAuthRevoked_(e,i){oo("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){oo("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,V.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+mv.replace(/\./g,"-")]=1,(0,V.uI)()?e["framework.cordova"]=1:(0,V.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Xf.getInstance().currentlyOnline();return(0,V.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class tn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new tn(t,e)}}class Uv{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new tn(fa,t),o=new tn(fa,e);return 0!==this.compare(i,o)}minPost(){return tn.MIN}}class tp extends Uv{static get __EMPTY_NODE(){return Rc}static set __EMPTY_NODE(t){Rc=t}compare(t,e){return Pu(t.name,e.name)}isDefinedOn(t){throw(0,V.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return tn.MIN}maxPost(){return new tn(Ml,Rc)}makePost(t,e){return(0,V.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new tn(t,Rc)}toString(){return".key"}}const Ol=new tp;class ag{constructor(t,e,i,o,s=null){this.isReverse_=o,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(c=e?i(t.key,e):1,o&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let lg,Na=(()=>{class n{constructor(e,i,o,s,c){this.key=e,this.value=i,this.color=o??n.RED,this.left=s??ds.EMPTY_NODE,this.right=c??ds.EMPTY_NODE}copy(e,i,o,s,c){return new n(e??this.key,i??this.value,o??this.color,s??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,o){let s=this;const c=o(e,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(e,i,o),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,o)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ds.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let o,s;if(o=this,i(e,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),0===i(e,o.key)){if(o.right.isEmpty())return ds.EMPTY_NODE;s=o.right.min_(),o=o.copy(s.key,s.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ds{constructor(t,e=ds.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new ds(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Na.BLACK,null,null))}remove(t){return new ds(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Na.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,o=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return o?o.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(o=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ag(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new ag(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new ag(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new ag(this.root_,null,this.comparator_,!0,t)}}function _E(n,t){return Pu(n.name,t.name)}function Vv(n,t){return Pu(n,t)}ds.EMPTY_NODE=new class wk{copy(t,e,i,o,s){return this}insert(t,e,i){return new Na(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const ww=function(n){return"number"==typeof n?"number:"+vv(n):"string:"+n},Ck=function(n){if(n.isLeafNode()){const t=n.val();(0,V.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,V.r3)(t,".sv"),"Priority must be a string or number.")}else(0,V.hu)(n===lg||n.isEmpty(),"priority of unexpected type.");(0,V.hu)(n===lg||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Zv,ug,Cw,Fa=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,V.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ck(this.priorityNode_)}static set __childrenNodeConstructor(e){Zv=e}static get __childrenNodeConstructor(){return Zv}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return mn(e)?this:".priority"===dn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const o=dn(e);return null===o?i:i.isEmpty()&&".priority"!==o?this:((0,V.hu)(".priority"!==o||1===Rl(e),".priority must be the last token in a path"),this.updateImmediateChild(o,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Zn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ww(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?vv(this.value_):this.value_,this.lazyHash_=$D(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,V.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,o=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(o);return(0,V.hu)(s>=0,"Unknown leaf type: "+i),(0,V.hu)(c>=0,"Unknown leaf type: "+o),s===c?"object"===o?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const ai=new class Dk extends Uv{compare(t,e){const i=t.node.getPriority(),o=e.node.getPriority(),s=i.compareTo(o);return 0===s?Pu(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return tn.MIN}maxPost(){return new tn(Ml,new Fa("[PRIORITY-POST]",Cw))}makePost(t,e){const i=ug(t);return new tn(e,new Fa("[PRIORITY-POST]",i))}toString(){return".priority"}},Ek=Math.log(2);class Tk{constructor(t){this.count=parseInt(Math.log(t+1)/Ek,10),this.current_=this.count-1;const o=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Bv=function(n,t,e,i){n.sort(t);const o=function(p,_){const b=_-p;let E,k;if(0===b)return null;if(1===b)return E=n[p],k=e?e(E):E,new Na(k,E.node,Na.BLACK,null,null);{const F=parseInt(b/2,10)+p,q=o(p,F),K=o(F+1,_);return E=n[F],k=e?e(E):E,new Na(k,E.node,Na.BLACK,q,K)}},d=function(p){let _=null,b=null,E=n.length;const k=function(q,K){const ee=E-q,Oe=E;E-=q;const ze=o(ee+1,Oe),He=n[ee],Je=e?e(He):He;F(new Na(Je,He.node,K,null,ze))},F=function(q){_?(_.left=q,_=q):(b=q,_=q)};for(let q=0;q<p.count;++q){const K=p.nextBitIsOne(),ee=Math.pow(2,p.count-(q+1));K?k(ee,Na.BLACK):(k(ee,Na.BLACK),k(ee,Na.RED))}return b}(new Tk(n.length));return new ds(i||t,d)};let qv;const La={};class so{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,V.hu)(La&&ai,"ChildrenNode.ts has not been loaded"),qv=qv||new so({".priority":La},{".priority":ai}),qv}get(t){const e=(0,V.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof ds?e:null}hasIndex(t){return(0,V.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,V.hu)(t!==Ol,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let o=!1;const s=e.getIterator(tn.Wrap);let d,c=s.getNext();for(;c;)o=o||t.isDefinedOn(c.node),i.push(c),c=s.getNext();d=o?Bv(i,t.getCompare()):La;const p=t.toString(),_=Object.assign({},this.indexSet_);_[p]=t;const b=Object.assign({},this.indexes_);return b[p]=d,new so(b,_)}addToIndexes(t,e){const i=(0,V.UI)(this.indexes_,(o,s)=>{const c=(0,V.DV)(this.indexSet_,s);if((0,V.hu)(c,"Missing index implementation for "+s),o===La){if(c.isDefinedOn(t.node)){const d=[],p=e.getIterator(tn.Wrap);let _=p.getNext();for(;_;)_.name!==t.name&&d.push(_),_=p.getNext();return d.push(t),Bv(d,c.getCompare())}return La}{const d=e.get(t.name);let p=o;return d&&(p=p.remove(new tn(t.name,d))),p.insert(t,t.node)}});return new so(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,V.UI)(this.indexes_,o=>{if(o===La)return o;{const s=e.get(t.name);return s?o.remove(new tn(t.name,s)):o}});return new so(i,this.indexSet_)}}let np,nn=(()=>{class n{constructor(e,i,o){this.children_=e,this.priorityNode_=i,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Ck(this.priorityNode_),this.children_.isEmpty()&&(0,V.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return np||(np=new n(new ds(Vv),null,so.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||np}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?np:i}}getChild(e){const i=dn(e);return null===i?this:this.getImmediateChild(i).getChild(Zn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,V.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const o=new tn(e,i);let s,c;i.isEmpty()?(s=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(o,this.children_)):(s=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(o,this.children_));const d=s.isEmpty()?np:this.priorityNode_;return new n(s,d,c)}}updateChild(e,i){const o=dn(e);if(null===o)return i;{(0,V.hu)(".priority"!==dn(e)||1===Rl(e),".priority must be the last token in a path");const s=this.getImmediateChild(o).updateChild(Zn(e),i);return this.updateImmediateChild(o,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let o=0,s=0,c=!0;if(this.forEachChild(ai,(d,p)=>{i[d]=p.val(e),o++,c&&n.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):c=!1}),!e&&c&&s<2*o){const d=[];for(const p in i)d[p]=i[p];return d}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+ww(this.getPriority().val())+":"),this.forEachChild(ai,(i,o)=>{const s=o.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":$D(e)}return this.lazyHash_}getPredecessorChildName(e,i,o){const s=this.resolveIndex_(o);if(s){const c=s.getPredecessorKey(new tn(e,i));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const o=i.minKey();return o&&o.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new tn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const o=i.maxKey();return o&&o.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new tn(i,this.children_.get(i)):null}forEachChild(e,i){const o=this.resolveIndex_(e);return o?o.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const o=this.resolveIndex_(i);if(o)return o.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,tn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const o=this.resolveIndex_(i);if(o)return o.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,tn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)>0;)s.getNext(),c=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Hv?-1:0}withIndex(e){if(e===Ol||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Ol||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const o=this.getIterator(ai),s=i.getIterator(ai);let c=o.getNext(),d=s.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=o.getNext(),d=s.getNext()}return null===c&&null===d}return!1}return!1}}resolveIndex_(e){return e===Ol?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Hv=new class Ak extends nn{constructor(){super(new ds(Vv),nn.EMPTY_NODE,so.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return nn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(tn,{MIN:{value:new tn(fa,nn.EMPTY_NODE)},MAX:{value:new tn(Ml,Hv)}}),tp.__EMPTY_NODE=nn.EMPTY_NODE,Fa.__childrenNodeConstructor=nn,function cg(n){lg=n}(Hv),function xk(n){Cw=n}(Hv);const DU=!0;function wi(n,t=null){if(null===n)return nn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,V.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Fa(n,wi(t));if(n instanceof Array||!DU){let e=nn.EMPTY_NODE;return pr(n,(i,o)=>{if((0,V.r3)(n,i)&&"."!==i.substring(0,1)){const s=wi(o);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(wi(t))}{const e=[];let i=!1;if(pr(n,(c,d)=>{if("."!==c.substring(0,1)){const p=wi(d);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),e.push(new tn(c,p)))}}),0===e.length)return nn.EMPTY_NODE;const s=Bv(e,_E,c=>c.name,Vv);if(i){const c=Bv(e,ai.getCompare());return new nn(s,wi(t),new so({".priority":c},{".priority":ai}))}return new nn(s,wi(t),so.Default)}}!function vE(n){ug=n}(wi);class jv extends Uv{constructor(t){super(),this.indexPath_=t,(0,V.hu)(!mn(t)&&".priority"!==dn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),o=this.extractChild(e.node),s=i.compareTo(o);return 0===s?Pu(t.name,e.name):s}makePost(t,e){const i=wi(t),o=nn.EMPTY_NODE.updateChild(this.indexPath_,i);return new tn(e,o)}maxPost(){const t=nn.EMPTY_NODE.updateChild(this.indexPath_,Hv);return new tn(Ml,t)}toString(){return rh(this.indexPath_,0).join("/")}}const zv=new class EU extends Uv{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Pu(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return tn.MIN}maxPost(){return tn.MAX}makePost(t,e){const i=wi(t);return new tn(e,i)}toString(){return".value"}};function dg(n){return{type:"value",snapshotNode:n}}function lh(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function ip(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function rp(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class $v{constructor(t){this.index_=t}updateChild(t,e,i,o,s,c){(0,V.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(e);return d.getChild(o).equals(i.getChild(o))&&d.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(ip(e,d)):(0,V.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(lh(e,i)):c.trackChildChange(rp(e,i,d))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(ai,(o,s)=>{e.hasChild(o)||i.trackChildChange(ip(o,s))}),e.isLeafNode()||e.forEachChild(ai,(o,s)=>{if(t.hasChild(o)){const c=t.getImmediateChild(o);c.equals(s)||i.trackChildChange(rp(o,s,c))}else i.trackChildChange(lh(o,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?nn.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class op{constructor(t){this.indexedFilter_=new $v(t.getIndex()),this.index_=t.getIndex(),this.startPost_=op.getStartPost_(t),this.endPost_=op.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,o,s,c){return this.matches(new tn(e,i))||(i=nn.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,o,s,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=nn.EMPTY_NODE);let o=e.withIndex(this.index_);o=o.updatePriority(nn.EMPTY_NODE);const s=this;return e.forEachChild(ai,(c,d)=>{s.matches(new tn(c,d))||(o=o.updateImmediateChild(c,nn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class TU{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new op(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,o,s,c){return this.rangedFilter_.matches(new tn(e,i))||(i=nn.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,o,s,c):this.fullLimitUpdateChild_(t,e,i,s,c)}updateFullNode(t,e,i){let o;if(e.isLeafNode()||e.isEmpty())o=nn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;o=nn.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const d=s.getNext();if(this.withinDirectionalStart(d)){if(!this.withinDirectionalEnd(d))break;o=o.updateImmediateChild(d.name,d.node),c++}}}else{let s;o=e.withIndex(this.index_),o=o.updatePriority(nn.EMPTY_NODE),s=this.reverse_?o.getReverseIterator(this.index_):o.getIterator(this.index_);let c=0;for(;s.hasNext();){const d=s.getNext();c<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?c++:o=o.updateImmediateChild(d.name,nn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,o,s){let c;if(this.reverse_){const E=this.index_.getCompare();c=(k,F)=>E(F,k)}else c=this.index_.getCompare();const d=t;(0,V.hu)(d.numChildren()===this.limit_,"");const p=new tn(e,i),_=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),b=this.rangedFilter_.matches(p);if(d.hasChild(e)){const E=d.getImmediateChild(e);let k=o.getChildAfterChild(this.index_,_,this.reverse_);for(;null!=k&&(k.name===e||d.hasChild(k.name));)k=o.getChildAfterChild(this.index_,k,this.reverse_);const F=null==k?1:c(k,p);if(b&&!i.isEmpty()&&F>=0)return s?.trackChildChange(rp(e,i,E)),d.updateImmediateChild(e,i);{s?.trackChildChange(ip(e,E));const K=d.updateImmediateChild(e,nn.EMPTY_NODE);return null!=k&&this.rangedFilter_.matches(k)?(s?.trackChildChange(lh(k.name,k.node)),K.updateImmediateChild(k.name,k.node)):K}}return i.isEmpty()?t:b&&c(_,p)>=0?(null!=s&&(s.trackChildChange(ip(_.name,_.node)),s.trackChildChange(lh(e,i))),d.updateImmediateChild(e,i).updateImmediateChild(_.name,nn.EMPTY_NODE)):t}}class Gv{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ai}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,V.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,V.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fa}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,V.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,V.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ml}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,V.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ai}copy(){const t=new Gv;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Yv(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function Wv(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function Kv(n,t){const e=n.copy();return e.index_=t,e}function Rk(n){const t={};if(n.isDefault())return t;let e;if(n.index_===ai?e="$priority":n.index_===zv?e="$value":n.index_===Ol?e="$key":((0,V.hu)(n.index_ instanceof jv,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,V.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,V.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,V.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,V.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,V.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function xw(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==ai&&(t.i=n.index_.toString()),t}class hg extends Ov{constructor(t,e,i,o){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.log_=Yf("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,V.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,o){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const c=hg.getListenId_(t,i),d={};this.listens_[c]=d;const p=Rk(t._queryParams);this.restRequest_(s+".json",p,(_,b)=>{let E=b;if(404===_&&(E=null,_=null),null===_&&this.onDataUpdate_(s,E,!1,i),(0,V.DV)(this.listens_,c)===d){let k;k=_?401===_?"permission_denied":"rest_error:"+_:"ok",o(k,null)}})}unlisten(t,e){const i=hg.getListenId_(t,e);delete this.listens_[i]}get(t){const e=Rk(t._queryParams),i=t._path.toString(),o=new V.BH;return this.restRequest_(i+".json",e,(s,c)=>{let d=c;404===s&&(d=null,s=null),null===s?(this.onDataUpdate_(i,d,!1,null),o.resolve(d)):o.reject(new Error(d))}),o.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,s])=>{o&&o.accessToken&&(e.auth=o.accessToken),s&&s.token&&(e.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,V.xO)(e);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=(0,V.cI)(d.responseText)}catch{bo("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,p)}else 401!==d.status&&404!==d.status&&bo("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}class Nu{constructor(){this.rootNode_=nn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Oc(){return{value:null,children:new Map}}function ch(n,t,e){if(mn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=dn(t);n.children.has(i)||n.children.set(i,Oc()),ch(n.children.get(i),t=Zn(t),e)}}function Dw(n,t){if(mn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(ai,(i,o)=>{ch(n,new Sn(i),o)}),Dw(n,t)}}if(n.children.size>0){const e=dn(t);return t=Zn(t),n.children.has(e)&&Dw(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function sp(n,t,e){null!==n.value?e(t,n.value):function ap(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,o)=>{sp(o,new Sn(t.toString()+"/"+i),e)})}class Ew{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&pr(this.last_,(i,o)=>{e[i]=e[i]-o}),this.last_=t,e}}class Aw{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ew(t);const i=1e4+2e4*Math.random();og(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;pr(t,(o,s)=>{s>0&&(0,V.r3)(this.statsToReport_,o)&&(e[o]=s,i=!0)}),i&&this.server_.reportStats(e),og(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var zi=(()=>((zi=zi||{})[zi.OVERWRITE=0]="OVERWRITE",zi[zi.MERGE=1]="MERGE",zi[zi.ACK_USER_WRITE=2]="ACK_USER_WRITE",zi[zi.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",zi))();function Iw(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Jv{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=zi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(mn(this.path)){if(null!=this.affectedTree.value)return(0,V.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Sn(t));return new Jv(vn(),e,this.revert)}}return(0,V.hu)(dn(this.path)===t,"operationForChild called for unrelated child."),new Jv(Zn(this.path),this.affectedTree,this.revert)}}class pg{constructor(t,e){this.source=t,this.path=e,this.type=zi.LISTEN_COMPLETE}operationForChild(t){return mn(this.path)?new pg(this.source,vn()):new pg(this.source,Zn(this.path))}}class Fu{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=zi.OVERWRITE}operationForChild(t){return mn(this.path)?new Fu(this.source,vn(),this.snap.getImmediateChild(t)):new Fu(this.source,Zn(this.path),this.snap)}}class cp{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=zi.MERGE}operationForChild(t){if(mn(this.path)){const e=this.children.subtree(new Sn(t));return e.isEmpty()?null:e.value?new Fu(this.source,vn(),e.value):new cp(this.source,vn(),e)}return(0,V.hu)(dn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new cp(this.source,Zn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Lu{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(mn(t))return this.isFullyInitialized()&&!this.filtered_;const e=dn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Ok{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function up(n,t,e,i,o,s){const c=i.filter(d=>d.type===e);c.sort((d,p)=>function Nk(n,t,e){if(null==t.childName||null==e.childName)throw(0,V.g5)("Should only compare child_ events.");const i=new tn(t.childName,t.snapshotNode),o=new tn(e.childName,e.snapshotNode);return n.index_.compare(i,o)}(n,d,p)),c.forEach(d=>{const p=function wE(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,d,s);o.forEach(_=>{_.respondsTo(d.type)&&t.push(_.createEvent(p,n.query_))})})}function Xv(n,t){return{eventCache:n,serverCache:t}}function ao(n,t,e,i){return Xv(new Lu(t,e,i),n.serverCache)}function CE(n,t,e,i){return Xv(n.eventCache,new Lu(t,e,i))}function ey(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function dp(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let mg;class li{constructor(t,e=(()=>(mg||(mg=new ds(GD)),mg))()){this.value=t,this.children=e}static fromObject(t){let e=new li(null);return pr(t,(i,o)=>{e=e.set(new Sn(i),o)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:vn(),value:this.value};if(mn(t))return null;{const i=dn(t),o=this.children.get(i);if(null!==o){const s=o.findRootMostMatchingPathAndValue(Zn(t),e);return null!=s?{path:bi(new Sn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(mn(t))return this;{const e=dn(t),i=this.children.get(e);return null!==i?i.subtree(Zn(t)):new li(null)}}set(t,e){if(mn(t))return new li(e,this.children);{const i=dn(t),s=(this.children.get(i)||new li(null)).set(Zn(t),e),c=this.children.insert(i,s);return new li(this.value,c)}}remove(t){if(mn(t))return this.children.isEmpty()?new li(null):new li(null,this.children);{const e=dn(t),i=this.children.get(e);if(i){const o=i.remove(Zn(t));let s;return s=o.isEmpty()?this.children.remove(e):this.children.insert(e,o),null===this.value&&s.isEmpty()?new li(null):new li(this.value,s)}return this}}get(t){if(mn(t))return this.value;{const e=dn(t),i=this.children.get(e);return i?i.get(Zn(t)):null}}setTree(t,e){if(mn(t))return e;{const i=dn(t),s=(this.children.get(i)||new li(null)).setTree(Zn(t),e);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new li(this.value,c)}}fold(t){return this.fold_(vn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((o,s)=>{i[o]=s.fold_(bi(t,o),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,vn(),e)}findOnPath_(t,e,i){const o=!!this.value&&i(e,this.value);if(o)return o;if(mn(t))return null;{const s=dn(t),c=this.children.get(s);return c?c.findOnPath_(Zn(t),bi(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,vn(),e)}foreachOnPath_(t,e,i){if(mn(t))return this;{this.value&&i(e,this.value);const o=dn(t),s=this.children.get(o);return s?s.foreachOnPath_(Zn(t),bi(e,o),i):new li(null)}}foreach(t){this.foreach_(vn(),t)}foreach_(t,e){this.children.inorderTraversal((i,o)=>{o.foreach_(bi(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Ua{constructor(t){this.writeTree_=t}static empty(){return new Ua(new li(null))}}function gg(n,t,e){if(mn(t))return new Ua(new li(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const o=i.path;let s=i.value;const c=wo(o,t);return s=s.updateChild(c,e),new Ua(n.writeTree_.set(o,s))}{const o=new li(e),s=n.writeTree_.setTree(t,o);return new Ua(s)}}}function ty(n,t,e){let i=n;return pr(e,(o,s)=>{i=gg(i,bi(t,o),s)}),i}function DE(n,t){if(mn(t))return Ua.empty();{const e=n.writeTree_.setTree(t,new li(null));return new Ua(e)}}function Sw(n,t){return null!=Pc(n,t)}function Pc(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(wo(e.path,t)):null}function EE(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(ai,(i,o)=>{t.push(new tn(i,o))}):n.writeTree_.children.inorderTraversal((i,o)=>{null!=o.value&&t.push(new tn(i,o.value))}),t}function Uu(n,t){if(mn(t))return n;{const e=Pc(n,t);return new Ua(null!=e?new li(e):n.writeTree_.subtree(t))}}function Mw(n){return n.writeTree_.isEmpty()}function hp(n,t){return TE(vn(),n.writeTree_,t)}function TE(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((o,s)=>{".priority"===o?((0,V.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=TE(bi(n,o),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(bi(n,".priority"),i)),e}}function Us(n,t){return Nw(t,n)}function IE(n,t){if(n.snap)return pa(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&pa(bi(n.path,e),t))return!0;return!1}function ny(n){return n.visible}function iy(n,t,e){let i=Ua.empty();for(let o=0;o<n.length;++o){const s=n[o];if(t(s)){const c=s.path;let d;if(s.snap)pa(e,c)?(d=wo(e,c),i=gg(i,d,s.snap)):pa(c,e)&&(d=wo(c,e),i=gg(i,vn(),s.snap.getChild(d)));else{if(!s.children)throw(0,V.g5)("WriteRecord should have .snap or .children");if(pa(e,c))d=wo(e,c),i=ty(i,d,s.children);else if(pa(c,e))if(d=wo(c,e),mn(d))i=ty(i,vn(),s.children);else{const p=(0,V.DV)(s.children,dn(d));if(p){const _=p.getChild(Zn(d));i=gg(i,vn(),_)}}}}}return i}function Uk(n,t,e,i,o){if(i||o){const s=Uu(n.visibleWrites,t);return!o&&Mw(s)?e:o||null!=e||Sw(s,vn())?hp(iy(n.allWrites,function(_){return(_.visible||o)&&(!i||!~i.indexOf(_.writeId))&&(pa(_.path,t)||pa(t,_.path))},t),e||nn.EMPTY_NODE):null}{const s=Pc(n.visibleWrites,t);if(null!=s)return s;{const c=Uu(n.visibleWrites,t);return Mw(c)?e:null!=e||Sw(c,vn())?hp(c,e||nn.EMPTY_NODE):null}}}function ry(n,t,e,i){return Uk(n.writeTree,n.treePath,t,e,i)}function Ow(n,t){return function ME(n,t,e){let i=nn.EMPTY_NODE;const o=Pc(n.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(ai,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(e){const s=Uu(n.visibleWrites,t);return e.forEachChild(ai,(c,d)=>{const p=hp(Uu(s,new Sn(c)),d);i=i.updateImmediateChild(c,p)}),EE(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return EE(Uu(n.visibleWrites,t)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,t)}function oy(n,t,e,i){return function kE(n,t,e,i,o){(0,V.hu)(i||o,"Either existingEventSnap or existingServerSnap must exist");const s=bi(t,e);if(Sw(n.visibleWrites,s))return null;{const c=Uu(n.visibleWrites,s);return Mw(c)?o.getChild(e):hp(c,o.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function sy(n,t){return function OE(n,t){return Pc(n.visibleWrites,t)}(n.writeTree,bi(n.treePath,t))}function Pw(n,t,e){return function RE(n,t,e,i){const o=bi(t,e),s=Pc(n.visibleWrites,o);return null!=s?s:i.isCompleteForChild(e)?hp(Uu(n.visibleWrites,o),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function Zk(n,t){return Nw(bi(n.treePath,t),n.writeTree)}function Nw(n,t){return{treePath:n,writeTree:t}}class Bk{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,V.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,V.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const o=this.changeMap.get(i);if(o){const s=o.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,rp(i,t.snapshotNode,o.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,ip(i,o.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,lh(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,V.g5)("Illegal combination of changes: "+t+" occurred after "+o);this.changeMap.set(i,rp(i,t.snapshotNode,o.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const fp=new class ay{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class pp{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Lu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Pw(this.writes_,t,i)}}getChildAfterChild(t,e,i){const o=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:dp(this.viewCache_),s=function Vk(n,t,e,i,o,s){return function Rw(n,t,e,i,o,s,c){let d;const p=Uu(n.visibleWrites,t),_=Pc(p,vn());if(null!=_)d=_;else{if(null==e)return[];d=hp(p,e)}if(d=d.withIndex(c),d.isEmpty()||d.isLeafNode())return[];{const b=[],E=c.getCompare(),k=s?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let F=k.getNext();for(;F&&b.length<o;)0!==E(F,i)&&b.push(F),F=k.getNext();return b}}(n.writeTree,n.treePath,t,e,i,o,s)}(this.writes_,o,e,1,i,t);return 0===s.length?null:s[0]}}function PE(n,t,e,i,o,s){const c=t.eventCache;if(null!=sy(i,e))return t;{let d,p;if(mn(e))if((0,V.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const _=dp(t),E=Ow(i,_ instanceof nn?_:nn.EMPTY_NODE);d=n.filter.updateFullNode(t.eventCache.getNode(),E,s)}else{const _=ry(i,dp(t));d=n.filter.updateFullNode(t.eventCache.getNode(),_,s)}else{const _=dn(e);if(".priority"===_){(0,V.hu)(1===Rl(e),"Can't have a priority with additional path components");const b=c.getNode();p=t.serverCache.getNode();const E=oy(i,e,b,p);d=null!=E?n.filter.updatePriority(b,E):c.getNode()}else{const b=Zn(e);let E;if(c.isCompleteForChild(_)){p=t.serverCache.getNode();const k=oy(i,e,c.getNode(),p);E=null!=k?c.getNode().getImmediateChild(_).updateChild(b,k):c.getNode().getImmediateChild(_)}else E=Pw(i,_,t.serverCache);d=null!=E?n.filter.updateChild(c.getNode(),_,E,b,o,s):c.getNode()}}return ao(t,d,c.isFullyInitialized()||mn(e),n.filter.filtersNodes())}}function cy(n,t,e,i,o,s,c,d){const p=t.serverCache;let _;const b=c?n.filter:n.filter.getIndexedFilter();if(mn(e))_=b.updateFullNode(p.getNode(),i,null);else if(b.filtersNodes()&&!p.isFiltered()){const F=p.getNode().updateChild(e,i);_=b.updateFullNode(p.getNode(),F,null)}else{const F=dn(e);if(!p.isCompleteForPath(e)&&Rl(e)>1)return t;const q=Zn(e),ee=p.getNode().getImmediateChild(F).updateChild(q,i);_=".priority"===F?b.updatePriority(p.getNode(),ee):b.updateChild(p.getNode(),F,ee,q,fp,null)}const E=CE(t,_,p.isFullyInitialized()||mn(e),b.filtersNodes());return PE(n,E,e,o,new pp(o,E,s),d)}function _g(n,t,e,i,o,s,c){const d=t.eventCache;let p,_;const b=new pp(o,t,s);if(mn(e))_=n.filter.updateFullNode(t.eventCache.getNode(),i,c),p=ao(t,_,!0,n.filter.filtersNodes());else{const E=dn(e);if(".priority"===E)_=n.filter.updatePriority(t.eventCache.getNode(),i),p=ao(t,_,d.isFullyInitialized(),d.isFiltered());else{const k=Zn(e),F=d.getNode().getImmediateChild(E);let q;if(mn(k))q=i;else{const K=b.getCompleteChild(E);q=null!=K?".priority"===hE(k)&&K.getChild(vw(k)).isEmpty()?K:K.updateChild(k,i):nn.EMPTY_NODE}p=F.equals(q)?t:ao(t,n.filter.updateChild(d.getNode(),E,q,k,b,c),d.isFullyInitialized(),n.filter.filtersNodes())}}return p}function NE(n,t){return n.eventCache.isCompleteForChild(t)}function FE(n,t,e){return e.foreach((i,o)=>{t=t.updateChild(i,o)}),t}function uy(n,t,e,i,o,s,c,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let _,p=t;_=mn(e)?i:new li(null).setTree(e,i);const b=t.serverCache.getNode();return _.children.inorderTraversal((E,k)=>{if(b.hasChild(E)){const q=FE(0,t.serverCache.getNode().getImmediateChild(E),k);p=cy(n,p,new Sn(E),q,o,s,c,d)}}),_.children.inorderTraversal((E,k)=>{const F=!t.serverCache.isCompleteForChild(E)&&null===k.value;if(!b.hasChild(E)&&!F){const K=FE(0,t.serverCache.getNode().getImmediateChild(E),k);p=cy(n,p,new Sn(E),K,o,s,c,d)}}),p}class yg{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,o=new $v(i.getIndex()),s=function yE(n){return n.loadsAllData()?new $v(n.getIndex()):n.hasLimit()?new TU(n):new op(n)}(i);this.processor_=function AU(n){return{filter:n}}(s);const c=e.serverCache,d=e.eventCache,p=o.updateFullNode(nn.EMPTY_NODE,c.getNode(),null),_=s.updateFullNode(nn.EMPTY_NODE,d.getNode(),null),b=new Lu(p,c.isFullyInitialized(),o.filtersNodes()),E=new Lu(_,d.isFullyInitialized(),s.filtersNodes());this.viewCache_=Xv(E,b),this.eventGenerator_=new Ok(this.query_)}get query(){return this.query_}}function Gk(n,t){const e=dp(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!mn(t)&&!e.getImmediateChild(dn(t)).isEmpty())?e.getChild(t):null}function UE(n){return 0===n.eventRegistrations_.length}function VE(n,t,e){const i=[];if(e){(0,V.hu)(null==t,"A cancel should cancel all event registrations.");const o=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(e,o);c&&i.push(c)})}if(t){let o=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(t)){if(t.hasAnyCallback()){o=o.concat(n.eventRegistrations_.slice(s+1));break}}else o.push(c)}n.eventRegistrations_=o}else n.eventRegistrations_=[];return i}function ZE(n,t,e,i){t.type===zi.MERGE&&null!==t.source.queryId&&((0,V.hu)(dp(n.viewCache_),"We should always have a full cache before handling merges"),(0,V.hu)(ey(n.viewCache_),"Missing event cache, even though we have a server cache"));const o=n.viewCache_,s=function ly(n,t,e,i,o){const s=new Bk;let c,d;if(e.type===zi.OVERWRITE){const _=e;_.source.fromUser?c=_g(n,t,_.path,_.snap,i,o,s):((0,V.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||t.serverCache.isFiltered()&&!mn(_.path),c=cy(n,t,_.path,_.snap,i,o,d,s))}else if(e.type===zi.MERGE){const _=e;_.source.fromUser?c=function vg(n,t,e,i,o,s,c){let d=t;return i.foreach((p,_)=>{const b=bi(e,p);NE(t,dn(b))&&(d=_g(n,d,b,_,o,s,c))}),i.foreach((p,_)=>{const b=bi(e,p);NE(t,dn(b))||(d=_g(n,d,b,_,o,s,c))}),d}(n,t,_.path,_.children,i,o,s):((0,V.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||t.serverCache.isFiltered(),c=uy(n,t,_.path,_.children,i,o,d,s))}else if(e.type===zi.ACK_USER_WRITE){const _=e;c=_.revert?function zk(n,t,e,i,o,s){let c;if(null!=sy(i,e))return t;{const d=new pp(i,t,o),p=t.eventCache.getNode();let _;if(mn(e)||".priority"===dn(e)){let b;if(t.serverCache.isFullyInitialized())b=ry(i,dp(t));else{const E=t.serverCache.getNode();(0,V.hu)(E instanceof nn,"serverChildren would be complete if leaf node"),b=Ow(i,E)}_=n.filter.updateFullNode(p,b,s)}else{const b=dn(e);let E=Pw(i,b,t.serverCache);null==E&&t.serverCache.isCompleteForChild(b)&&(E=p.getImmediateChild(b)),_=null!=E?n.filter.updateChild(p,b,E,Zn(e),d,s):t.eventCache.getNode().hasChild(b)?n.filter.updateChild(p,b,nn.EMPTY_NODE,Zn(e),d,s):p,_.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=ry(i,dp(t)),c.isLeafNode()&&(_=n.filter.updateFullNode(_,c,s)))}return c=t.serverCache.isFullyInitialized()||null!=sy(i,vn()),ao(t,_,c,n.filter.filtersNodes())}}(n,t,_.path,i,o,s):function LE(n,t,e,i,o,s,c){if(null!=sy(o,e))return t;const d=t.serverCache.isFiltered(),p=t.serverCache;if(null!=i.value){if(mn(e)&&p.isFullyInitialized()||p.isCompleteForPath(e))return cy(n,t,e,p.getNode().getChild(e),o,s,d,c);if(mn(e)){let _=new li(null);return p.getNode().forEachChild(Ol,(b,E)=>{_=_.set(new Sn(b),E)}),uy(n,t,e,_,o,s,d,c)}return t}{let _=new li(null);return i.foreach((b,E)=>{const k=bi(e,b);p.isCompleteForPath(k)&&(_=_.set(b,p.getNode().getChild(k)))}),uy(n,t,e,_,o,s,d,c)}}(n,t,_.path,_.affectedTree,i,o,s)}else{if(e.type!==zi.LISTEN_COMPLETE)throw(0,V.g5)("Unknown operation type: "+e.type);c=function jk(n,t,e,i,o){const s=t.serverCache;return PE(n,CE(t,s.getNode(),s.isFullyInitialized()||mn(e),s.isFiltered()),e,i,fp,o)}(n,t,e.path,i,s)}const p=s.getChanges();return function Hk(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const o=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=ey(n);(e.length>0||!n.eventCache.isFullyInitialized()||o&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(dg(ey(t)))}}(t,c,p),{viewCache:c,changes:p}}(n.processor_,o,t,e,i);return function qk(n,t){(0,V.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,V.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,V.hu)(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,BE(n,s.changes,s.viewCache.eventCache.getNode(),null)}function BE(n,t,e,i){return function Pk(n,t,e,i){const o=[],s=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function Kt(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),up(n,o,"child_removed",t,i,e),up(n,o,"child_added",t,i,e),up(n,o,"child_moved",s,i,e),up(n,o,"child_changed",t,i,e),up(n,o,"value",t,i,e),o}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let bg,wg;class dy{constructor(){this.views=new Map}}function Lw(n,t,e,i){const o=t.source.queryId;if(null!==o){const s=n.views.get(o);return(0,V.hu)(null!=s,"SyncTree gave us an op for an invalid query."),ZE(s,t,e,i)}{let s=[];for(const c of n.views.values())s=s.concat(ZE(c,t,e,i));return s}}function qE(n,t,e,i,o){const c=n.views.get(t._queryIdentifier);if(!c){let d=ry(e,o?i:null),p=!1;d?p=!0:i instanceof nn?(d=Ow(e,i),p=!1):(d=nn.EMPTY_NODE,p=!1);const _=Xv(new Lu(d,p,!1),new Lu(i,o,!1));return new yg(t,_)}return c}function HE(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Vu(n,t){let e=null;for(const i of n.views.values())e=e||Gk(i,t);return e}function Uw(n,t){return t._queryParams.loadsAllData()?Zw(n):n.views.get(t._queryIdentifier)}function Vw(n,t){return null!=Uw(n,t)}function Zu(n){return null!=Zw(n)}function Zw(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let eR=1;class jE{constructor(t){this.listenProvider_=t,this.syncPointTree_=new li(null),this.pendingWriteTree_=function Nc(){return{visibleWrites:Ua.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Cg(n,t,e,i,o){return function kw(n,t,e,i,o){(0,V.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:o}),o&&(n.visibleWrites=gg(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,o),o?Va(n,new Fu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function lo(n,t,e=!1){const i=function AE(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function Lk(n,t){const e=n.allWrites.findIndex(d=>d.writeId===t);(0,V.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let o=i.visible,s=!1,c=n.allWrites.length-1;for(;o&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=e&&IE(d,i.path)?o=!1:pa(i.path,d.path)&&(s=!0)),c--}return!!o&&(s?(function SE(n){n.visibleWrites=iy(n.allWrites,ny,vn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=DE(n.visibleWrites,i.path):pr(i.children,p=>{n.visibleWrites=DE(n.visibleWrites,bi(i.path,p))}),!0))}(n.pendingWriteTree_,t)){let s=new li(null);return null!=i.snap?s=s.set(vn(),!0):pr(i.children,c=>{s=s.set(new Sn(c),!0)}),Va(n,new Jv(i.path,s,e))}return[]}function Fc(n,t,e){return Va(n,new Fu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function qo(n,t,e,i,o=!1){const s=t._path,c=n.syncPointTree_.get(s);let d=[];if(c&&("default"===t._queryIdentifier||Vw(c,t))){const p=function Xk(n,t,e,i){const o=t._queryIdentifier,s=[];let c=[];const d=Zu(n);if("default"===o)for(const[p,_]of n.views.entries())c=c.concat(VE(_,e,i)),UE(_)&&(n.views.delete(p),_.query._queryParams.loadsAllData()||s.push(_.query));else{const p=n.views.get(o);p&&(c=c.concat(VE(p,e,i)),UE(p)&&(n.views.delete(o),p.query._queryParams.loadsAllData()||s.push(p.query)))}return d&&!Zu(n)&&s.push(new(function Fw(){return(0,V.hu)(bg,"Reference.ts has not been loaded"),bg}())(t._repo,t._path)),{removed:s,events:c}}(c,t,e,i);(function Qk(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const _=p.removed;if(d=p.events,!o){const b=-1!==_.findIndex(k=>k._queryParams.loadsAllData()),E=n.syncPointTree_.findOnPath(s,(k,F)=>Zu(F));if(b&&!E){const k=n.syncPointTree_.subtree(s);if(!k.isEmpty()){const F=function zE(n){return n.fold((t,e,i)=>{if(e&&Zu(e))return[Zw(e)];{let o=[];return e&&(o=HE(e)),pr(i,(s,c)=>{o=o.concat(c)}),o}})}(k);for(let q=0;q<F.length;++q){const K=F[q],ee=K.query,Oe=fh(n,K);n.listenProvider_.startListening(_p(ee),Pl(n,ee),Oe.hashFn,Oe.onComplete)}}}!E&&_.length>0&&!i&&(b?n.listenProvider_.stopListening(_p(t),null):_.forEach(k=>{const F=n.queryToTagMap.get(xg(k));n.listenProvider_.stopListening(_p(k),F)}))}!function $E(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const o=xg(i),s=n.queryToTagMap.get(o);n.queryToTagMap.delete(o),n.tagToQueryMap.delete(s)}}}(n,_)}return d}function py(n,t,e,i){const o=my(n,i);if(null!=o){const s=gy(o),c=s.path,d=s.queryId,p=wo(c,t);return _y(n,c,new Fu(Iw(d),p,e))}return[]}function Bu(n,t,e,i=!1){const o=t._path;let s=null,c=!1;n.syncPointTree_.foreachOnPath(o,(k,F)=>{const q=wo(k,o);s=s||Vu(F,q),c=c||Zu(F)});let p,d=n.syncPointTree_.get(o);d?(c=c||Zu(d),s=s||Vu(d,vn())):(d=new dy,n.syncPointTree_=n.syncPointTree_.set(o,d)),null!=s?p=!0:(p=!1,s=nn.EMPTY_NODE,n.syncPointTree_.subtree(o).foreachChild((F,q)=>{const K=Vu(q,vn());K&&(s=s.updateImmediateChild(F,K))}));const _=Vw(d,t);if(!_&&!t._queryParams.loadsAllData()){const k=xg(t);(0,V.hu)(!n.queryToTagMap.has(k),"View does not exist, but we have a tag");const F=function GE(){return eR++}();n.queryToTagMap.set(k,F),n.tagToQueryMap.set(F,k)}let E=function Jk(n,t,e,i,o,s){const c=qE(n,t,i,o,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),function Yk(n,t){n.eventRegistrations_.push(t)}(c,e),function Wk(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(ai,(s,c)=>{i.push(lh(s,c))}),e.isFullyInitialized()&&i.push(dg(e.getNode())),BE(n,i,e.getNode(),t)}(c,e)}(d,t,e,Us(n.pendingWriteTree_,o),s,p);if(!_&&!c&&!i){const k=Uw(d,t);E=E.concat(function YE(n,t,e){const i=t._path,o=Pl(n,t),s=fh(n,e),c=n.listenProvider_.startListening(_p(t),o,s.hashFn,s.onComplete),d=n.syncPointTree_.subtree(i);if(o)(0,V.hu)(!Zu(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((_,b,E)=>{if(!mn(_)&&b&&Zu(b))return[Zw(b).query];{let k=[];return b&&(k=k.concat(HE(b).map(F=>F.query))),pr(E,(F,q)=>{k=k.concat(q)}),k}});for(let _=0;_<p.length;++_){const b=p[_];n.listenProvider_.stopListening(_p(b),Pl(n,b))}}return c}(n,t,k))}return E}function Lc(n,t,e){const o=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(c,d)=>{const _=Vu(d,wo(c,t));if(_)return _});return Uk(o,t,s,e,!0)}function Va(n,t){return dh(t,n.syncPointTree_,null,Us(n.pendingWriteTree_,vn()))}function dh(n,t,e,i){if(mn(n.path))return hh(n,t,e,i);{const o=t.get(vn());null==e&&null!=o&&(e=Vu(o,vn()));let s=[];const c=dn(n.path),d=n.operationForChild(c),p=t.children.get(c);if(p&&d){const _=e?e.getImmediateChild(c):null,b=Zk(i,c);s=s.concat(dh(d,p,_,b))}return o&&(s=s.concat(Lw(o,n,i,e))),s}}function hh(n,t,e,i){const o=t.get(vn());null==e&&null!=o&&(e=Vu(o,vn()));let s=[];return t.children.inorderTraversal((c,d)=>{const p=e?e.getImmediateChild(c):null,_=Zk(i,c),b=n.operationForChild(c);b&&(s=s.concat(hh(b,d,p,_)))}),o&&(s=s.concat(Lw(o,n,i,e))),s}function fh(n,t){const e=t.query,i=Pl(n,e);return{hashFn:()=>(function $k(n){return n.viewCache_.serverCache.getNode()}(t)||nn.EMPTY_NODE).hash(),onComplete:o=>{if("ok"===o)return i?function fy(n,t,e){const i=my(n,e);if(i){const o=gy(i),s=o.path,c=o.queryId,d=wo(s,t);return _y(n,s,new pg(Iw(c),d))}return[]}(n,e._path,i):function uh(n,t){return Va(n,new pg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function WD(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(o,e);return qo(n,e,null,s)}}}}function Pl(n,t){const e=xg(t);return n.queryToTagMap.get(e)}function xg(n){return n._path.toString()+"$"+n._queryIdentifier}function my(n,t){return n.tagToQueryMap.get(t)}function gy(n){const t=n.indexOf("$");return(0,V.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Sn(n.substr(0,t))}}function _y(n,t,e){const i=n.syncPointTree_.get(t);return(0,V.hu)(i,"Missing sync point for query tag that we're tracking"),Lw(i,e,Us(n.pendingWriteTree_,t),null)}function _p(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function hy(){return(0,V.hu)(wg,"Reference.ts has not been loaded"),wg}())(n._repo,n._path):n}class Dg{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Dg(e)}node(){return this.node_}}class Bw{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=bi(this.path_,t);return new Bw(this.syncTree_,e)}node(){return Lc(this.syncTree_,this.path_)}}const MU=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},nR=function(n,t,e){return n&&"object"==typeof n?((0,V.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?iR(n[".sv"],t,e):"object"==typeof n[".sv"]?rR(n[".sv"],t):void(0,V.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},iR=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,V.hu)(!1,"Unexpected server value: "+n)},rR=function(n,t,e){n.hasOwnProperty("increment")||(0,V.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,V.hu)(!1,"Unexpected increment value: "+i);const o=t.node();if((0,V.hu)(null!==o&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;const c=o.getValue();return"number"!=typeof c?i:c+i},oR=function(n,t,e,i){return WE(t,new Bw(e,n),i)},qw=function(n,t,e){return WE(n,new Dg(t),e)};function WE(n,t,e){const i=n.getPriority().val(),o=nR(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const c=n,d=nR(c.getValue(),t,e);return d!==c.getValue()||o!==c.getPriority().val()?new Fa(d,wi(o)):n}{const c=n;return s=c,o!==c.getPriority().val()&&(s=s.updatePriority(new Fa(o))),c.forEachChild(ai,(d,p)=>{const _=WE(p,t.getImmediateChild(d),e);_!==p&&(s=s.updateImmediateChild(d,_))}),s}}class Hw{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function vy(n,t){let e=t instanceof Sn?t:new Sn(t),i=n,o=dn(e);for(;null!==o;){const s=(0,V.DV)(i.node.children,o)||{children:{},childCount:0};i=new Hw(o,i,s),e=Zn(e),o=dn(e)}return i}function ph(n){return n.node.value}function Eg(n,t){n.node.value=t,$w(n)}function vp(n){return n.node.childCount>0}function mh(n,t){pr(n.node.children,(e,i)=>{t(new Hw(e,n,i))})}function zw(n,t,e,i){e&&!i&&t(n),mh(n,o=>{zw(o,t,!0,i)}),e&&i&&t(n)}function yp(n){return new Sn(null===n.parent?n.name:yp(n.parent)+"/"+n.name)}function $w(n){null!==n.parent&&function Ag(n,t,e){const i=function jw(n){return void 0===ph(n)&&!vp(n)}(e),o=(0,V.r3)(n.node.children,t);i&&o?(delete n.node.children[t],n.node.childCount--,$w(n)):!i&&!o&&(n.node.children[t]=e.node,n.node.childCount++,$w(n))}(n.parent,n.name,n)}const sR=/[\[\].#$\/\u0000-\u001F\u007F]/,aR=/[\[\].#$\u0000-\u001F\u007F]/,Gw=10485760,yy=function(n){return"string"==typeof n&&0!==n.length&&!sR.test(n)},by=function(n){return"string"==typeof n&&0!==n.length&&!aR.test(n)},qu=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Wf(n)||n&&"object"==typeof n&&(0,V.r3)(n,".sv")},Uc=function(n,t,e,i){i&&void 0===t||Ig((0,V.gK)(n,"value"),t,e)},Ig=function(n,t,e){const i=e instanceof Sn?new xU(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+oh(i));if("function"==typeof t)throw new Error(n+"contains a function "+oh(i)+" with contents = "+t.toString());if(Wf(t))throw new Error(n+"contains "+t.toString()+" "+oh(i));if("string"==typeof t&&t.length>Gw/3&&(0,V.ug)(t)>Gw)throw new Error(n+"contains a string greater than "+Gw+" utf8 bytes "+oh(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let o=!1,s=!1;if(pr(t,(c,d)=>{if(".value"===c)o=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!yy(c)))throw new Error(n+" contains an invalid key ("+c+") "+oh(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function vk(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,V.ug)(t),Nv(n)})(i,c),Ig(n,d,i),function bw(n){const t=n.parts_.pop();n.byteLength_-=(0,V.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),o&&s)throw new Error(n+' contains ".value" child '+oh(i)+" in addition to actual children.")}},Cy=function(n,t,e,i){if(i&&void 0===t)return;const o=(0,V.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const s=[];pr(t,(c,d)=>{const p=new Sn(c);if(Ig(o,d,bi(e,p)),".priority"===hE(p)&&!qu(d))throw new Error(o+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=rh(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!yy(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(fE);let o=null;for(e=0;e<t.length;e++){if(i=t[e],null!==o&&pa(o,i))throw new Error(n+"contains a path "+o.toString()+" that is ancestor of another path "+i.toString());o=i}}(o,s)},Yw=function(n,t,e){if(!e||void 0!==t){if(Wf(t))throw new Error((0,V.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!qu(t))throw new Error((0,V.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},bp=function(n,t,e,i){if(!(i&&void 0===e||yy(e)))throw new Error((0,V.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Sg=function(n,t,e,i){if(!(i&&void 0===e||by(e)))throw new Error((0,V.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},cR=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Sg(n,t,e,i)},Vs=function(n,t){if(".info"===dn(t))throw new Error(n+" failed = Can't modify data under /.info/")},Ww=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!yy(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),by(n)}(e))throw new Error((0,V.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class KE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function xy(n,t){let e=null;for(let i=0;i<t.length;i++){const o=t[i],s=o.getPath();null!==e&&!yw(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(o)}e&&n.eventLists_.push(e)}function QE(n,t,e){xy(n,e),Kw(n,i=>yw(i,t))}function Zs(n,t,e){xy(n,e),Kw(n,i=>pa(i,t)||pa(t,i))}function Kw(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const o=n.eventLists_[i];o&&(t(o.path)?(Qw(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Qw(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Gf&&oo("event: "+e.toString()),eh(i)}}}const Dy="repo_interrupt",uR=25;class Ey{constructor(t,e,i,o){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new KE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Oc(),this.transactionQueueTree_=new Hw,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ay(n){const e=n.infoData_.getNode(new Sn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function wp(n){return MU({timestamp:Ay(n)})}function JE(n,t,e,i,o){n.dataUpdateCount++;const s=new Sn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(o)if(i){const p=(0,V.UI)(e,_=>wi(_));c=function mp(n,t,e,i){const o=my(n,i);if(o){const s=gy(o),c=s.path,d=s.queryId,p=wo(c,t),_=li.fromObject(e);return _y(n,c,new cp(Iw(d),p,_))}return[]}(n.serverSyncTree_,s,p,o)}else{const p=wi(e);c=py(n.serverSyncTree_,s,p,o)}else if(i){const p=(0,V.UI)(e,_=>wi(_));c=function Co(n,t,e){const i=li.fromObject(e);return Va(n,new cp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,p)}else{const p=wi(e);c=Fc(n.serverSyncTree_,s,p)}let d=s;c.length>0&&(d=Hu(n,s)),Zs(n.eventQueue_,d,c)}function XE(n,t){Cp(n,"connected",t),!1===t&&function fR(n){_h(n,"onDisconnectEvents");const t=wp(n),e=Oc();sp(n.onDisconnect_,vn(),(o,s)=>{const c=oR(o,s,n.serverSyncTree_,t);ch(e,o,c)});let i=[];sp(e,vn(),(o,s)=>{i=i.concat(Fc(n.serverSyncTree_,o,s));const c=ky(n,o);Hu(n,c)}),n.onDisconnect_=Oc(),Zs(n.eventQueue_,vn(),i)}(n)}function Cp(n,t,e){const i=new Sn("/.info/"+t),o=wi(e);n.infoData_.updateSnapshot(i,o);const s=Fc(n.infoSyncTree_,i,o);Zs(n.eventQueue_,i,s)}function gh(n){return n.nextWriteId_++}function Iy(n,t,e,i,o){_h(n,"set",{path:t.toString(),value:e,priority:i});const s=wp(n),c=wi(e,i),d=Lc(n.serverSyncTree_,t),p=qw(c,d,s),_=gh(n),b=Cg(n.serverSyncTree_,t,p,_,!0);xy(n.eventQueue_,b),n.server_.put(t.toString(),c.val(!0),(k,F)=>{const q="ok"===k;q||bo("set at "+t+" failed: "+k);const K=lo(n.serverSyncTree_,_,!q);Zs(n.eventQueue_,t,K),Vc(0,o,k,F)});const E=ky(n,t);Hu(n,E),Zs(n.eventQueue_,E,[])}function eT(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,o)=>{"ok"===i&&Dw(n.onDisconnect_,t),Vc(0,e,i,o)})}function Sy(n,t,e,i){const o=wi(e);n.server_.onDisconnectPut(t.toString(),o.val(!0),(s,c)=>{"ok"===s&&ch(n.onDisconnect_,t,o),Vc(0,i,s,c)})}function tC(n,t,e){let i;i=".info"===dn(t._path)?qo(n.infoSyncTree_,t,e):qo(n.serverSyncTree_,t,e),QE(n.eventQueue_,t._path,i)}function nC(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Dy)}function _h(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),oo(e,...t)}function Vc(n,t,e,i){t&&eh(()=>{if("ok"===e)t(null);else{const o=(e||"error").toUpperCase();let s=o;i&&(s+=": "+i);const c=new Error(s);c.code=o,t(c)}})}function My(n,t,e){return Lc(n.serverSyncTree_,t,e)||nn.EMPTY_NODE}function Mg(n,t=n.transactionQueueTree_){if(t||kg(n,t),ph(t)){const e=oC(n,t);(0,V.hu)(e.length>0,"Sending zero length transaction queue"),e.every(o=>0===o.status)&&function iC(n,t,e){const i=e.map(_=>_.currentWriteId),o=My(n,t,i);let s=o;const c=o.hash();for(let _=0;_<e.length;_++){const b=e[_];(0,V.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const E=wo(t,b.path);s=s.updateChild(E,b.currentOutputSnapshotRaw)}const d=s.val(!0),p=t;n.server_.put(p.toString(),d,_=>{_h(n,"transaction put response",{path:p.toString(),status:_});let b=[];if("ok"===_){const E=[];for(let k=0;k<e.length;k++)e[k].status=2,b=b.concat(lo(n.serverSyncTree_,e[k].currentWriteId)),e[k].onComplete&&E.push(()=>e[k].onComplete(null,!0,e[k].currentOutputSnapshotResolved)),e[k].unwatcher();kg(n,vy(n.transactionQueueTree_,t)),Mg(n,n.transactionQueueTree_),Zs(n.eventQueue_,t,b);for(let k=0;k<E.length;k++)eh(E[k])}else{if("datastale"===_)for(let E=0;E<e.length;E++)e[E].status=3===e[E].status?4:0;else{bo("transaction at "+p.toString()+" failed: "+_);for(let E=0;E<e.length;E++)e[E].status=4,e[E].abortReason=_}Hu(n,t)}},c)}(n,yp(t),e)}else vp(t)&&mh(t,e=>{Mg(n,e)})}function Hu(n,t){const e=rC(n,t),i=yp(e);return function iT(n,t,e){if(0===t.length)return;const i=[];let o=[];const c=t.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const p=t[d],_=wo(e,p.path);let E,b=!1;if((0,V.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)b=!0,E=p.abortReason,o=o.concat(lo(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=uR)b=!0,E="maxretry",o=o.concat(lo(n.serverSyncTree_,p.currentWriteId,!0));else{const k=My(n,p.path,c);p.currentInputSnapshot=k;const F=t[d].update(k.val());if(void 0!==F){Ig("transaction failed: Data returned ",F,p.path);let q=wi(F);"object"==typeof F&&null!=F&&(0,V.r3)(F,".priority")||(q=q.updatePriority(k.getPriority()));const ee=p.currentWriteId,Oe=wp(n),ze=qw(q,k,Oe);p.currentOutputSnapshotRaw=q,p.currentOutputSnapshotResolved=ze,p.currentWriteId=gh(n),c.splice(c.indexOf(ee),1),o=o.concat(Cg(n.serverSyncTree_,p.path,ze,p.currentWriteId,p.applyLocally)),o=o.concat(lo(n.serverSyncTree_,ee,!0))}else b=!0,E="nodata",o=o.concat(lo(n.serverSyncTree_,p.currentWriteId,!0))}Zs(n.eventQueue_,e,o),o=[],b&&(t[d].status=2,setTimeout(t[d].unwatcher,Math.floor(0)),t[d].onComplete&&i.push("nodata"===E?()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot):()=>t[d].onComplete(new Error(E),!1,null)))}kg(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)eh(i[d]);Mg(n,n.transactionQueueTree_)}(n,oC(n,e),i),i}function rC(n,t){let e,i=n.transactionQueueTree_;for(e=dn(t);null!==e&&void 0===ph(i);)i=vy(i,e),e=dn(t=Zn(t));return i}function oC(n,t){const e=[];return sC(n,t,e),e.sort((i,o)=>i.order-o.order),e}function sC(n,t,e){const i=ph(t);if(i)for(let o=0;o<i.length;o++)e.push(i[o]);mh(t,o=>{sC(n,o,e)})}function kg(n,t){const e=ph(t);if(e){let i=0;for(let o=0;o<e.length;o++)2!==e[o].status&&(e[i]=e[o],i++);e.length=i,Eg(t,e.length>0?e:void 0)}mh(t,i=>{kg(n,i)})}function ky(n,t){const e=yp(rC(n,t)),i=vy(n.transactionQueueTree_,t);return function Tg(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,o=>{Ry(n,o)}),Ry(n,i),zw(i,o=>{Ry(n,o)}),e}function Ry(n,t){const e=ph(t);if(e){const i=[];let o=[],s=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,V.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,e[c].status=3,e[c].abortReason="set"):((0,V.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),o=o.concat(lo(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Eg(t,void 0):e.length=s+1,Zs(n.eventQueue_,yp(t),o);for(let c=0;c<i.length;c++)eh(i[c])}}const Nl=function(n,t){const e=mR(n),i=e.namespace;return"firebase.com"===e.domain&&Sl(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Sl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&bo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new th(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Sn(e.pathString)}},mR=function(n){let t="",e="",i="",o="",s="",c=!0,d="https",p=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(d=n.substring(0,_-1),n=n.substring(_+2));let b=n.indexOf("/");-1===b&&(b=n.length);let E=n.indexOf("?");-1===E&&(E=n.length),t=n.substring(0,Math.min(b,E)),b<E&&(o=function rT(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let o=e[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}(n.substring(b,E)));const k=function Oy(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):bo(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,E)));_=t.indexOf(":"),_>=0?(c="https"===d||"wss"===d,p=parseInt(t.substring(_+1),10)):_=t.length;const F=t.slice(0,_);if("localhost"===F.toLowerCase())e="localhost";else if(F.split(".").length<=2)e=F;else{const q=t.indexOf(".");i=t.substring(0,q).toLowerCase(),e=t.substring(q+1),s=i}"ns"in k&&(s=k.ns)}return{host:t,port:p,domain:e,subdomain:i,secure:c,scheme:d,pathString:o,namespace:s}},oT="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",aC=function(){let n=0;const t=[];return function(e){const i=e===n;let o;n=e;const s=new Array(8);for(o=7;o>=0;o--)s[o]=oT.charAt(e%64),e=Math.floor(e/64);(0,V.hu)(0===e,"Cannot push at time == 0");let c=s.join("");if(i){for(o=11;o>=0&&63===t[o];o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)c+=oT.charAt(t[o]);return(0,V.hu)(20===c.length,"nextPushId: Length should be 20."),c}}();class ju{constructor(t,e,i,o){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=o}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,V.Wl)(this.snapshot.exportVal())}}class Py{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class lC{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,V.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Ny{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new V.BH;return eT(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Vs("OnDisconnect.remove",this._path);const t=new V.BH;return Sy(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Vs("OnDisconnect.set",this._path),Uc("OnDisconnect.set",t,this._path,!1);const e=new V.BH;return Sy(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Vs("OnDisconnect.setWithPriority",this._path),Uc("OnDisconnect.setWithPriority",t,this._path,!1),Yw("OnDisconnect.setWithPriority",e,!1);const i=new V.BH;return function tT(n,t,e,i,o){const s=wi(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(c,d)=>{"ok"===c&&ch(n.onDisconnect_,t,s),Vc(0,o,c,d)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Vs("OnDisconnect.update",this._path),Cy("OnDisconnect.update",t,this._path,!1);const e=new V.BH;return function Xw(n,t,e,i){if((0,V.xb)(e))return oo("onDisconnect().update() called with empty data.  Don't do anything."),void Vc(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(o,s)=>{"ok"===o&&pr(e,(c,d)=>{const p=wi(d);ch(n.onDisconnect_,bi(t,c),p)}),Vc(0,i,o,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Bs{constructor(t,e,i,o){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=o}get key(){return mn(this._path)?null:hE(this._path)}get ref(){return new qs(this._repo,this._path)}get _queryIdentifier(){const t=xw(this._queryParams),e=YD(t);return"{}"===e?"default":e}get _queryObject(){return xw(this._queryParams)}isEqual(t){if(!((t=(0,V.m9)(t))instanceof Bs))return!1;const e=this._repo===t._repo,i=yw(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function _w(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function cC(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function zu(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Ol){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==fa)throw new Error(i);if("string"!=typeof t)throw new Error(o)}if(n.hasEnd()){if(n.getIndexEndName()!==Ml)throw new Error(i);if("string"!=typeof e)throw new Error(o)}}else if(n.getIndex()===ai){if(null!=t&&!qu(t)||null!=e&&!qu(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,V.hu)(n.getIndex()instanceof jv||n.getIndex()===zv,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Fy(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class qs extends Bs{constructor(t,e){super(t,e,new Gv,!1)}get parent(){const t=vw(this._path);return null===t?null:new qs(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class vh{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Sn(t),i=yh(this.ref,t);return new vh(this._node.getChild(e),i,ai)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,o)=>t(new vh(o,yh(this.ref,i),ai)))}hasChild(t){const e=new Sn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function mr(n,t){return(n=(0,V.m9)(n))._checkNotDeleted("ref"),void 0!==t?yh(n._root,t):n._root}function uC(n,t){(n=(0,V.m9)(n))._checkNotDeleted("refFromURL");const e=Nl(t,n._repo.repoInfo_.nodeAdmin);Ww("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Sl("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),mr(n,e.path.toString())}function yh(n,t){return null===dn((n=(0,V.m9)(n))._path)?cR("child","path",t,!1):Sg("child","path",t,!1),new qs(n._repo,bi(n._path,t))}function Ly(n,t){n=(0,V.m9)(n),Vs("set",n._path),Uc("set",t,n._path,!1);const e=new V.BH;return Iy(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function _R(n,t){Cy("update",t,n._path,!1);const e=new V.BH;return function hR(n,t,e,i){_h(n,"update",{path:t.toString(),value:e});let o=!0;const s=wp(n),c={};if(pr(e,(d,p)=>{o=!1,c[d]=oR(bi(t,d),wi(p),n.serverSyncTree_,s)}),o)oo("update() called with empty data.  Don't do anything."),Vc(0,i,"ok",void 0);else{const d=gh(n),p=function tR(n,t,e,i){!function Fk(n,t,e,i){(0,V.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=ty(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const o=li.fromObject(e);return Va(n,new cp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,o))}(n.serverSyncTree_,t,c,d);xy(n.eventQueue_,p),n.server_.merge(t.toString(),e,(_,b)=>{const E="ok"===_;E||bo("update at "+t+" failed: "+_);const k=lo(n.serverSyncTree_,d,!E),F=k.length>0?Hu(n,t):t;Zs(n.eventQueue_,F,k),Vc(0,i,_,b)}),pr(e,_=>{const b=ky(n,bi(t,_));Hu(n,b)}),Zs(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function vR(n){n=(0,V.m9)(n);const t=new lC(()=>{}),e=new Dp(t);return function Jw(n,t,e){const i=function gp(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(_,b)=>{const E=wo(_,e);i=i||Vu(b,E)});let o=n.syncPointTree_.get(e);o?i=i||Vu(o,vn()):(o=new dy,n.syncPointTree_=n.syncPointTree_.set(e,o));const s=null!=i,c=s?new Lu(i,!0,!1):null;return function IU(n){return ey(n.viewCache_)}(qE(o,t,Us(n.pendingWriteTree_,t._path),s?c.getNode():nn.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(o=>{const s=wi(o).withIndex(t._queryParams.getIndex());let c;if(Bu(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())c=Fc(n.serverSyncTree_,t._path,s);else{const d=Pl(n.serverSyncTree_,t);c=py(n.serverSyncTree_,t._path,s,d)}return Zs(n.eventQueue_,t._path,c),qo(n.serverSyncTree_,t,e,null,!0),s},o=>(_h(n,"get for query "+(0,V.Wl)(t)+" failed: "+o),Promise.reject(new Error(o))))}(n._repo,n,e).then(i=>new vh(i,new qs(n._repo,n._path),n._queryParams.getIndex()))}class Dp{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new ju("value",this,new vh(t.snapshotNode,new qs(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Py(this,t,e):null}matches(t){return t instanceof Dp&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Uy{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Py(this,t,e):null}createEvent(t,e){(0,V.hu)(null!=t.childName,"Child events should have a childName.");const i=yh(new qs(e._repo,e._path),t.childName),o=e._queryParams.getIndex();return new ju(t.type,this,new vh(t.snapshotNode,i,o),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Uy&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Ep(n,t,e,i,o){let s;if("object"==typeof i&&(s=void 0,o=i),"function"==typeof i&&(s=i),o&&o.onlyOnce){const p=e,_=(b,E)=>{tC(n._repo,n,d),p(b,E)};_.userCallback=e.userCallback,_.context=e.context,e=_}const c=new lC(e,s||void 0),d="value"===t?new Dp(c):new Uy(t,c);return function eC(n,t,e){let i;i=".info"===dn(t._path)?Bu(n.infoSyncTree_,t,e):Bu(n.serverSyncTree_,t,e),QE(n.eventQueue_,t._path,i)}(n._repo,n,d),()=>tC(n._repo,n,d)}function lT(n,t,e,i){return Ep(n,"value",t,e,i)}function Vy(n,t,e,i){return Ep(n,"child_added",t,e,i)}function Zy(n,t,e,i){return Ep(n,"child_changed",t,e,i)}function Za(n,t,e,i){return Ep(n,"child_moved",t,e,i)}function cT(n,t,e,i){return Ep(n,"child_removed",t,e,i)}function dC(n,t,e){let i=null;const o=e?new lC(e):null;"value"===t?i=new Dp(o):t&&(i=new Uy(t,o)),tC(n._repo,n,i)}class gr{}class ma extends gr{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Uc("endAt",this._value,t._path,!0);const e=Wv(t._queryParams,this._value,this._key);if(Fy(e),zu(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Bs(t._repo,t._path,e,t._orderByCalled)}}class uT extends gr{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Uc("endBefore",this._value,t._path,!1);const e=function kk(n,t,e){let i;return i=Wv(n,t,n.index_===Ol||e?e:fa),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(Fy(e),zu(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Bs(t._repo,t._path,e,t._orderByCalled)}}class hT extends gr{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Uc("startAt",this._value,t._path,!0);const e=Yv(t._queryParams,this._value,this._key);if(Fy(e),zu(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Bs(t._repo,t._path,e,t._orderByCalled)}}class bR extends gr{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Uc("startAfter",this._value,t._path,!1);const e=function Mk(n,t,e){let i;return i=Yv(n,t,n.index_===Ol||e?e:Ml),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(Fy(e),zu(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Bs(t._repo,t._path,e,t._orderByCalled)}}class hC extends gr{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Bs(t._repo,t._path,function Ik(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class CR extends gr{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Bs(t._repo,t._path,function Sk(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class xR extends gr{constructor(t){super(),this._path=t}_apply(t){cC(t,"orderByChild");const e=new Sn(this._path);if(mn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new jv(e),o=Kv(t._queryParams,i);return zu(o),new Bs(t._repo,t._path,o,!0)}}class pT extends gr{_apply(t){cC(t,"orderByKey");const e=Kv(t._queryParams,Ol);return zu(e),new Bs(t._repo,t._path,e,!0)}}class By extends gr{_apply(t){cC(t,"orderByPriority");const e=Kv(t._queryParams,ai);return zu(e),new Bs(t._repo,t._path,e,!0)}}class gT extends gr{_apply(t){cC(t,"orderByValue");const e=Kv(t._queryParams,zv);return zu(e),new Bs(t._repo,t._path,e,!0)}}class vT extends gr{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Uc("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ma(this._value,this._key)._apply(new hT(this._value,this._key)._apply(t))}}function qa(n,...t){let e=(0,V.m9)(n);for(const i of t)e=i._apply(e);return e}(function Kk(n){(0,V.hu)(!bg,"__referenceConstructor has already been defined"),bg=n})(qs),function SU(n){(0,V.hu)(!wg,"__referenceConstructor has already been defined"),wg=n}(qs);const Tp={};function pC(n,t,e,i,o){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Sl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),oo("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,_,c=Nl(s,o),d=c.repoInfo;typeof process<"u"&&process.env&&(_=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_?(p=!0,s=`http://${_}?ns=${d.namespace}`,c=Nl(s,o),d=c.repoInfo):p=!c.repoInfo.secure;const b=o&&p?new yi(yi.OWNER):new sk(n.name,n.options,t);Ww("Invalid Firebase Database URL",c),mn(c.path)||Sl("Database URL must point to the root of a Firebase Database (not including a child path).");const E=function wT(n,t,e,i){let o=Tp[t.name];o||(o={},Tp[t.name]=o);let s=o[n.toURLString()];return s&&Sl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Ey(n,false,e,i),o[n.toURLString()]=s,s}(d,n,b,new aw(n.name,e));return new xT(E,n)}class xT{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Ty(n,t,e){if(n.stats_=Ev(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new hg(n.repoInfo_,(i,o,s,c)=>{JE(n,i,o,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>XE(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,V.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new ah(n.repoInfo_,t,(i,o,s,c)=>{JE(n,i,o,s,c)},i=>{XE(n,i)},i=>{!function dR(n,t){pr(t,(e,i)=>{Cp(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function ck(n,t){const e=n.toString();return Dv[e]||(Dv[e]=t()),Dv[e]}(n.repoInfo_,()=>new Aw(n.stats_,n.server_)),n.infoData_=new Nu,n.infoSyncTree_=new jE({startListening:(i,o,s,c)=>{let d=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(d=Fc(n.infoSyncTree_,i._path,p),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),Cp(n,"connected",!1),n.serverSyncTree_=new jE({startListening:(i,o,s,c)=>(n.server_.listen(i,s,o,(d,p)=>{const _=c(d,p);Zs(n.eventQueue_,i._path,_)}),[]),stopListening:(i,o)=>{n.server_.unlisten(i,o)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qs(this._repo,vn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function bT(n,t){const e=Tp[t];(!e||e[n.key]!==n)&&Sl(`Database ${t}(${n.repoInfo_}) has already been deleted.`),nC(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Sl("Cannot call "+t+" on a deleted database.")}}function mC(){lE.IS_TRANSPORT_INITIALIZED&&bo("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function DT(){mC(),kl.forceDisallow()}function AR(){mC(),Qf.forceDisallow(),kl.forceAllow()}function MR(n,t){ek(n,t)}const RR={".sv":"timestamp"};class NR{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ah.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},ah.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function kR(n){rw(Mr.SDK_VERSION),(0,Mr._registerComponent)(new Ns.wA("database",(t,{instanceIdentifier:e})=>pC(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Mr.registerVersion)(nw,"0.14.4",n),(0,Mr.registerVersion)(nw,"0.14.4","esm2017")}();const VR=new Fs.Yd("@firebase/database-compat"),gC=function(n){VR.warn("FIREBASE WARNING: "+n)};class IT{constructor(t){this._delegate=t}cancel(t){(0,V.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,V.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,V.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,V.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,V.Dv)("OnDisconnect.set",1,2,arguments.length),(0,V.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),o=>e(o)),i}setWithPriority(t,e,i){(0,V.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,V.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const o=this._delegate.setWithPriority(t,e);return i&&o.then(()=>i(null),s=>i(s)),o}update(t,e){if((0,V.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const o={};for(let s=0;s<t.length;++s)o[""+s]=t[s];t=o,gC("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,V.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),o=>e(o)),i}}class ST{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,V.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Zc{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,V.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,V.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,V.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,V.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,V.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Sg("DataSnapshot.child","path",t,!1),new Zc(this._database,this._delegate.child(t))}hasChild(t){return(0,V.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Sg("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,V.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,V.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,V.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Zc(this._database,e)))}hasChildren(){return(0,V.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,V.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,V.Dv)("DataSnapshot.ref",0,0,arguments.length),new hs(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Hr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,o){var s;(0,V.Dv)("Query.on",2,4,arguments.length),(0,V.Wj)("Query.on","callback",e,!1);const c=Hr.getCancelAndContextArgs_("Query.on",i,o),d=(_,b)=>{e.call(c.context,new Zc(this.database,_),b)};d.userCallback=e,d.context=c.context;const p=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(t){case"value":return lT(this._delegate,d,p),e;case"child_added":return Vy(this._delegate,d,p),e;case"child_removed":return cT(this._delegate,d,p),e;case"child_changed":return Zy(this._delegate,d,p),e;case"child_moved":return Za(this._delegate,d,p),e;default:throw new Error((0,V.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,V.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,V.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,V.Wj)("Query.off","callback",e,!0),(0,V.lb)("Query.off","context",i,!0),e){const o=()=>{};o.userCallback=e,o.context=i,dC(this._delegate,t,o)}else dC(this._delegate,t)}get(){return vR(this._delegate).then(t=>new Zc(this.database,t))}once(t,e,i,o){(0,V.Dv)("Query.once",1,4,arguments.length),(0,V.Wj)("Query.once","callback",e,!0);const s=Hr.getCancelAndContextArgs_("Query.once",i,o),c=new V.BH,d=(_,b)=>{const E=new Zc(this.database,_);e&&e.call(s.context,E,b),c.resolve(E)};d.userCallback=e,d.context=s.context;const p=_=>{s.cancel&&s.cancel.call(s.context,_),c.reject(_)};switch(t){case"value":lT(this._delegate,d,p,{onlyOnce:!0});break;case"child_added":Vy(this._delegate,d,p,{onlyOnce:!0});break;case"child_removed":cT(this._delegate,d,p,{onlyOnce:!0});break;case"child_changed":Zy(this._delegate,d,p,{onlyOnce:!0});break;case"child_moved":Za(this._delegate,d,p,{onlyOnce:!0});break;default:throw new Error((0,V.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(t){return(0,V.Dv)("Query.limitToFirst",1,1,arguments.length),new Hr(this.database,qa(this._delegate,function Rg(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new hC(n)}(t)))}limitToLast(t){return(0,V.Dv)("Query.limitToLast",1,1,arguments.length),new Hr(this.database,qa(this._delegate,function fT(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new CR(n)}(t)))}orderByChild(t){return(0,V.Dv)("Query.orderByChild",1,1,arguments.length),new Hr(this.database,qa(this._delegate,function DR(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Sg("orderByChild","path",n,!1),new xR(n)}(t)))}orderByKey(){return(0,V.Dv)("Query.orderByKey",0,0,arguments.length),new Hr(this.database,qa(this._delegate,function mT(){return new pT}()))}orderByPriority(){return(0,V.Dv)("Query.orderByPriority",0,0,arguments.length),new Hr(this.database,qa(this._delegate,function ER(){return new By}()))}orderByValue(){return(0,V.Dv)("Query.orderByValue",0,0,arguments.length),new Hr(this.database,qa(this._delegate,function _T(){return new gT}()))}startAt(t=null,e){return(0,V.Dv)("Query.startAt",0,2,arguments.length),new Hr(this.database,qa(this._delegate,function yR(n=null,t){return bp("startAt","key",t,!0),new hT(n,t)}(t,e)))}startAfter(t=null,e){return(0,V.Dv)("Query.startAfter",0,2,arguments.length),new Hr(this.database,qa(this._delegate,function wR(n,t){return bp("startAfter","key",t,!0),new bR(n,t)}(t,e)))}endAt(t=null,e){return(0,V.Dv)("Query.endAt",0,2,arguments.length),new Hr(this.database,qa(this._delegate,function Ba(n,t){return bp("endAt","key",t,!0),new ma(n,t)}(t,e)))}endBefore(t=null,e){return(0,V.Dv)("Query.endBefore",0,2,arguments.length),new Hr(this.database,qa(this._delegate,function dT(n,t){return bp("endBefore","key",t,!0),new uT(n,t)}(t,e)))}equalTo(t,e){return(0,V.Dv)("Query.equalTo",1,2,arguments.length),new Hr(this.database,qa(this._delegate,function TR(n,t){return bp("equalTo","key",t,!0),new vT(n,t)}(t,e)))}toString(){return(0,V.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,V.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,V.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Hr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const o={cancel:void 0,context:void 0};if(e&&i)o.cancel=e,(0,V.Wj)(t,"cancel",o.cancel,!0),o.context=i,(0,V.lb)(t,"context",o.context,!0);else if(e)if("object"==typeof e&&null!==e)o.context=e;else{if("function"!=typeof e)throw new Error((0,V.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");o.cancel=e}return o}get ref(){return new hs(this.database,new qs(this._delegate._repo,this._delegate._path))}}class hs extends Hr{constructor(t,e){super(t,new Bs(e._repo,e._path,new Gv,!1)),this.database=t,this._delegate=e}getKey(){return(0,V.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,V.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new hs(this.database,yh(this._delegate,t))}getParent(){(0,V.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new hs(this.database,t):null}getRoot(){return(0,V.Dv)("Reference.root",0,0,arguments.length),new hs(this.database,this._delegate.root)}set(t,e){(0,V.Dv)("Reference.set",1,2,arguments.length),(0,V.Wj)("Reference.set","onComplete",e,!0);const i=Ly(this._delegate,t);return e&&i.then(()=>e(null),o=>e(o)),i}update(t,e){if((0,V.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const o={};for(let s=0;s<t.length;++s)o[""+s]=t[s];t=o,gC("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Vs("Reference.update",this._delegate._path),(0,V.Wj)("Reference.update","onComplete",e,!0);const i=_R(this._delegate,t);return e&&i.then(()=>e(null),o=>e(o)),i}setWithPriority(t,e,i){(0,V.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,V.Wj)("Reference.setWithPriority","onComplete",i,!0);const o=function xp(n,t,e){if(Vs("setWithPriority",n._path),Uc("setWithPriority",t,n._path,!1),Yw("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new V.BH;return Iy(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&o.then(()=>i(null),s=>i(s)),o}remove(t){(0,V.Dv)("Reference.remove",0,1,arguments.length),(0,V.Wj)("Reference.remove","onComplete",t,!0);const e=function gR(n){return Vs("remove",n._path),Ly(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,V.Dv)("Reference.transaction",1,3,arguments.length),(0,V.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,V.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,V.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const o=function FR(n,t,e){var i;if(n=(0,V.m9)(n),Vs("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const o=null===(i=e?.applyLocally)||void 0===i||i,s=new V.BH,d=lT(n,()=>{});return function pR(n,t,e,i,o,s){_h(n,"transaction on "+t);const c={path:t,update:e,onComplete:i,status:null,order:$f(),applyLocally:s,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=My(n,t,void 0);c.currentInputSnapshot=d;const p=c.update(d.val());if(void 0===p)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{Ig("transaction failed: Data returned ",p,c.path),c.status=0;const _=vy(n.transactionQueueTree_,t),b=ph(_)||[];let E;b.push(c),Eg(_,b),"object"==typeof p&&null!==p&&(0,V.r3)(p,".priority")?(E=(0,V.DV)(p,".priority"),(0,V.hu)(qu(E),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):E=(Lc(n.serverSyncTree_,t)||nn.EMPTY_NODE).getPriority().val();const k=wp(n),F=wi(p,E),q=qw(F,d,k);c.currentOutputSnapshotRaw=F,c.currentOutputSnapshotResolved=q,c.currentWriteId=gh(n);const K=Cg(n.serverSyncTree_,t,q,c.currentWriteId,c.applyLocally);Zs(n.eventQueue_,t,K),Mg(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(p,_,b)=>{let E=null;p?s.reject(p):(E=new vh(b,new qs(n._repo,n._path),ai),s.resolve(new NR(_,E)))},d,o),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new ST(s.committed,new Zc(this.database,s.snapshot)));return e&&o.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),o}setPriority(t,e){(0,V.Dv)("Reference.setPriority",1,2,arguments.length),(0,V.Wj)("Reference.setPriority","onComplete",e,!0);const i=function aT(n,t){n=(0,V.m9)(n),Vs("setPriority",n._path),Yw("setPriority",t,!1);const e=new V.BH;return Iy(n._repo,bi(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),o=>e(o)),i}push(t,e){(0,V.Dv)("Reference.push",0,2,arguments.length),(0,V.Wj)("Reference.push","onComplete",e,!0);const i=function sT(n,t){n=(0,V.m9)(n),Vs("push",n._path),Uc("push",t,n._path,!0);const e=Ay(n._repo),i=aC(e),o=yh(n,i),s=yh(n,i);let c;return c=null!=t?Ly(s,t).then(()=>s):Promise.resolve(s),o.then=c.then.bind(c),o.catch=c.then.bind(c,void 0),o}(this._delegate,t),o=i.then(c=>new hs(this.database,c));e&&o.then(()=>e(null),c=>e(c));const s=new hs(this.database,i);return s.then=o.then.bind(o),s.catch=o.catch.bind(o,void 0),s}onDisconnect(){return Vs("Reference.onDisconnect",this._delegate._path),new IT(new Ny(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Ap{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:DT,forceLongPolling:AR}}useEmulator(t,e,i={}){!function ET(n,t,e,i={}){(n=(0,V.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Sl("Cannot call useEmulator() after instance has already been initialized.");const o=n._repoInternal;let s;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&Sl('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new yi(yi.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,V.Sg)(i.mockUserToken,n.app.options.projectId);s=new yi(c)}!function yT(n,t,e,i){n.repoInfo_=new th(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(o,t,e,s)}(this._delegate,t,e,i)}ref(t){if((0,V.Dv)("database.ref",0,1,arguments.length),t instanceof hs){const e=uC(this._delegate,t.toString());return new hs(this,e)}{const e=mr(this._delegate,t);return new hs(this,e)}}refFromURL(t){(0,V.Dv)("database.refFromURL",1,1,arguments.length);const i=uC(this._delegate,t);return new hs(this,i)}goOffline(){return(0,V.Dv)("database.goOffline",0,0,arguments.length),function IR(n){(n=(0,V.m9)(n))._checkNotDeleted("goOffline"),nC(n._repo)}(this._delegate)}goOnline(){return(0,V.Dv)("database.goOnline",0,0,arguments.length),function SR(n){(n=(0,V.m9)(n))._checkNotDeleted("goOnline"),function nT(n){n.persistentConnection_&&n.persistentConnection_.resume(Dy)}(n._repo)}(this._delegate)}}Ap.ServerValue={TIMESTAMP:function OR(){return RR}(),increment:n=>function PR(n){return{".sv":{increment:n}}}(n)};var vC=Object.freeze({__proto__:null,initStandalone:function _C({app:n,url:t,version:e,customAuthImpl:i,namespace:o,nodeAdmin:s=!1}){rw(e);const c=new Ns.zt("auth-internal",new Ns.H0("database-standalone"));return c.setComponent(new Ns.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Ap(pC(n,c,void 0,t,s),n),namespace:o}}});const bh=Ap.ServerValue;!function ZR(n){n.INTERNAL.registerComponent(new Ns.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),o=t.getProvider("database").getImmediate({identifier:e});return new Ap(o,i)},"PUBLIC").setServiceProps({Reference:hs,Query:Hr,Database:Ap,DataSnapshot:Zc,enableLogging:MR,INTERNAL:vC,ServerValue:bh}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(tw.Z);var $t=U(7579),Bc=U(5363),NU=U(6063);class yC extends $t.x{constructor(t=1/0,e=1/0,i=NU.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:o,_timestampProvider:s,_windowTime:c}=this;e||(i.push(t),!o&&i.push(s.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:o}=this,s=o.slice();for(let c=0;c<s.length&&!t.closed;c+=i?1:2)t.next(s[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:o}=this,s=(o?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!o){const c=e.now();let d=0;for(let p=1;p<i.length&&i[p]<=c;p+=2)d=p;d&&i.splice(0,d+1)}}}function MT(n,t,e){let i,o=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:e}=n):i=n??1/0,(0,ew.B)({connector:()=>new yC(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const Ip=(0,U(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function jr(n,t){return(0,Sr.e)((e,i)=>{let o=0;e.subscribe((0,bn.x)(i,s=>n.call(t,s,o++)&&i.next(s)))})}var Tt=U(515);function zr(n){return n<=0?()=>Tt.E:(0,Sr.e)((t,e)=>{let i=0;t.subscribe((0,bn.x)(e,o=>{++i<=n&&(e.next(o),n<=i&&e.complete())}))})}function Hy(n){return(0,Sr.e)((t,e)=>{let i=!1;t.subscribe((0,bn.x)(e,o=>{i=!0,e.next(o)},()=>{i||e.next(n),e.complete()}))})}function RT(n=Sp){return(0,Sr.e)((t,e)=>{let i=!1;t.subscribe((0,bn.x)(e,o=>{i=!0,e.next(o)},()=>i?e.complete():e.error(n())))})}function Sp(){return new Ip}function $u(n,t){const e=arguments.length>=2;return i=>i.pipe(n?jr((o,s)=>n(o,s,i)):Ou.y,zr(1),e?Hy(t):RT(()=>new Ip))}var Ho=U(576);function Og(n,t){return(0,Ho.m)(t)?Mi(()=>n,t):Mi(()=>n)}var Ci=U(9468),Mp=U(259);class kp{constructor(t){return t}}class bC{constructor(){return(0,Mp.C6)()}}const jy=new r.OlP("angularfire2._apps"),PT={provide:kp,useFactory:function OT(n){return n&&1===n.length?n[0]:new kp((0,Mp.Mq)())},deps:[[new r.FiY,jy]]},NT={provide:bC,deps:[[new r.FiY,jy]]};function BR(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new kp(i)}}let qR=(()=>{class n{constructor(e){(0,Mp.KN)("angularfire",Wt.q4.full,"core"),(0,Mp.KN)("angularfire",Wt.q4.full,"app"),(0,Mp.KN)("angular",r.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.Lbi))},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[PT,NT]}),n})();function HR(n,...t){return{ngModule:qR,providers:[{provide:jy,useFactory:BR(n),multi:!0,deps:[r.R0b,r.zs3,Wt.HU,...t]}]}}const jR=(0,Wt.u3)(Mp.ZF,!0),$y=new Map,FT={activated:!1,tokenObservers:[]},Pg={initialized:!1,enabled:!1};function ci(n){return $y.get(n)||Object.assign({},FT)}function Gy(){return Pg}const CC="https://content-firebaseappcheck.googleapis.com/v1",VT="exchangeDebugToken",ZT={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class YR{constructor(t,e,i,o,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=o,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=o,o>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,de.Z)(function*(){e.stop();try{e.pending=new V.BH,yield function WR(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new V.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const xo=new V.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function qT(n){if(!ci(n).activated)throw xo.create("use-before-activation",{appName:n.name})}function Wy(n,t){return DC.apply(this,arguments)}function DC(){return(DC=(0,de.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});if(o){const E=yield o.getHeartbeatsHeader();E&&(i["X-Firebase-Client"]=E)}const s={method:"POST",body:JSON.stringify(t),headers:i};let c,d;try{c=yield fetch(n,s)}catch(E){throw xo.create("fetch-network-error",{originalErrorMessage:E?.message})}if(200!==c.status)throw xo.create("fetch-status-error",{httpStatus:c.status});try{d=yield c.json()}catch(E){throw xo.create("fetch-parse-error",{originalErrorMessage:E?.message})}const p=d.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw xo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});const _=1e3*Number(p[1]),b=Date.now();return{token:d.token,expireTimeMillis:b+_,issuedAtTimeMillis:b}})).apply(this,arguments)}function jT(n,t){const{projectId:e,appId:i,apiKey:o}=n.options;return{url:`${CC}/projects/${e}/apps/${i}:${VT}?key=${o}`,body:{debug_token:t}}}const KR="firebase-app-check-database",QR=1,Fg="firebase-app-check-store";let Ky=null;function AC(){return(AC=(0,de.Z)(function*(n,t){const i=(yield function EC(){return Ky||(Ky=new Promise((n,t)=>{try{const e=indexedDB.open(KR,QR);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var o;t(xo.create("storage-open",{originalErrorMessage:null===(o=i.target.error)||void 0===o?void 0:o.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Fg,{keyPath:"compositeKey"})}}catch(e){t(xo.create("storage-open",{originalErrorMessage:e?.message}))}}),Ky)}()).transaction(Fg,"readwrite"),s=i.objectStore(Fg).put({compositeKey:n,value:t});return new Promise((c,d)=>{s.onsuccess=p=>{c()},i.onerror=p=>{var _;d(xo.create("storage-set",{originalErrorMessage:null===(_=p.target.error)||void 0===_?void 0:_.message}))}})})).apply(this,arguments)}const Ug=new Fs.Yd("@firebase/app-check");function Qy(n,t){return(0,V.hl)()?function eO(n,t){return function TC(n,t){return AC.apply(this,arguments)}(function MC(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Ug.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function PC(){return Gy().enabled}function NC(){return Vg.apply(this,arguments)}function Vg(){return(Vg=(0,de.Z)(function*(){const n=Gy();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const $T={error:"UNKNOWN_ERROR"};function iO(n){return V.US.encodeString(JSON.stringify(n),!1)}function Jy(n){return FC.apply(this,arguments)}function FC(){return(FC=(0,de.Z)(function*(n,t=!1){const e=n.app;qT(e);const i=ci(e);let s,o=i.token;if(o&&!Rp(o)&&(i.token=void 0,o=void 0),!o){const p=yield i.cachedTokenPromise;p&&(Rp(p)?o=p:yield Qy(e,void 0))}if(!t&&o&&Rp(o))return{token:o.token};let d,c=!1;if(PC()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Wy(jT(e,yield NC()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);const p=yield i.exchangeTokenPromise;return yield Qy(e,p),i.token=p,{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=yield ci(e).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?Ug.warn(p.message):Ug.error(p),s=p}return o?s?d=Rp(o)?{token:o.token,internalError:s}:KT(s):(d={token:o.token},i.token=o,yield Qy(e,o)):d=KT(s),c&&function ZC(n,t){const e=ci(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,d),d})).apply(this,arguments)}function GT(n){return LC.apply(this,arguments)}function LC(){return(LC=(0,de.Z)(function*(n){const t=n.app;qT(t);const{provider:e}=ci(t);if(PC()){const i=yield NC(),{token:o}=yield Wy(jT(t,i),n.heartbeatServiceProvider);return{token:o}}{const{token:i}=yield e.getToken();return{token:i}}})).apply(this,arguments)}function VC(n,t){const e=ci(n),i=e.tokenObservers.filter(o=>o.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function YT(n){const{app:t}=n,e=ci(t);let i=e.tokenRefresher;i||(i=function WT(n){const{app:t}=n;return new YR((0,de.Z)(function*(){let i;if(i=ci(t).token?yield Jy(n,!0):yield Jy(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=ci(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},ZT.RETRIAL_MIN_WAIT,ZT.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Rp(n){return n.expireTimeMillis-Date.now()>0}function KT(n){return{token:iO($T),error:n}}class QT{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=ci(this.app);for(const e of t)VC(this.app,e.next);return Promise.resolve()}}const rA="app-check-internal";!function mO(){(0,Mr._registerComponent)(new Ns.wA("app-check",n=>function rO(n,t){return new QT(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(rA).initialize()})),(0,Mr._registerComponent)(new Ns.wA(rA,n=>function oO(n){return{getToken:t=>Jy(n,t),getLimitedUseToken:()=>GT(n),addTokenListener:t=>function UC(n,t,e,i){const{app:o}=n,s=ci(o);if(s.tokenObservers=[...s.tokenObservers,{next:e,error:i,type:t}],s.token&&Rp(s.token)){const d=s.token;Promise.resolve().then(()=>{e({token:d.token}),YT(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>YT(n))}(n,"INTERNAL",t),removeTokenListener:t=>VC(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Mr.registerVersion)("@firebase/app-check","0.8.0")}();class Ch{constructor(){return(0,Wt.vb)("app-check")}}typeof window<"u"&&window;var $C=U(9260);const xh=new r.OlP("angularfire2.auth.use-emulator"),sb=new r.OlP("angularfire2.auth.settings"),ab=new r.OlP("angularfire2.auth.tenant-id"),lb=new r.OlP("angularfire2.auth.langugage-code"),cb=new r.OlP("angularfire2.auth.use-device-language"),ub=new r.OlP("angularfire.auth.persistence"),GC=(n,t,e,i,o,s,c,d)=>(0,fr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=t.runOutsideAngular(()=>n.auth());if(e&&p.useEmulator(...e),i&&(p.tenantId=i),p.languageCode=o,s&&p.useDeviceLanguage(),c)for(const[_,b]of Object.entries(c))p.settings[_]=b;return d&&p.setPersistence(d),p},[e,i,o,s,c,d]);let db=(()=>{class n{constructor(e,i,o,s,c,d,p,_,b,E,k,F){const q=new $t.x,K=(0,ft.of)(void 0).pipe((0,Bc.Q)(c.outsideAngular),Mi(()=>s.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,9568)))),(0,Ke.U)(()=>(0,fr.on)(e,s,i)),(0,Ke.U)(ee=>GC(ee,s,d,_,b,E,p,k)),MT({bufferSize:1,refCount:!1}));if(No(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ft.of)(null);else{K.pipe($u()).subscribe();const Oe=K.pipe(Mi(Je=>Je.getRedirectResult().then(Nt=>Nt,()=>null)),Wt.iC,MT({bufferSize:1,refCount:!1})),ze=K.pipe(Mi(Je=>new Kn.y(Nt=>({unsubscribe:s.runOutsideAngular(()=>Je.onAuthStateChanged(Vt=>Nt.next(Vt),Vt=>Nt.error(Vt),()=>Nt.complete()))})))),He=K.pipe(Mi(Je=>new Kn.y(Nt=>({unsubscribe:s.runOutsideAngular(()=>Je.onIdTokenChanged(Vt=>Nt.next(Vt),Vt=>Nt.error(Vt),()=>Nt.complete()))}))));this.authState=Oe.pipe(Og(ze),(0,Ci.R)(c.outsideAngular),(0,Bc.Q)(c.insideAngular)),this.user=Oe.pipe(Og(He),(0,Ci.R)(c.outsideAngular),(0,Bc.Q)(c.insideAngular)),this.idToken=this.user.pipe(Mi(Je=>Je?(0,_n.D)(Je.getIdToken()):(0,ft.of)(null))),this.idTokenResult=this.user.pipe(Mi(Je=>Je?(0,_n.D)(Je.getIdTokenResult()):(0,ft.of)(null))),this.credential=(0,us.T)(Oe,q,this.authState.pipe(jr(Je=>!Je))).pipe((0,Ke.U)(Je=>Je?.user?Je:null),(0,Ci.R)(c.outsideAngular),(0,Bc.Q)(c.insideAngular))}return(0,fr.pX)(this,K,s,{spy:{apply:(ee,Oe,ze)=>{(ee.startsWith("signIn")||ee.startsWith("createUser"))&&ze.then(He=>q.next(He))}}})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(fr.Dh),r.LFG(fr.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(Wt.HU),r.LFG(xh,8),r.LFG(sb,8),r.LFG(ab,8),r.LFG(lb,8),r.LFG(cb,8),r.LFG(ub,8),r.LFG(Ch,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function aA(n){return null==n}function lA(n){return"function"==typeof n.set}function cA(n,t){return lA(t)?t:n.ref(t)}function Pp(n,t){if(function xO(n){return"string"==typeof n}(n))return t.stringCase();if(lA(n))return t.firebaseCase();if(function DO(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Zg(n,t,e="on",i=Qd.z){return new Kn.y(o=>{let s=null;return s=n[e](t,(c,d)=>{i.schedule(()=>{o.next({snapshot:c,prevKey:d})}),"once"===e&&i.schedule(()=>o.complete())},c=>{i.schedule(()=>o.error(c))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe((0,Ke.U)(o=>{const{snapshot:s,prevKey:c}=o;let d=null;return s.exists()&&(d=s.key),{type:t,payload:s,prevKey:c,key:d}}),(0,ew.B)())}function Ha(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function hb(n,t){const{payload:e,prevKey:i,key:o}=t,s=Ha(n,o),c=function EO(n,t){if(aA(t))return 0;{const e=Ha(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let d=null;t.payload.forEach(p=>{const _={payload:p,type:"value",prevKey:d,key:p.key};return d=p.key,n=[...n,_],!1})}return n;case"child_added":if(s>-1){const d=n[s-1];(d&&d.key||null)!==i&&(n=n.filter(p=>p.payload.key!==e.key)).splice(c,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(c,0,t)}return n;case"child_removed":return n.filter(d=>d.payload.key!==e.key);case"child_changed":return n.map(d=>d.payload.key===o?t:d);case"child_moved":if(s>-1){const d=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,d),n}return n;default:return n}}function Np(n){return(aA(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function uA(n,t,e){return function YC(n,t,e){return Zg(n,"value","once",e).pipe(Mi(i=>{const o=[(0,ft.of)(i)];return t.forEach(s=>o.push(Zg(n,s,"on",e))),(0,us.T)(...o).pipe(Jd(hb,[]))}),(0,rg.x)())}(n,t=Np(t),e)}function dA(n,t,e){const i=(t=Np(t)).map(o=>Zg(n,o,"on",e));return(0,us.T)(...i)}function fA(n,t){return function(i,o){return Pp(i,{stringCase:()=>n.child(i)[t](o),firebaseCase:()=>i[t](o),snapshotCase:()=>i.ref[t](o)})}}function AO(n){return function(e){return e?Pp(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function pA(n,t){return function(){return Zg(n,"value","on",t)}}const mA=new r.OlP("angularfire2.realtimeDatabaseURL"),SO=new r.OlP("angularfire2.database.use-emulator");let MO=(()=>{class n{constructor(e,i,o,s,c,d,p,_,b,E,k,F,q,K,ee){this.schedulers=d;const Oe=p,ze=(0,fr.on)(e,c,i);_&&GC(ze,c,b,k,F,q,E,K),this.database=(0,fr.cc)(`${ze.name}.database.${o}`,"AngularFireDatabase",ze.name,()=>{const He=c.runOutsideAngular(()=>ze.database(o||void 0));return Oe&&He.useEmulator(...Oe),He},[Oe])}list(e,i){const o=this.schedulers.ngZone.runOutsideAngular(()=>cA(this.database,e));let s=o;return i&&(s=i(o)),function WC(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:fA(i,"update"),set:fA(i,"set"),push:o=>i.push(o),remove:AO(i),snapshotChanges:o=>uA(n,o,e).pipe(Wt.iC),stateChanges:o=>dA(n,o,e).pipe(Wt.iC),auditTrail:o=>function TO(n,t,e){return function hA(n,t,e){return function fb(n,t){return Zg(n,"value","on",t).pipe((0,Ke.U)(e=>{let i;return e.payload.forEach(o=>(i=o.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function zf(...n){const t=(0,pc.jO)(n);return(0,Sr.e)((e,i)=>{const o=n.length,s=new Array(o);let c=n.map(()=>!1),d=!1;for(let p=0;p<o;p++)(0,Zo.Xf)(n[p]).subscribe((0,bn.x)(i,_=>{s[p]=_,!d&&!c[p]&&(c[p]=!0,(d=c.every(Ou.y))&&(c=null))},pv.Z));e.subscribe((0,bn.x)(i,p=>{if(d){const _=[p,...s];i.next(t?t(..._):_)}}))})}(t),(0,Ke.U)(([o,s])=>{const c=o.lastKeyToLoad,d=s.map(p=>p.key);return{actions:s,lastKeyToLoad:c,loadedKeys:d}}),function KM(n){return(0,Sr.e)((t,e)=>{let i=!1,o=0;t.subscribe((0,bn.x)(e,s=>(i||(i=!n(s,o++)))&&e.next(s)))})}(o=>-1===o.loadedKeys.indexOf(o.lastKeyToLoad)),(0,Ke.U)(o=>o.actions))}(n,dA(n,t).pipe(Jd((o,s)=>[...o,s],[])),e)}(n,o,e).pipe(Wt.iC),valueChanges:(o,s)=>uA(n,o,e).pipe((0,Ke.U)(d=>d.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),Wt.iC)}}(s,this)}object(e){return function IO(n,t){return{query:n,snapshotChanges:()=>pA(n,t.schedulers.outsideAngular)().pipe(Wt.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>pA(n,t.schedulers.outsideAngular)().pipe(Wt.iC,(0,Ke.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>cA(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(fr.Dh),r.LFG(fr.xv,8),r.LFG(mA,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(Wt.HU),r.LFG(SO,8),r.LFG(db,8),r.LFG(xh,8),r.LFG(sb,8),r.LFG(ab,8),r.LFG(lb,8),r.LFG(cb,8),r.LFG(ub,8),r.LFG(Ch,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),gA=(()=>{class n{constructor(){$C.Z.registerVersion("angularfire",Wt.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[MO]}),n})();const Bg_firebase={apiKey:"AIzaSyDoL9lyY5gGLC-an8k40m7odZ6YpFf59MU",authDomain:"tesishub.firebaseapp.com",projectId:"tesishub",storageBucket:"tesishub.appspot.com",messagingSenderId:"410901247436",appId:"1:410901247436:web:f06c14e325b209771cd969",measurementId:"G-88V6T52N2S"};function _A(n){return!!n&&(n instanceof Kn.y||(0,Ho.m)(n.lift)&&(0,Ho.m)(n.subscribe))}var co=U(1135),vA=U(9672);function qc(...n){const t=(0,pc.yG)(n),e=(0,pc.jO)(n),{args:i,keys:o}=fc(n);if(0===i.length)return(0,_n.D)([],t);const s=new Kn.y(function KC(n,t,e=Ou.y){return i=>{QC(t,()=>{const{length:o}=n,s=new Array(o);let c=o,d=o;for(let p=0;p<o;p++)QC(t,()=>{const _=(0,_n.D)(n[p],t);let b=!1;_.subscribe((0,bn.x)(i,E=>{s[p]=E,b||(b=!0,d--),d||i.next(e(s.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,t,o?c=>rs(o,c):Ou.y));return e?s.pipe(Cl(e)):s}function QC(n,t,e){n?(0,vA.f)(e,n,t):t()}var qg=U(8189);function Hg(...n){return function yA(){return(0,qg.J)(1)}()((0,_n.D)(n,(0,pc.yG)(n)))}function JC(n){return new Kn.y(t=>{(0,Zo.Xf)(n()).subscribe(t)})}var bA=U(9635);function Dh(n,t){const e=(0,Ho.m)(n)?n:()=>n,i=o=>o.error(e());return new Kn.y(t?o=>t.schedule(i,0,o):i)}var xi=U(727);function pb(){return(0,Sr.e)((n,t)=>{let e=null;n._refCount++;const i=(0,bn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const o=n._connection,s=e;e=null,o&&(!s||o===s)&&o.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class jg extends Kn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Sr.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new xi.w0;const e=this.getSubject();t.add(this.source.subscribe((0,bn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=xi.w0.EMPTY)}return t}refCount(){return pb()(this)}}function ga(...n){const t=(0,pc.yG)(n);return(0,Sr.e)((e,i)=>{(t?Hg(n,e,t):Hg(n,e)).subscribe(i)})}var Do=U(5577);function zg(n,t){return(0,Ho.m)(t)?(0,Do.z)(n,t,1):(0,Do.z)(n,1)}var $r=U(8505);function Eh(n){return(0,Sr.e)((t,e)=>{let s,i=null,o=!1;i=t.subscribe((0,bn.x)(e,void 0,void 0,c=>{s=(0,Zo.Xf)(n(c,Eh(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):o=!0})),o&&(i.unsubscribe(),i=null,s.subscribe(e))})}function mb(n){return n<=0?()=>Tt.E:(0,Sr.e)((t,e)=>{let i=[];t.subscribe((0,bn.x)(e,o=>{i.push(o),n<i.length&&i.shift()},()=>{for(const o of i)e.next(o);e.complete()},void 0,()=>{i=null}))})}function gb(n){return(0,Sr.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Xt="primary",Fp=Symbol("RouteTitle");class kO{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Th(n){return new kO(n)}function CA(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const o={};for(let s=0;s<i.length;s++){const c=i[s],d=n[s];if(c.startsWith(":"))o[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:o}}function ja(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let o;for(let s=0;s<e.length;s++)if(o=e[s],!ex(n[o],t[o]))return!1;return!0}function ex(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((o,s)=>i[s]===o)}return n===t}function Eo(n){return n.length>0?n[n.length-1]:null}function Hs(n){return _A(n)?n:(0,r.QGY)(n)?(0,_n.D)(Promise.resolve(n)):(0,ft.of)(n)}const OO={exact:function tx(n,t,e){if(!Ah(n.segments,t.segments)||!Up(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!tx(n.children[i],t.children[i],e))return!1;return!0},subset:Lp},xA={exact:function zU(n,t){return ja(n,t)},subset:function nx(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>ex(n[e],t[e]))},ignored:()=>!0};function PO(n,t,e){return OO[e.paths](n.root,t.root,e.matrixParams)&&xA[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Lp(n,t,e){return DA(n,t,t.segments,e)}function DA(n,t,e,i){if(n.segments.length>e.length){const o=n.segments.slice(0,e.length);return!(!Ah(o,e)||t.hasChildren()||!Up(o,e,i))}if(n.segments.length===e.length){if(!Ah(n.segments,e)||!Up(n.segments,e,i))return!1;for(const o in t.children)if(!n.children[o]||!Lp(n.children[o],t.children[o],i))return!1;return!0}{const o=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Ah(n.segments,o)&&Up(n.segments,o,i)&&n.children[Xt])&&DA(n.children[Xt],t,s,i)}}function Up(n,t,e){return t.every((i,o)=>xA[e](n[o].parameters,i.parameters))}class Vp{constructor(t=new Bn([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Th(this.queryParams)),this._queryParamMap}toString(){return _b.serialize(this)}}class Bn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bp(this)}}class $g{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Th(this.parameters)),this._parameterMap}toString(){return wb(this)}}function Ah(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Zp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:function(){return new rx},providedIn:"root"}),n})();class rx{parse(t){const e=new SA(t);return new Vp(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${vb(t.root,!0)}`,i=function FO(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(o=>`${yb(e)}=${yb(o)}`).join("&"):`${yb(e)}=${yb(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function EA(n){return encodeURI(n)}(t.fragment)}`:""}`}}const _b=new rx;function Bp(n){return n.segments.map(t=>wb(t)).join("/")}function vb(n,t){if(!n.hasChildren())return Bp(n);if(t){const e=n.children[Xt]?vb(n.children[Xt],!1):"",i=[];return Object.entries(n.children).forEach(([o,s])=>{o!==Xt&&i.push(`${o}:${vb(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function ix(n,t){let e=[];return Object.entries(n.children).forEach(([i,o])=>{i===Xt&&(e=e.concat(t(o,i)))}),Object.entries(n.children).forEach(([i,o])=>{i!==Xt&&(e=e.concat(t(o,i)))}),e}(n,(i,o)=>o===Xt?[vb(n.children[Xt],!1)]:[`${o}:${vb(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Xt]?`${Bp(n)}/${e[0]}`:`${Bp(n)}/(${e.join("//")})`}}function ox(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yb(n){return ox(n).replace(/%3B/gi,";")}function Gu(n){return ox(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bb(n){return decodeURIComponent(n)}function sx(n){return bb(n.replace(/\+/g,"%20"))}function wb(n){return`${Gu(n.path)}${function $U(n){return Object.keys(n).map(t=>`;${Gu(t)}=${Gu(n[t])}`).join("")}(n.parameters)}`}const GU=/^[^\/()?;#]+/;function ax(n){const t=n.match(GU);return t?t[0]:""}const LO=/^[^\/()?;=#]+/,TA=/^[^=?&#]+/,VO=/^[^&#]+/;class SA{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bn([],{}):new Bn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Xt]=new Bn(t,e)),i}parseSegment(){const t=ax(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new r.vHH(4009,!1);return this.capture(t),new $g(bb(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function UO(n){const t=n.match(LO);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=ax(this.remaining);o&&(i=o,this.capture(i))}t[bb(e)]=bb(i)}parseQueryParam(t){const e=function AA(n){const t=n.match(TA);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const c=function IA(n){const t=n.match(VO);return t?t[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const o=sx(e),s=sx(i);if(t.hasOwnProperty(o)){let c=t[o];Array.isArray(c)||(c=[c],t[o]=c),c.push(s)}else t[o]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ax(this.remaining),o=this.remaining[i.length];if("/"!==o&&")"!==o&&";"!==o)throw new r.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Xt);const c=this.parseChildren();e[s]=1===Object.keys(c).length?c[Xt]:new Bn([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new r.vHH(4011,!1)}}function MA(n){return n.segments.length>0?new Bn([],{[Xt]:n}):n}function kA(n){const t={};for(const i of Object.keys(n.children)){const s=kA(n.children[i]);if(i===Xt&&0===s.segments.length&&s.hasChildren())for(const[c,d]of Object.entries(s.children))t[c]=d;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function RA(n){if(1===n.numberOfChildren&&n.children[Xt]){const t=n.children[Xt];return new Bn(n.segments.concat(t.segments),t.children)}return n}(new Bn(n.segments,t))}function Ih(n){return n instanceof Vp}function lx(n){let t;const o=MA(function e(s){const c={};for(const p of s.children){const _=e(p);c[p.outlet]=_}const d=new Bn(s.url,c);return s===n&&(t=d),d}(n.root));return t??o}function cx(n,t,e,i){let o=n;for(;o.parent;)o=o.parent;if(0===t.length)return ux(o,o,o,e,i);const s=function YU(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new dx(!0,0,n);let t=0,e=!1;const i=n.reduce((o,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return Object.entries(s.outlets).forEach(([p,_])=>{d[p]="string"==typeof _?_.split("/"):_}),[...o,{outlets:d}]}if(s.segmentPath)return[...o,s.segmentPath]}return"string"!=typeof s?[...o,s]:0===c?(s.split("/").forEach((d,p)=>{0==p&&"."===d||(0==p&&""===d?e=!0:".."===d?t++:""!=d&&o.push(d))}),o):[...o,s]},[]);return new dx(e,t,i)}(t);if(s.toRoot())return ux(o,o,new Bn([],{}),e,i);const c=function WU(n,t,e){if(n.isAbsolute)return new hx(t,!0,0);if(!e)return new hx(t,!1,NaN);if(null===e.parent)return new hx(e,!0,0);const i=Gg(n.commands[0])?0:1;return function KU(n,t,e){let i=n,o=t,s=e;for(;s>o;){if(s-=o,i=i.parent,!i)throw new r.vHH(4005,!1);o=i.segments.length}return new hx(i,!1,o-s)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(s,o,n),d=c.processChildren?Cb(c.segmentGroup,c.index,s.commands):BO(c.segmentGroup,c.index,s.commands);return ux(o,c.segmentGroup,d,e,i)}function Gg(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Yg(n){return"object"==typeof n&&null!=n&&n.outlets}function ux(n,t,e,i,o){let c,s={};i&&Object.entries(i).forEach(([p,_])=>{s[p]=Array.isArray(_)?_.map(b=>`${b}`):`${_}`}),c=n===t?e:ZO(n,t,e);const d=MA(kA(c));return new Vp(d,s,o)}function ZO(n,t,e){const i={};return Object.entries(n.children).forEach(([o,s])=>{i[o]=s===t?e:ZO(s,t,e)}),new Bn(n.segments,i)}class dx{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Gg(i[0]))throw new r.vHH(4003,!1);const o=i.find(Yg);if(o&&o!==Eo(i))throw new r.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hx{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function BO(n,t,e){if(n||(n=new Bn([],{})),0===n.segments.length&&n.hasChildren())return Cb(n,t,e);const i=function JU(n,t,e){let i=0,o=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(i>=e.length)return s;const c=n.segments[o],d=e[i];if(Yg(d))break;const p=`${d}`,_=i<e.length-1?e[i+1]:null;if(o>0&&void 0===p)break;if(p&&_&&"object"==typeof _&&void 0===_.outlets){if(!fx(p,_,c))return s;i+=2}else{if(!fx(p,{},c))return s;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(n,t,e),o=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Bn(n.segments.slice(0,i.pathIndex),{});return s.children[Xt]=new Bn(n.segments.slice(i.pathIndex),n.children),Cb(s,0,o)}return i.match&&0===o.length?new Bn(n.segments,{}):i.match&&!n.hasChildren()?PA(n,t,e):i.match?Cb(n,0,o):PA(n,t,e)}function Cb(n,t,e){if(0===e.length)return new Bn(n.segments,{});{const i=function QU(n){return Yg(n[0])?n[0].outlets:{[Xt]:n}}(e),o={};if(!i[Xt]&&n.children[Xt]&&1===n.numberOfChildren&&0===n.children[Xt].segments.length){const s=Cb(n.children[Xt],t,e);return new Bn(n.segments,s.children)}return Object.entries(i).forEach(([s,c])=>{"string"==typeof c&&(c=[c]),null!==c&&(o[s]=BO(n.children[s],t,c))}),Object.entries(n.children).forEach(([s,c])=>{void 0===i[s]&&(o[s]=c)}),new Bn(n.segments,o)}}function PA(n,t,e){const i=n.segments.slice(0,t);let o=0;for(;o<e.length;){const s=e[o];if(Yg(s)){const p=NA(s.outlets);return new Bn(i,p)}if(0===o&&Gg(e[0])){i.push(new $g(n.segments[t].path,xb(e[0]))),o++;continue}const c=Yg(s)?s.outlets[Xt]:`${s}`,d=o<e.length-1?e[o+1]:null;c&&d&&Gg(d)?(i.push(new $g(c,xb(d))),o+=2):(i.push(new $g(c,{})),o++)}return new Bn(i,{})}function NA(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=PA(new Bn([],{}),0,i))}),t}function xb(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function fx(n,t,e){return n==e.path&&ja(t,e.parameters)}const Wg="imperative";class js{constructor(t,e){this.id=t,this.url=e}}class px extends js{constructor(t,e,i="imperative",o=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qp extends js{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class mx extends js{constructor(t,e,i,o){super(t,e),this.reason=i,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Db extends js{constructor(t,e,i,o){super(t,e),this.reason=i,this.code=o,this.type=16}}class Eb extends js{constructor(t,e,i,o){super(t,e),this.error=i,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qO extends js{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HO extends js{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jO extends js{constructor(t,e,i,o,s){super(t,e),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class XU extends js{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zO extends js{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FA{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class LA{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class e3{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class za{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $O{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gx{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _x{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class n3{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new kr,this.attachRef=null}}let kr=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const o=this.getOrCreateContext(e);o.outlet=i,this.contexts.set(e,o)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new n3,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class UA{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Kg(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Kg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=vx(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return vx(t,this._root).map(e=>e.value)}}function Kg(n,t){if(n===t.value)return t;for(const e of t.children){const i=Kg(n,e);if(i)return i}return null}function vx(n,t){if(n===t.value)return[t];for(const e of t.children){const i=vx(n,e);if(i.length)return i.unshift(t),i}return[]}class Hc{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Yu(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class yx extends UA{constructor(t,e){super(t),this.snapshot=e,Tb(this,t)}toString(){return this.snapshot.toString()}}function bx(n,t){const e=function GO(n,t){const c=new Qg([],{},{},"",{},Xt,t,null,{});return new ZA("",new Hc(c,[]))}(0,t),i=new co.X([new $g("",{})]),o=new co.X({}),s=new co.X({}),c=new co.X({}),d=new co.X(""),p=new zs(i,o,c,d,s,Xt,t,e.root);return p.snapshot=e.root,new yx(new Hc(p,[]),e)}class zs{constructor(t,e,i,o,s,c,d,p){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=o,this.dataSubject=s,this.outlet=c,this.component=d,this._futureSnapshot=p,this.title=this.dataSubject?.pipe((0,Ke.U)(_=>_[Fp]))??(0,ft.of)(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=o,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ke.U)(t=>Th(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ke.U)(t=>Th(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wx(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const o=e[i],s=e[i-1];if(o.routeConfig&&""===o.routeConfig.path)i--;else{if(s.component)break;i--}}return function VA(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Qg{get title(){return this.data?.[Fp]}constructor(t,e,i,o,s,c,d,p,_){this.url=t,this.params=e,this.queryParams=i,this.fragment=o,this.data=s,this.outlet=c,this.component=d,this.routeConfig=p,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Th(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Th(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ZA extends UA{constructor(t,e){super(e),this.url=t,Tb(this,e)}toString(){return BA(this._root)}}function Tb(n,t){t.value._routerState=n,t.children.forEach(e=>Tb(n,e))}function BA(n){const t=n.children.length>0?` { ${n.children.map(BA).join(", ")} } `:"";return`${n.value}${t}`}function Jg(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ja(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),ja(t.params,e.params)||n.paramsSubject.next(e.params),function RO(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ja(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),ja(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Fl(n,t){const e=ja(n.params,t.params)&&function NO(n,t){return Ah(n,t)&&n.every((e,i)=>ja(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Fl(n.parent,t.parent))}let Ab=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Xt,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.attachEvents=new r.vpe,this.detachEvents=new r.vpe,this.parentContexts=(0,r.f3M)(kr),this.location=(0,r.f3M)(r.s_b),this.changeDetector=(0,r.f3M)(r.sBO),this.environmentInjector=(0,r.f3M)(r.lqb),this.inputBinder=(0,r.f3M)(Hp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:o}=e.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new r.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new r.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new r.vHH(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new r.vHH(4013,!1);this._activatedRoute=e;const o=this.location,c=e.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,p=new Cx(e,d,o.injector);this.activated=o.createComponent(c,{index:o.length,injector:p,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[r.TTD]}),n})();class Cx{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===zs?this.route:t===kr?this.childContexts:this.parent.get(t,e)}}const Hp=new r.OlP("");let qA=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,o=qc([i.queryParams,i.params,i.data]).pipe(Mi(([s,c,d],p)=>(d={...s,...c,...d},0===p?(0,ft.of)(d):Promise.resolve(d)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const c=(0,r.qFp)(i.component);if(c)for(const{templateName:d}of c.inputs)e.activatedComponentRef.setInput(d,s[d]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();function jp(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const o=function YO(n,t,e){return t.children.map(i=>{for(const o of e.children)if(n.shouldReuseRoute(i.value,o.value.snapshot))return jp(n,i,o);return jp(n,i)})}(n,t,e);return new Hc(i,o)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(d=>jp(n,d)),c}}const i=function WO(n){return new zs(new co.X(n.url),new co.X(n.params),new co.X(n.queryParams),new co.X(n.fragment),new co.X(n.data),n.outlet,n.component,n)}(t.value),o=t.children.map(s=>jp(n,s));return new Hc(i,o)}}const xx="ngNavigationCancelingError";function HA(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Ih(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=Dx(!1,0,t);return o.url=e,o.navigationBehaviorOptions=i,o}function Dx(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[xx]=!0,i.cancellationCode=t,e&&(i.url=e),i}function KO(n){return Ex(n)&&Ih(n.url)}function Ex(n){return n&&n[xx]}let jA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[r.jDz],decls:1,vars:0,template:function(e,i){1&e&&r._UZ(0,"router-outlet")},dependencies:[Ab],encapsulation:2}),n})();function $p(n){const t=n.children&&n.children.map($p),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Xt&&(e.component=jA),e}function _a(n){return n.outlet||Xt}function Xg(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class WA{constructor(t,e,i,o,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=o,this.inputBindingEnabled=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Jg(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const o=Yu(e);t.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,o[c],i),delete o[c]}),Object.values(o).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const o=t.value,s=e?e.value:null;if(o===s)if(o.component){const c=i.getContext(o.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),o=i&&t.value.component?i.children:e,s=Yu(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],o);if(i&&i.outlet){const c=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),o=i&&t.value.component?i.children:e,s=Yu(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],o);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const o=Yu(e);t.children.forEach(s=>{this.activateRoutes(s,o[s.value.outlet],i),this.forwardEvent(new gx(s.value.snapshot))}),t.children.length&&this.forwardEvent(new za(t.value.snapshot))}activateRoutes(t,e,i){const o=t.value,s=e?e.value:null;if(Jg(o),o===s)if(o.component){const c=i.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(o.component){const c=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const d=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),Jg(d.route.value),this.activateChildRoutes(t,null,c.children)}else{const d=Xg(o.snapshot);c.attachRef=null,c.route=o,c.injector=d,c.outlet&&c.outlet.activateWith(o,c.injector),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}}class KA{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ib{constructor(t,e){this.component=t,this.route=e}}function s3(n,t,e){const i=n._root;return Gp(i,t?t._root:null,e,[i.value])}function e_(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,r.Z0I)(n)?t.get(n):n:i}function Gp(n,t,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Yu(t);return n.children.forEach(c=>{(function tP(n,t,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const p=function nP(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Ah(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ah(n.url,t.url)||!ja(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fl(n,t)||!ja(n.queryParams,t.queryParams);default:return!Fl(n,t)}}(c,s,s.routeConfig.runGuardsAndResolvers);p?o.canActivateChecks.push(new KA(i)):(s.data=c.data,s._resolvedData=c._resolvedData),Gp(n,t,s.component?d?d.children:null:e,i,o),p&&d&&d.outlet&&d.outlet.isActivated&&o.canDeactivateChecks.push(new Ib(d.outlet.component,c))}else c&&t_(t,d,o),o.canActivateChecks.push(new KA(i)),Gp(n,null,s.component?d?d.children:null:e,i,o)})(c,s[c.value.outlet],e,i.concat([c.value]),o),delete s[c.value.outlet]}),Object.entries(s).forEach(([c,d])=>t_(d,e.getContext(c),o)),o}function t_(n,t,e){const i=Yu(n),o=n.value;Object.entries(i).forEach(([s,c])=>{t_(c,o.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new Ib(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function Sb(n){return"function"==typeof n}function Tx(n){return n instanceof Ip||"EmptyError"===n?.name}const Ll=Symbol("INITIAL_VALUE");function Sh(){return Mi(n=>qc(n.map(t=>t.pipe(zr(1),ga(Ll)))).pipe((0,Ke.U)(t=>{for(const e of t)if(!0!==e){if(e===Ll)return Ll;if(!1===e||e instanceof Vp)return e}return!0}),jr(t=>t!==Ll),zr(1)))}function kx(n){return(0,bA.z)((0,$r.b)(t=>{if(Ih(t))throw HA(0,t)}),(0,Ke.U)(t=>!0===t))}class Rb{constructor(t){this.segmentGroup=t||null}}class QA{constructor(t){this.urlTree=t}}function Yp(n){return Dh(new Rb(n))}function Rx(n){return Dh(new QA(n))}class aP{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new r.vHH(4002,!1)}lineralizeSegments(t,e){let i=[],o=e.root;for(;;){if(i=i.concat(o.segments),0===o.numberOfChildren)return(0,ft.of)(i);if(o.numberOfChildren>1||!o.children[Xt])return Dh(new r.vHH(4e3,!1));o=o.children[Xt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,o){const s=this.createSegmentGroup(t,e.root,i,o);return new Vp(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([o,s])=>{if("string"==typeof s&&s.startsWith(":")){const d=s.substring(1);i[o]=e[d]}else i[o]=s}),i}createSegmentGroup(t,e,i,o){const s=this.createSegments(t,e.segments,i,o);let c={};return Object.entries(e.children).forEach(([d,p])=>{c[d]=this.createSegmentGroup(t,p,i,o)}),new Bn(s,c)}createSegments(t,e,i,o){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,o):this.findOrReturn(s,i))}findPosParam(t,e,i){const o=i[e.path.substring(1)];if(!o)throw new r.vHH(4001,!1);return o}findOrReturn(t,e){let i=0;for(const o of e){if(o.path===t.path)return e.splice(i),o;i++}return t}}const Ox={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eI(n,t,e,i,o){const s=n_(n,t,e);return s.matched?(i=function zA(n,t){return n.providers&&!n._injector&&(n._injector=(0,r.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function sP(n,t,e,i){const o=t.canMatch;if(!o||0===o.length)return(0,ft.of)(!0);const s=o.map(c=>{const d=e_(c,n);return Hs(function Mb(n){return n&&Sb(n.canMatch)}(d)?d.canMatch(t,e):n.runInContext(()=>d(t,e)))});return(0,ft.of)(s).pipe(Sh(),kx())}(i,t,e).pipe((0,Ke.U)(c=>!0===c?s:{...Ox}))):(0,ft.of)(s)}function n_(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Ox}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||CA)(e,n,t);if(!o)return{...Ox};const s={};Object.entries(o.posParams??{}).forEach(([d,p])=>{s[d]=p.path});const c=o.consumed.length>0?{...s,...o.consumed[o.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:c,positionalParamSegments:o.posParams??{}}}function lP(n,t,e,i){return e.length>0&&function cP(n,t,e){return e.some(i=>Nx(n,t,i)&&_a(i)!==Xt)}(n,e,i)?{segmentGroup:new Bn(t,Px(i,new Bn(e,n.children))),slicedSegments:[]}:0===e.length&&function uP(n,t,e){return e.some(i=>Nx(n,t,i))}(n,e,i)?{segmentGroup:new Bn(n.segments,tI(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Bn(n.segments,n.children),slicedSegments:e}}function tI(n,t,e,i,o){const s={};for(const c of i)if(Nx(n,e,c)&&!o[_a(c)]){const d=new Bn([],{});s[_a(c)]=d}return{...o,...s}}function Px(n,t){const e={};e[Xt]=t;for(const i of n)if(""===i.path&&_a(i)!==Xt){const o=new Bn([],{});e[_a(i)]=o}return e}function Nx(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class fP{constructor(t,e,i,o,s,c,d){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=o,this.urlTree=s,this.paramsInheritanceStrategy=c,this.urlSerializer=d,this.allowRedirects=!0,this.applyRedirects=new aP(this.urlSerializer,this.urlTree)}noMatchError(t){return new r.vHH(4002,!1)}recognize(){const t=lP(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Xt).pipe(Eh(e=>{if(e instanceof QA)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof Rb?this.noMatchError(e):e}),(0,Ke.U)(e=>{const i=new Qg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Xt,this.rootComponentType,null,{}),o=new Hc(i,e),s=new ZA("",o),c=function OA(n,t,e=null,i=null){return cx(lx(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(c),this.inheritParamsAndData(s._root),{state:s,tree:c}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Xt).pipe(Eh(i=>{throw i instanceof Rb?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=wx(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,e,i,o){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,o,!0)}processChildren(t,e,i){const o=[];for(const s of Object.keys(i.children))"primary"===s?o.unshift(s):o.push(s);return(0,_n.D)(o).pipe(zg(s=>{const c=i.children[s],d=function YA(n,t){const e=n.filter(i=>_a(i)===t);return e.push(...n.filter(i=>_a(i)!==t)),e}(e,s);return this.processSegmentGroup(t,d,c,s)}),Jd((s,c)=>(s.push(...c),s)),Hy(null),function XC(n,t){const e=arguments.length>=2;return i=>i.pipe(n?jr((o,s)=>n(o,s,i)):Ou.y,mb(1),e?Hy(t):RT(()=>new Ip))}(),(0,Do.z)(s=>{if(null===s)return Yp(i);const c=Fx(s);return function pP(n){n.sort((t,e)=>t.value.outlet===Xt?-1:e.value.outlet===Xt?1:t.value.outlet.localeCompare(e.value.outlet))}(c),(0,ft.of)(c)}))}processSegment(t,e,i,o,s,c){return(0,_n.D)(e).pipe(zg(d=>this.processSegmentAgainstRoute(d._injector??t,e,d,i,o,s,c).pipe(Eh(p=>{if(p instanceof Rb)return(0,ft.of)(null);throw p}))),$u(d=>!!d),Eh(d=>{if(Tx(d))return function dP(n,t,e){return 0===t.length&&!n.children[e]}(i,o,s)?(0,ft.of)([]):Yp(i);throw d}))}processSegmentAgainstRoute(t,e,i,o,s,c,d){return function g3(n,t,e,i){return!!(_a(n)===i||i!==Xt&&Nx(t,e,n))&&("**"===n.path||n_(t,n,e).matched)}(i,o,s,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,o,i,s,c,d):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,o,e,i,s,c):Yp(o):Yp(o)}expandSegmentAgainstRouteUsingRedirect(t,e,i,o,s,c){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,o,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,o,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,o){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Rx(s):this.applyRedirects.lineralizeSegments(i,s).pipe((0,Do.z)(c=>{const d=new Bn(c,{});return this.processSegment(t,e,d,c,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,o,s,c){const{matched:d,consumedSegments:p,remainingSegments:_,positionalParamSegments:b}=n_(e,o,s);if(!d)return Yp(e);const E=this.applyRedirects.applyRedirectCommands(p,o.redirectTo,b);return o.redirectTo.startsWith("/")?Rx(E):this.applyRedirects.lineralizeSegments(o,E).pipe((0,Do.z)(k=>this.processSegment(t,i,e,k.concat(_),c,!1)))}matchSegmentAgainstRoute(t,e,i,o,s,c){let d;if("**"===i.path){const p=o.length>0?Eo(o).parameters:{},_=new Qg(o,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,iI(i),_a(i),i.component??i._loadedComponent??null,i,Ob(i));d=(0,ft.of)({snapshot:_,consumedSegments:[],remainingSegments:[]}),e.children={}}else d=eI(e,i,o,t).pipe((0,Ke.U)(({matched:p,consumedSegments:_,remainingSegments:b,parameters:E})=>p?{snapshot:new Qg(_,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,iI(i),_a(i),i.component??i._loadedComponent??null,i,Ob(i)),consumedSegments:_,remainingSegments:b}:null));return d.pipe(Mi(p=>null===p?Yp(e):this.getChildConfig(t=i._injector??t,i,o).pipe(Mi(({routes:_})=>{const b=i._loadedInjector??t,{snapshot:E,consumedSegments:k,remainingSegments:F}=p,{segmentGroup:q,slicedSegments:K}=lP(e,k,F,_);if(0===K.length&&q.hasChildren())return this.processChildren(b,_,q).pipe((0,Ke.U)(Oe=>null===Oe?null:[new Hc(E,Oe)]));if(0===_.length&&0===K.length)return(0,ft.of)([new Hc(E,[])]);const ee=_a(i)===s;return this.processSegment(b,_,q,K,ee?Xt:s,!0).pipe((0,Ke.U)(Oe=>[new Hc(E,Oe)]))}))))}getChildConfig(t,e,i){return e.children?(0,ft.of)({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?(0,ft.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function m3(n,t,e,i){const o=t.canLoad;if(void 0===o||0===o.length)return(0,ft.of)(!0);const s=o.map(c=>{const d=e_(c,n);return Hs(function c3(n){return n&&Sb(n.canLoad)}(d)?d.canLoad(t,e):n.runInContext(()=>d(t,e)))});return(0,ft.of)(s).pipe(Sh(),kx())}(t,e,i).pipe((0,Do.z)(o=>o?this.configLoader.loadChildren(t,e).pipe((0,$r.b)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function XA(n){return Dh(Dx(!1,3))}())):(0,ft.of)({routes:[],injector:t})}}function nI(n){const t=n.value.routeConfig;return t&&""===t.path}function Fx(n){const t=[],e=new Set;for(const i of n){if(!nI(i)){t.push(i);continue}const o=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==o?(o.children.push(...i.children),e.add(o)):t.push(i)}for(const i of e){const o=Fx(i.children);t.push(new Hc(i.value,o))}return t.filter(i=>!e.has(i))}function iI(n){return n.data||{}}function Ob(n){return n.resolve||{}}function Ux(n){return"string"==typeof n.title||null===n.title}function Pb(n){return Mi(t=>{const e=n(t);return e?(0,_n.D)(e).pipe((0,Ke.U)(()=>t)):(0,ft.of)(t)})}const i_=new r.OlP("ROUTES");let Vx=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,r.f3M)(r.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,ft.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Hs(e.loadComponent()).pipe((0,Ke.U)(vP),(0,$r.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),gb(()=>{this.componentLoaders.delete(e)})),o=new jg(i,()=>new $t.x).pipe(pb());return this.componentLoaders.set(e,o),o}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,ft.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Ke.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let p,_;return Array.isArray(d)?_=d:(p=d.create(e).injector,_=p.get(i_,[],r.XFs.Self|r.XFs.Optional).flat()),{routes:_.map($p),injector:p}}),gb(()=>{this.childrenLoaders.delete(i)})),c=new jg(s,()=>new $t.x).pipe(pb());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(e){return Hs(e()).pipe((0,Ke.U)(vP),(0,Do.z)(i=>i instanceof r.YKP||Array.isArray(i)?(0,ft.of)(i):(0,_n.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vP(n){return function Nb(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Fb=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new $t.x,this.configLoader=(0,r.f3M)(Vx),this.environmentInjector=(0,r.f3M)(r.lqb),this.urlSerializer=(0,r.f3M)(Zp),this.rootContexts=(0,r.f3M)(kr),this.inputBindingEnabled=null!==(0,r.f3M)(Hp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ft.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new LA(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new FA(o))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new co.X({id:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Wg,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(jr(i=>0!==i.id),(0,Ke.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),Mi(i=>{let o=!1,s=!1;return(0,ft.of)(i).pipe((0,$r.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Mi(c=>{const d=e.browserUrlTree.toString(),p=!e.navigated||c.extractedUrl.toString()!==d||d!==e.currentUrlTree.toString();if(!p&&"reload"!==(c.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const b="";return this.events.next(new Db(c.id,e.serializeUrl(i.rawUrl),b,0)),e.rawUrlTree=c.rawUrl,c.resolve(null),Tt.E}if(e.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return yP(c.source)&&(e.browserUrlTree=c.extractedUrl),(0,ft.of)(c).pipe(Mi(b=>{const E=this.transitions?.getValue();return this.events.next(new px(b.id,this.urlSerializer.serialize(b.extractedUrl),b.source,b.restoredState)),E!==this.transitions?.getValue()?Tt.E:Promise.resolve(b)}),function rI(n,t,e,i,o,s){return(0,Do.z)(c=>function hP(n,t,e,i,o,s,c="emptyOnly"){return new fP(n,t,e,i,o,c,s).recognize()}(n,t,e,i,c.extractedUrl,o,s).pipe((0,Ke.U)(({state:d,tree:p})=>({...c,targetSnapshot:d,urlAfterRedirects:p}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,$r.b)(b=>{if(i.targetSnapshot=b.targetSnapshot,i.urlAfterRedirects=b.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:b.urlAfterRedirects},"eager"===e.urlUpdateStrategy){if(!b.extras.skipLocationChange){const k=e.urlHandlingStrategy.merge(b.urlAfterRedirects,b.rawUrl);e.setBrowserUrl(k,b)}e.browserUrlTree=b.urlAfterRedirects}const E=new qO(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(E)}));if(p&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:b,extractedUrl:E,source:k,restoredState:F,extras:q}=c,K=new px(b,this.urlSerializer.serialize(E),k,F);this.events.next(K);const ee=bx(0,this.rootComponentType).snapshot;return i={...c,targetSnapshot:ee,urlAfterRedirects:E,extras:{...q,skipLocationChange:!1,replaceUrl:!1}},(0,ft.of)(i)}{const b="";return this.events.next(new Db(c.id,e.serializeUrl(i.extractedUrl),b,1)),e.rawUrlTree=c.rawUrl,c.resolve(null),Tt.E}}),(0,$r.b)(c=>{const d=new HO(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),(0,Ke.U)(c=>i={...c,guards:s3(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function Ax(n,t){return(0,Do.z)(e=>{const{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:s,canDeactivateChecks:c}}=e;return 0===c.length&&0===s.length?(0,ft.of)({...e,guardsResult:!0}):function Ix(n,t,e,i){return(0,_n.D)(n).pipe((0,Do.z)(o=>function p3(n,t,e,i,o){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,ft.of)(!0);const c=s.map(d=>{const p=Xg(t)??o,_=e_(d,p);return Hs(function iP(n){return n&&Sb(n.canDeactivate)}(_)?_.canDeactivate(n,t,e,i):p.runInContext(()=>_(n,t,e,i))).pipe($u())});return(0,ft.of)(c).pipe(Sh())}(o.component,o.route,e,t,i)),$u(o=>!0!==o,!0))}(c,i,o,n).pipe((0,Do.z)(d=>d&&function l3(n){return"boolean"==typeof n}(d)?function oP(n,t,e,i){return(0,_n.D)(t).pipe(zg(o=>Hg(function Mx(n,t){return null!==n&&t&&t(new e3(n)),(0,ft.of)(!0)}(o.route.parent,i),function Sx(n,t){return null!==n&&t&&t(new $O(n)),(0,ft.of)(!0)}(o.route,i),function f3(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(c=>function a3(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>JC(()=>{const d=c.guards.map(p=>{const _=Xg(c.node)??e,b=e_(p,_);return Hs(function d3(n){return n&&Sb(n.canActivateChild)}(b)?b.canActivateChild(i,n):_.runInContext(()=>b(i,n))).pipe($u())});return(0,ft.of)(d).pipe(Sh())}));return(0,ft.of)(s).pipe(Sh())}(n,o.path,e),function kb(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,ft.of)(!0);const o=i.map(s=>JC(()=>{const c=Xg(t)??e,d=e_(s,c);return Hs(function u3(n){return n&&Sb(n.canActivate)}(d)?d.canActivate(t,n):c.runInContext(()=>d(t,n))).pipe($u())}));return(0,ft.of)(o).pipe(Sh())}(n,o.route,e))),$u(o=>!0!==o,!0))}(i,s,n,t):(0,ft.of)(d)),(0,Ke.U)(d=>({...e,guardsResult:d})))})}(this.environmentInjector,c=>this.events.next(c)),(0,$r.b)(c=>{if(i.guardsResult=c.guardsResult,Ih(c.guardsResult))throw HA(0,c.guardsResult);const d=new jO(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),jr(c=>!!c.guardsResult||(e.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),Pb(c=>{if(c.guards.canActivateChecks.length)return(0,ft.of)(c).pipe((0,$r.b)(d=>{const p=new XU(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),Mi(d=>{let p=!1;return(0,ft.of)(d).pipe(function oI(n,t){return(0,Do.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:o}}=e;if(!o.length)return(0,ft.of)(e);let s=0;return(0,_n.D)(o).pipe(zg(c=>function mP(n,t,e,i){const o=n.routeConfig,s=n._resolve;return void 0!==o?.title&&!Ux(o)&&(s[Fp]=o.title),function Lx(n,t,e,i){const o=function gP(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return(0,ft.of)({});const s={};return(0,_n.D)(o).pipe((0,Do.z)(c=>function _P(n,t,e,i){const o=Xg(t)??i,s=e_(n,o);return Hs(s.resolve?s.resolve(t,e):o.runInContext(()=>s(t,e)))}(n[c],t,e,i).pipe($u(),(0,$r.b)(d=>{s[c]=d}))),mb(1),function wA(n){return(0,Ke.U)(()=>n)}(s),Eh(c=>Tx(c)?Tt.E:Dh(c)))}(s,n,t,i).pipe((0,Ke.U)(c=>(n._resolvedData=c,n.data=wx(n,e).resolve,o&&Ux(o)&&(n.data[Fp]=o.title),null)))}(c.route,i,n,t)),(0,$r.b)(()=>s++),mb(1),(0,Do.z)(c=>s===o.length?(0,ft.of)(e):Tt.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,$r.b)({next:()=>p=!0,complete:()=>{p||(e.restoreHistory(d),this.cancelNavigationTransition(d,"",2))}}))}),(0,$r.b)(d=>{const p=new zO(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),Pb(c=>{const d=p=>{const _=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(p.routeConfig).pipe((0,$r.b)(b=>{p.component=b}),(0,Ke.U)(()=>{})));for(const b of p.children)_.push(...d(b));return _};return qc(d(c.targetSnapshot.root)).pipe(Hy(),zr(1))}),Pb(()=>this.afterPreactivation()),(0,Ke.U)(c=>{const d=function i3(n,t,e){const i=jp(n,t._root,e?e._root:void 0);return new yx(i,t)}(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return i={...c,targetRouterState:d}}),(0,$r.b)(c=>{e.currentUrlTree=c.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),e.routerState=c.targetRouterState,"deferred"===e.urlUpdateStrategy&&(c.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,c),e.browserUrlTree=c.urlAfterRedirects)}),((n,t,e,i)=>(0,Ke.U)(o=>(new WA(t,o.targetRouterState,o.currentRouterState,e,i).activate(n),o)))(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),zr(1),(0,$r.b)({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new qp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),gb(()=>{o||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Eh(c=>{if(s=!0,Ex(c)){KO(c)||(e.navigated=!0,e.restoreHistory(i,!0));const d=new mx(i.id,this.urlSerializer.serialize(i.extractedUrl),c.message,c.cancellationCode);if(this.events.next(d),KO(c)){const p=e.urlHandlingStrategy.merge(c.url,e.rawUrlTree),_={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||yP(i.source)};e.scheduleNavigation(p,Wg,null,_,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const d=new Eb(i.id,this.urlSerializer.serialize(i.extractedUrl),c,i.targetSnapshot??void 0);this.events.next(d);try{i.resolve(e.errorHandler(c))}catch(p){i.reject(p)}}return Tt.E}))}))}cancelNavigationTransition(e,i,o){const s=new mx(e.id,this.urlSerializer.serialize(e.extractedUrl),i,o);this.events.next(s),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yP(n){return n!==Wg}let bP=(()=>{class n{buildTitle(e){let i,o=e.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===Xt);return i}getResolvedTitleForRoute(e){return e.data[Fp]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:function(){return(0,r.f3M)(wP)},providedIn:"root"}),n})(),wP=(()=>{class n extends bP{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Fd))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:function(){return(0,r.f3M)(y3)},providedIn:"root"}),n})();class v3{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let y3=(()=>{class n extends v3{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Zx=new r.OlP("",{providedIn:"root",factory:()=>({})});let CP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:function(){return(0,r.f3M)(b3)},providedIn:"root"}),n})(),b3=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var va=(()=>((va=va||{})[va.COMPLETE=0]="COMPLETE",va[va.FAILED=1]="FAILED",va[va.REDIRECTING=2]="REDIRECTING",va))();function xP(n,t){n.events.pipe(jr(e=>e instanceof qp||e instanceof mx||e instanceof Eb||e instanceof Db),(0,Ke.U)(e=>e instanceof qp||e instanceof Db?va.COMPLETE:e instanceof mx&&(0===e.code||1===e.code)?va.REDIRECTING:va.FAILED),jr(e=>e!==va.REDIRECTING),zr(1)).subscribe(()=>{t()})}function w3(n){throw n}function C3(n,t,e){return t.parse("/")}const DP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},x3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let a=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,r.f3M)(r.c2e),this.isNgZoneEnabled=!1,this.options=(0,r.f3M)(Zx,{optional:!0})||{},this.pendingTasks=(0,r.f3M)(r.HDt),this.errorHandler=this.options.errorHandler||w3,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||C3,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,r.f3M)(CP),this.routeReuseStrategy=(0,r.f3M)(_3),this.titleStrategy=(0,r.f3M)(bP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,r.f3M)(i_,{optional:!0})?.flat()??[],this.navigationTransitions=(0,r.f3M)(Fb),this.urlSerializer=(0,r.f3M)(Zp),this.location=(0,r.f3M)(Xe),this.componentInputBindingEnabled=!!(0,r.f3M)(Hp,{optional:!0}),this.isNgZoneEnabled=(0,r.f3M)(r.R0b)instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Vp,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=bx(0,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Wg,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,o){const s={replaceUrl:!0},c=o?.navigationId?o:null;if(o){const p={...o};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(s.state=p)}const d=this.parseUrl(e);this.scheduleNavigation(d,i,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map($p),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:o,queryParams:s,fragment:c,queryParamsHandling:d,preserveFragment:p}=i,_=p?this.currentUrlTree.fragment:c;let E,b=null;switch(d){case"merge":b={...this.currentUrlTree.queryParams,...s};break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=s||null}null!==b&&(b=this.removeEmptyProps(b));try{E=lx(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),E=this.currentUrlTree.root}return cx(E,e,b,_??null)}navigateByUrl(e,i={skipLocationChange:!1}){const o=Ih(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Wg,null,i)}navigate(e,i={skipLocationChange:!1}){return function l(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new r.vHH(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return i}isActive(e,i){let o;if(o=!0===i?{...DP}:!1===i?{...x3}:i,Ih(e))return PO(this.currentUrlTree,e,o);const s=this.parseUrl(e);return PO(this.currentUrlTree,s,o)}removeEmptyProps(e){return Object.keys(e).reduce((i,o)=>{const s=e[o];return null!=s&&(i[o]=s),i},{})}scheduleNavigation(e,i,o,s,c){if(this.disposed)return Promise.resolve(!1);let d,p,_;c?(d=c.resolve,p=c.reject,_=c.promise):_=new Promise((E,k)=>{d=E,p=k});const b=this.pendingTasks.add();return xP(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(b))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:d,reject:p,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(E=>Promise.reject(E))}setBrowserUrl(e,i){const o=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const c={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",c)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,(this.browserPageId??0)+1)};this.location.go(o,"",s)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),u=(()=>{class n{constructor(e,i,o,s,c,d){this.router=e,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=c,this.locationStrategy=d,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new $t.x;const p=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===p||"area"===p,this.isAnchorElement?this.subscription=e.events.subscribe(_=>{_ instanceof qp&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,r.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,r.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,r.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,o,s,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||o||s||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,r.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const o=this.renderer,s=this.el.nativeElement;null!==i?o.setAttribute(s,e,i):o.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(a),r.Y36(zs),r.$8M("tabindex"),r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(Ve))},n.\u0275dir=r.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&r.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&r.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[r.TTD]}),n})();class m{}let T=(()=>{class n{constructor(e,i,o,s,c){this.router=e,this.injector=o,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(jr(e=>e instanceof qp),zg(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const o=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,r.MMx)(s.providers,e,`Route: ${s.path}`));const c=s._injector??e,d=s._loadedInjector??c;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(c,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(d,s.children??s._loadedRoutes))}return(0,_n.D)(o).pipe((0,qg.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):(0,ft.of)(null);const s=o.pipe((0,Do.z)(c=>null===c?(0,ft.of)(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??e,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,_n.D)([s,c]).pipe((0,qg.J)())}return s})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(a),r.LFG(r.Sil),r.LFG(r.lqb),r.LFG(m),r.LFG(Vx))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const I=new r.OlP("");let R=(()=>{class n{constructor(e,i,o,s,c={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof px?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof qp?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Db&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof _x&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _x(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){r.$Z()},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();function te(n,t){return{\u0275kind:n,\u0275providers:t}}function Ie(){const n=(0,r.f3M)(r.zs3);return t=>{const e=n.get(r.z2F);if(t!==e.components[0])return;const i=n.get(a),o=n.get(Lt);1===n.get(an)&&i.initialNavigation(),n.get(D3,null,r.XFs.Optional)?.setUpPreloading(),n.get(I,null,r.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const Lt=new r.OlP("",{factory:()=>new $t.x}),an=new r.OlP("",{providedIn:"root",factory:()=>1}),D3=new r.OlP("");function _j(n){return te(0,[{provide:D3,useExisting:T},{provide:m,useExisting:n}])}const E3=new r.OlP("ROUTER_FORROOT_GUARD"),yj=[Xe,{provide:Zp,useClass:rx},a,kr,{provide:zs,useFactory:function J(n){return n.routerState.root},deps:[a]},Vx,[]];function bj(){return new r.PXZ("Router",a)}let T3=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[yj,[],{provide:i_,multi:!0,useValue:e},{provide:E3,useFactory:Dj,deps:[[a,new r.FiY,new r.tp0]]},{provide:Zx,useValue:i||{}},i?.useHash?{provide:Ve,useClass:Pe}:{provide:Ve,useClass:nt},{provide:I,useFactory:()=>{const n=(0,r.f3M)(Ta),t=(0,r.f3M)(r.R0b),e=(0,r.f3M)(Zx),i=(0,r.f3M)(Fb),o=(0,r.f3M)(Zp);return e.scrollOffset&&n.setOffset(e.scrollOffset),new R(o,i,n,t,e)}},i?.preloadingStrategy?_j(i.preloadingStrategy).\u0275providers:[],{provide:r.PXZ,multi:!0,useFactory:bj},i?.initialNavigation?Ej(i):[],i?.bindToComponentInputs?te(8,[qA,{provide:Hp,useExisting:qA}]).\u0275providers:[],[{provide:A3,useFactory:Ie},{provide:r.tb,multi:!0,useExisting:A3}]]}}static forChild(e){return{ngModule:n,providers:[{provide:i_,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(E3,8))},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();function Dj(n){return"guarded"}function Ej(n){return["disabled"===n.initialNavigation?te(3,[{provide:r.ip1,multi:!0,useFactory:()=>{const t=(0,r.f3M)(a);return()=>{t.setUpLocationChangeListener()}}},{provide:an,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?te(2,[{provide:an,useValue:0},{provide:r.ip1,multi:!0,deps:[r.zs3],useFactory:t=>{const e=t.get(ke,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const o=t.get(a),s=t.get(Lt);xP(o,()=>{i(!0)}),t.get(Fb).afterPreactivation=()=>(i(!0),s.closed?(0,ft.of)(void 0):s),o.initialNavigation()}))}}]).\u0275providers:[]]}const A3=new r.OlP("");var Wu=U(1389);function I3(n){return new Kn.y(function(t){return{unsubscribe:(0,Wu.v)(n,t.next.bind(t),t.error.bind(t),t.complete.bind(t))}})}class Bx{constructor(t){return t}}const TP=new r.OlP("angularfire2.auth-instances");function Sj(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new Bx(i)}}const Mj={provide:class Aj{constructor(){return(0,Wt.vb)("auth")}},deps:[[new r.FiY,TP]]},kj={provide:Bx,useFactory:function Ij(n,t){const e=(0,Wt.JM)("auth",n,t);return e&&new Bx(e)},deps:[[new r.FiY,TP],kp]};let Rj=(()=>{class n{constructor(){(0,Mp.KN)("angularfire",Wt.q4.full,"auth")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[kj,Mj]}),n})();function Oj(n,...t){return{ngModule:Rj,providers:[{provide:TP,useFactory:Sj(n),multi:!0,deps:[r.R0b,r.zs3,Wt.HU,bC,[new r.FiY,Ch],...t]}]}}const Pj=(0,Wt.u3)(I3,!0),Nj=(0,Wt.u3)(Wu.a8,!0),Fj=(0,Wt.u3)(Wu.o,!0),Lj=(0,Wt.u3)(Wu.x,!0),Uj=(0,Wt.u3)(Wu.a9,!0),Vj=(0,Wt.u3)(Wu.c,!0),Zj=(0,Wt.u3)(Wu.B,!0);class Lb{}function AP(){return(0,Sr.e)((n,t)=>{let e,i=!1;n.subscribe((0,bn.x)(t,o=>{const s=e;e=o,i&&t.next([s,o]),i=!0}))})}var dt,Bj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jc={},IP=IP||{},en=Bj||self;function sI(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function qx(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var SP="closure_uid_"+(1e9*Math.random()>>>0),Hj=0;function jj(n,t,e){return n.call.apply(n.bind,arguments)}function zj(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),n.apply(t,o)}}return function(){return n.apply(t,arguments)}}function fs(n,t,e){return(fs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jj:zj).apply(null,arguments)}function aI(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function To(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,o,s){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return t.prototype[o].apply(i,c)}}function Wp(){this.s=this.s,this.o=this.o}Wp.prototype.s=!1,Wp.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function qj(n){Object.prototype.hasOwnProperty.call(n,SP)&&n[SP]||(n[SP]=++Hj)}(this)},Wp.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const M3=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function MP(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function k3(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(sI(i)){const o=n.length||0,s=i.length||0;n.length=o+s;for(let c=0;c<s;c++)n[o+c]=i[c]}else n.push(i)}}function ps(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}ps.prototype.h=function(){this.defaultPrevented=!0};var Gj=function(){if(!en.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{en.addEventListener("test",()=>{},t),en.removeEventListener("test",()=>{},t)}catch{}return n}();function Hx(n){return/^[\s\xa0]*$/.test(n)}function lI(){var n=en.navigator;return n&&(n=n.userAgent)?n:""}function Ku(n){return-1!=lI().indexOf(n)}function kP(n){return kP[" "](n),n}kP[" "]=function(){};var OP,n,Wj=Ku("Opera"),Ub=Ku("Trident")||Ku("MSIE"),R3=Ku("Edge"),RP=R3||Ub,O3=Ku("Gecko")&&!(-1!=lI().toLowerCase().indexOf("webkit")&&!Ku("Edge"))&&!(Ku("Trident")||Ku("MSIE"))&&!Ku("Edge"),Kj=-1!=lI().toLowerCase().indexOf("webkit")&&!Ku("Edge");function P3(){var n=en.document;return n?n.documentMode:void 0}e:{var PP="",NP=(n=lI(),O3?/rv:([^\);]+)(\)|;)/.exec(n):R3?/Edge\/([\d\.]+)/.exec(n):Ub?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Kj?/WebKit\/(\S+)/.exec(n):Wj?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(NP&&(PP=NP?NP[1]:""),Ub){var FP=P3();if(null!=FP&&FP>parseFloat(PP)){OP=String(FP);break e}}OP=PP}var Qj=en.document&&Ub&&(P3()||parseInt(OP,10))||void 0;function jx(n,t){if(ps.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(O3){e:{try{kP(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Jj[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&jx.$.h.call(this)}}To(jx,ps);var Jj={2:"touch",3:"pen",4:"mouse"};jx.prototype.h=function(){jx.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var zx="closure_listenable_"+(1e6*Math.random()|0),Xj=0;function e8(n,t,e,i,o){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=o,this.key=++Xj,this.fa=this.ia=!1}function cI(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function UP(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function F3(n){const t={};for(const e in n)t[e]=n[e];return t}const L3="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U3(n,t){let e,i;for(let o=1;o<arguments.length;o++){for(e in i=arguments[o],i)n[e]=i[e];for(let s=0;s<L3.length;s++)e=L3[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function uI(n){this.src=n,this.g={},this.h=0}function VP(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],o=M3(i,t);(s=0<=o)&&Array.prototype.splice.call(i,o,1),s&&(cI(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function ZP(n,t,e,i){for(var o=0;o<n.length;++o){var s=n[o];if(!s.fa&&s.listener==t&&s.capture==!!e&&s.la==i)return o}return-1}uI.prototype.add=function(n,t,e,i,o){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=ZP(n,t,i,o);return-1<c?(t=n[c],e||(t.ia=!1)):((t=new e8(t,this.src,s,!!i,o)).ia=e,n.push(t)),t};var BP="closure_lm_"+(1e6*Math.random()|0),qP={};function V3(n,t,e,i,o){if(i&&i.once)return B3(n,t,e,i,o);if(Array.isArray(t)){for(var s=0;s<t.length;s++)V3(n,t[s],e,i,o);return null}return e=$P(e),n&&n[zx]?n.O(t,e,qx(i)?!!i.capture:!!i,o):Z3(n,t,e,!1,i,o)}function Z3(n,t,e,i,o,s){if(!t)throw Error("Invalid event type");var c=qx(o)?!!o.capture:!!o,d=jP(n);if(d||(n[BP]=d=new uI(n)),(e=d.add(t,e,i,c,s)).proxy)return e;if(i=function n8(){const t=i8;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)Gj||(o=c),void 0===o&&(o=!1),n.addEventListener(t.toString(),i,o);else if(n.attachEvent)n.attachEvent(H3(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function B3(n,t,e,i,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)B3(n,t[s],e,i,o);return null}return e=$P(e),n&&n[zx]?n.P(t,e,qx(i)?!!i.capture:!!i,o):Z3(n,t,e,!0,i,o)}function q3(n,t,e,i,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)q3(n,t[s],e,i,o);else i=qx(i)?!!i.capture:!!i,e=$P(e),n&&n[zx]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=ZP(s=n.g[t],e,i,o))&&(cI(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=jP(n))&&(t=n.g[t.toString()],n=-1,t&&(n=ZP(t,e,i,o)),(e=-1<n?t[n]:null)&&HP(e))}function HP(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[zx])VP(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(H3(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=jP(t))?(VP(e,n),0==e.h&&(e.src=null,t[BP]=null)):cI(n)}}}function H3(n){return n in qP?qP[n]:qP[n]="on"+n}function i8(n,t){if(n.fa)n=!0;else{t=new jx(t,this);var e=n.listener,i=n.la||n.src;n.ia&&HP(n),n=e.call(i,t)}return n}function jP(n){return(n=n[BP])instanceof uI?n:null}var zP="__closure_events_fn_"+(1e9*Math.random()>>>0);function $P(n){return"function"==typeof n?n:(n[zP]||(n[zP]=function(t){return n.handleEvent(t)}),n[zP])}function Ao(){Wp.call(this),this.i=new uI(this),this.S=this,this.J=null}function jo(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new ps(t,n);else if(t instanceof ps)t.target=t.target||n;else{var o=t;U3(t=new ps(i,n),o)}if(o=!0,e)for(var s=e.length-1;0<=s;s--){var c=t.g=e[s];o=dI(c,i,!0,t)&&o}if(o=dI(c=t.g=n,i,!0,t)&&o,o=dI(c,i,!1,t)&&o,e)for(s=0;s<e.length;s++)o=dI(c=t.g=e[s],i,!1,t)&&o}function dI(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var c=t[s];if(c&&!c.fa&&c.capture==e){var d=c.listener,p=c.la||c.src;c.ia&&VP(n.i,c),o=!1!==d.call(p,i)&&o}}return o&&!i.defaultPrevented}To(Ao,Wp),Ao.prototype[zx]=!0,Ao.prototype.removeEventListener=function(n,t,e,i){q3(this,n,t,e,i)},Ao.prototype.N=function(){if(Ao.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)cI(e[i]);delete n.g[t],n.h--}}this.J=null},Ao.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Ao.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var GP=en.JSON.stringify;function o8(){var n=YP;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var j3=new class r8{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new a8,n=>n.reset());class a8{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function l8(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function c8(n){en.setTimeout(()=>{throw n},0)}let $x,Gx=!1,YP=new class s8{constructor(){this.h=this.g=null}add(t,e){const i=j3.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},z3=()=>{const n=en.Promise.resolve(void 0);$x=()=>{n.then(u8)}};var u8=()=>{for(var n;n=o8();){try{n.h.call(n.g)}catch(e){c8(e)}var t=j3;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Gx=!1};function hI(n,t){Ao.call(this),this.h=n||1,this.g=t||en,this.j=fs(this.qb,this),this.l=Date.now()}function WP(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function KP(n,t,e){if("function"==typeof n)e&&(n=fs(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=fs(n.handleEvent,n)}return 2147483647<Number(t)?-1:en.setTimeout(n,t||0)}function $3(n){n.g=KP(()=>{n.g=null,n.i&&(n.i=!1,$3(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}To(hI,Ao),(dt=hI.prototype).ga=!1,dt.T=null,dt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),jo(this,"tick"),this.ga&&(WP(this),this.start()))}},dt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dt.N=function(){hI.$.N.call(this),WP(this),delete this.g};class d8 extends Wp{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:$3(this)}N(){super.N(),this.g&&(en.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yx(n){Wp.call(this),this.h=n,this.g={}}To(Yx,Wp);var G3=[];function Y3(n,t,e,i){Array.isArray(e)||(e&&(G3[0]=e.toString()),e=G3);for(var o=0;o<e.length;o++){var s=V3(t,e[o],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function W3(n){UP(n.g,function(t,e){this.g.hasOwnProperty(e)&&HP(t)},n),n.g={}}function fI(){this.g=!0}function Vb(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function m8(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<o.length;c++)o[c]=""}}}return GP(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Yx.prototype.N=function(){Yx.$.N.call(this),W3(this)},Yx.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fI.prototype.Ea=function(){this.g=!1},fI.prototype.info=function(){};var r_={},K3=null;function pI(){return K3=K3||new Ao}function Q3(n){ps.call(this,r_.Ta,n)}function Wx(n){const t=pI();jo(t,new Q3(t))}function J3(n,t){ps.call(this,r_.STAT_EVENT,n),this.stat=t}function $s(n){const t=pI();jo(t,new J3(t,n))}function X3(n,t){ps.call(this,r_.Ua,n),this.size=t}function Kx(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return en.setTimeout(function(){n()},t)}r_.Ta="serverreachability",To(Q3,ps),r_.STAT_EVENT="statevent",To(J3,ps),r_.Ua="timingevent",To(X3,ps);var mI={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},e6={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function QP(){}function n6(){}QP.prototype.h=null;var eN,Qx={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function JP(){ps.call(this,"d")}function XP(){ps.call(this,"c")}function gI(){}function Jx(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new Yx(this),this.P=g8,this.V=new hI(n=RP?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new i6}function i6(){this.i=null,this.g="",this.h=!1}To(JP,ps),To(XP,ps),To(gI,QP),gI.prototype.g=function(){return new XMLHttpRequest},gI.prototype.i=function(){return{}},eN=new gI;var g8=45e3,tN={},_I={};function nN(n,t,e){n.L=1,n.v=wI(Mh(t)),n.s=e,n.S=!0,r6(n,null)}function r6(n,t){n.G=Date.now(),Xx(n),n.A=Mh(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),p6(e.i,"t",i),n.C=0,e=n.l.J,n.h=new i6,n.g=U6(n.l,e?t:null,!n.s),0<n.O&&(n.M=new d8(fs(n.Pa,n,n.g),n.O)),Y3(n.U,n.g,"readystatechange",n.nb),t=n.I?F3(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),Wx(),function h8(n,t,e,i,o,s){n.info(function(){if(n.g)if(s)for(var c="",d=s.split("&"),p=0;p<d.length;p++){var _=d[p].split("=");if(1<_.length){var b=_[0];_=_[1];var E=b.split("_");c=2<=E.length&&"type"==E[1]?c+(b+"=")+_+"&":c+(b+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+t+"\n"+e+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function o6(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function s6(n,t,e){let o,i=!0;for(;!n.J&&n.C<e.length;){if(o=_8(n,e),o==_I){4==t&&(n.o=4,$s(14),i=!1),Vb(n.j,n.m,null,"[Incomplete Response]");break}if(o==tN){n.o=4,$s(15),Vb(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Vb(n.j,n.m,o,null),iN(n,o)}o6(n)&&o!=_I&&o!=tN&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,$s(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),uN(t),t.M=!0,$s(11))):(Vb(n.j,n.m,e,"[Invalid Chunked Response]"),o_(n),e1(n))}function _8(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?_I:(e=Number(t.substring(e,i)),isNaN(e)?tN:(i+=1)+e>t.length?_I:(t=t.slice(i,i+e),n.C=i+e,t))}function Xx(n){n.Y=Date.now()+n.P,a6(n,n.P)}function a6(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Kx(fs(n.lb,n),t)}function vI(n){n.B&&(en.clearTimeout(n.B),n.B=null)}function e1(n){0==n.l.H||n.J||P6(n.l,n)}function o_(n){vI(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,WP(n.V),W3(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function iN(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||rN(e.i,n)))if(!n.K&&rN(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var o=i;if(0==o[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;AI(e),EI(e)}cN(e),$s(18)}}else e.Fa=o[1],0<e.Fa-e.V&&37500>o[2]&&e.G&&0==e.A&&!e.v&&(e.v=Kx(fs(e.ib,e),6e3));if(1>=_6(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else a_(e,11)}else if((n.K||e.g==n)&&AI(e),!Hx(t))for(o=e.Ja.g.parse(t),t=0;t<o.length;t++){let _=o[t];if(e.V=_[0],_=_[1],2==e.H)if("c"==_[0]){e.K=_[1],e.pa=_[2];const b=_[3];null!=b&&(e.ra=b,e.l.info("VER="+e.ra));const E=_[4];null!=E&&(e.Ga=E,e.l.info("SVER="+e.Ga));const k=_[5];null!=k&&"number"==typeof k&&0<k&&(e.L=i=1.5*k,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const F=n.g;if(F){const q=F.g?F.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q){var s=i.i;s.g||-1==q.indexOf("spdy")&&-1==q.indexOf("quic")&&-1==q.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(oN(s,s.h),s.h=null))}if(i.F){const K=F.g?F.g.getResponseHeader("X-HTTP-Session-Id"):null;K&&(i.Da=K,ki(i.I,i.F,K))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var c=n;if((i=e).wa=L6(i,i.J?i.pa:null,i.Y),c.K){v6(i.i,c);var d=c,p=i.L;p&&d.setTimeout(p),d.B&&(vI(d),Xx(d)),i.g=c}else R6(i);0<e.j.length&&TI(e)}else"stop"!=_[0]&&"close"!=_[0]||a_(e,7);else 3==e.H&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?a_(e,7):lN(e):"noop"!=_[0]&&e.h&&e.h.Aa(_),e.A=0)}Wx()}catch{}}function l6(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(sI(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function y8(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(sI(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function v8(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(sI(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),o=i.length,s=0;s<o;s++)t.call(void 0,i[s],e&&e[s],n)}(dt=Jx.prototype).setTimeout=function(n){this.P=n},dt.nb=function(n){n=n.target;const t=this.M;t&&3==Qu(n)?t.l():this.Pa(n)},dt.Pa=function(n){try{if(n==this.g)e:{const b=Qu(this.g);var t=this.g.Ia();if(this.g.da(),!(3>b)&&(3!=b||RP||this.g&&(this.h.h||this.g.ja()||T6(this.g)))){this.J||4!=b||7==t||Wx(),vI(this);var e=this.g.da();this.ca=e;t:if(o6(this)){var i=T6(this.g);n="";var o=i.length,s=4==Qu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){o_(this),e1(this);var c="";break t}this.h.i=new en.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==o-1});i.splice(0,o),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==e,function f8(n,t,e,i,o,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+t+"\n"+e+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.W,b,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hx(d)){var _=d;break t}}_=null}if(!(e=_)){this.i=!1,this.o=3,$s(12),o_(this),e1(this);break e}Vb(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,iN(this,e)}this.S?(s6(this,b,c),RP&&this.i&&3==b&&(Y3(this.U,this.V,"tick",this.mb),this.V.start())):(Vb(this.j,this.m,c,null),iN(this,c)),4==b&&o_(this),this.i&&!this.J&&(4==b?P6(this.l,this):(this.i=!1,Xx(this)))}else(function L8(n){const t={};n=(n.g&&2<=Qu(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Hx(n[i]))continue;var e=l8(n[i]);const o=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const s=t[o]||[];t[o]=s,s.push(e)}!function t8(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<c.indexOf("Unknown SID")?(this.o=3,$s(12)):(this.o=0,$s(13)),o_(this),e1(this)}}}catch{}},dt.mb=function(){if(this.g){var n=Qu(this.g),t=this.g.ja();this.C<t.length&&(vI(this),s6(this,n,t),this.i&&4!=n&&Xx(this))}},dt.cancel=function(){this.J=!0,o_(this)},dt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function p8(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Wx(),$s(17)),o_(this),this.o=2,e1(this)):a6(this,this.Y-n)};var c6=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function s_(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof s_){this.h=n.h,yI(this,n.j),this.s=n.s,this.g=n.g,bI(this,n.m),this.l=n.l;var t=n.i,e=new r1;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),u6(this,e),this.o=n.o}else n&&(t=String(n).match(c6))?(this.h=!1,yI(this,t[1]||"",!0),this.s=t1(t[2]||""),this.g=t1(t[3]||"",!0),bI(this,t[4]),this.l=t1(t[5]||"",!0),u6(this,t[6]||"",!0),this.o=t1(t[7]||"")):(this.h=!1,this.i=new r1(null,this.h))}function Mh(n){return new s_(n)}function yI(n,t,e){n.j=e?t1(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function bI(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function u6(n,t,e){t instanceof r1?(n.i=t,function T8(n,t){t&&!n.j&&(Kp(n),n.i=null,n.g.forEach(function(e,i){var o=i.toLowerCase();i!=o&&(h6(this,i),p6(this,o,e))},n)),n.j=t}(n.i,n.h)):(e||(t=n1(t,D8)),n.i=new r1(t,n.h))}function ki(n,t,e){n.i.set(t,e)}function wI(n){return ki(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function t1(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function n1(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,w8),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function w8(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}s_.prototype.toString=function(){var n=[],t=this.j;t&&n.push(n1(t,d6,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(n1(t,d6,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(n1(e,"/"==e.charAt(0)?x8:C8,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",n1(e,E8)),n.join("")};var d6=/[#\/\?@]/g,C8=/[#\?:]/g,x8=/[#\?]/g,D8=/[#\?@]/g,E8=/#/g;function r1(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Kp(n){n.g||(n.g=new Map,n.h=0,n.i&&function b8(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),o=null;if(0<=i){var s=n[e].substring(0,i);o=n[e].substring(i+1)}else s=n[e];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function h6(n,t){Kp(n),t=Zb(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function f6(n,t){return Kp(n),t=Zb(n,t),n.g.has(t)}function p6(n,t,e){h6(n,t),0<e.length&&(n.i=null,n.g.set(Zb(n,t),MP(e)),n.h+=e.length)}function Zb(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function m6(n){this.l=n||I8,n=en.PerformanceNavigationTiming?0<(n=en.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(en.g&&en.g.Ka&&en.g.Ka()&&en.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dt=r1.prototype).add=function(n,t){Kp(this),this.i=null,n=Zb(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},dt.forEach=function(n,t){Kp(this),this.g.forEach(function(e,i){e.forEach(function(o){n.call(t,o,i,this)},this)},this)},dt.ta=function(){Kp(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const o=n[i];for(let s=0;s<o.length;s++)e.push(t[i])}return e},dt.Z=function(n){Kp(this);let t=[];if("string"==typeof n)f6(this,n)&&(t=t.concat(this.g.get(Zb(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},dt.set=function(n,t){return Kp(this),this.i=null,f6(this,n=Zb(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},dt.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),c=this.Z(i);for(i=0;i<c.length;i++){var o=s;""!==c[i]&&(o+="="+encodeURIComponent(String(c[i]))),n.push(o)}}return this.i=n.join("&")};var I8=10;function g6(n){return!!n.h||!!n.g&&n.g.size>=n.j}function _6(n){return n.h?1:n.g?n.g.size:0}function rN(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function oN(n,t){n.g?n.g.add(t):n.h=t}function v6(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function y6(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return MP(n.i)}m6.prototype.cancel=function(){if(this.i=y6(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var S8=class{stringify(n){return en.JSON.stringify(n,void 0)}parse(n){return en.JSON.parse(n,void 0)}};function M8(){this.g=new S8}function k8(n,t,e){const i=e||"";try{l6(n,function(o,s){let c=o;qx(o)&&(c=GP(o)),t.push(i+s+"="+encodeURIComponent(c))})}catch(o){throw t.push(i+"type="+encodeURIComponent("_badmap")),o}}function CI(n,t,e,i,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(i)}catch{}}function o1(n){this.l=n.fc||null,this.j=n.ob||!1}function xI(n,t){Ao.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=sN,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}To(o1,QP),o1.prototype.g=function(){return new xI(this.l,this.j)},o1.prototype.i=function(n){return function(){return n}}({}),To(xI,Ao);var sN=0;function b6(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function s1(n){n.readyState=4,n.l=null,n.j=null,n.A=null,a1(n)}function a1(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(dt=xI.prototype).open=function(n,t){if(this.readyState!=sN)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,a1(this)},dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||en).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,s1(this)),this.readyState=sN},dt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,a1(this)),this.g&&(this.readyState=3,a1(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof en.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;b6(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},dt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?s1(this):a1(this),3==this.readyState&&b6(this)}},dt.Za=function(n){this.g&&(this.response=this.responseText=n,s1(this))},dt.Ya=function(n){this.g&&(this.response=n,s1(this))},dt.ka=function(){this.g&&s1(this)},dt.setRequestHeader=function(n,t){this.v.append(n,t)},dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(xI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var O8=en.JSON.parse;function _r(n){Ao.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=w6,this.L=this.M=!1}To(_r,Ao);var w6="",P8=/^https?$/i,N8=["POST","PUT"];function C6(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,x6(n),DI(n)}function x6(n){n.F||(n.F=!0,jo(n,"complete"),jo(n,"error"))}function D6(n){if(n.h&&typeof IP<"u"&&(!n.C[1]||4!=Qu(n)||2!=n.da()))if(n.v&&4==Qu(n))KP(n.La,0,n);else if(jo(n,"readystatechange"),4==Qu(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===c){var o=String(n.I).match(c6)[1]||null;!o&&en.self&&en.self.location&&(o=en.self.location.protocol.slice(0,-1)),i=!P8.test(o?o.toLowerCase():"")}e=i}if(e)jo(n,"complete"),jo(n,"success");else{n.m=6;try{var s=2<Qu(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",x6(n)}}finally{DI(n)}}}function DI(n,t){if(n.g){E6(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||jo(n,"ready");try{e.onreadystatechange=i}catch{}}}function E6(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(en.clearTimeout(n.A),n.A=null)}function Qu(n){return n.g?n.g.readyState:0}function T6(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case w6:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function A6(n){let t="";return UP(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function aN(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=A6(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):ki(n,t,e))}function l1(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function I6(n){this.Ga=0,this.j=[],this.l=new fI,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=l1("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=l1("baseRetryDelayMs",5e3,n),this.hb=l1("retryDelaySeedMs",1e4,n),this.eb=l1("forwardChannelMaxRetries",2,n),this.xa=l1("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new m6(n&&n.concurrentRequestLimit),this.Ja=new M8,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function lN(n){if(S6(n),3==n.H){var t=n.W++,e=Mh(n.I);if(ki(e,"SID",n.K),ki(e,"RID",t),ki(e,"TYPE","terminate"),c1(n,e),(t=new Jx(n,n.l,t)).L=2,t.v=wI(Mh(e)),e=!1,en.navigator&&en.navigator.sendBeacon)try{e=en.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&en.Image&&((new Image).src=t.v,e=!0),e||(t.g=U6(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Xx(t)}F6(n)}function EI(n){n.g&&(uN(n),n.g.cancel(),n.g=null)}function S6(n){EI(n),n.u&&(en.clearTimeout(n.u),n.u=null),AI(n),n.i.cancel(),n.m&&("number"==typeof n.m&&en.clearTimeout(n.m),n.m=null)}function TI(n){if(!g6(n.i)&&!n.m){n.m=!0;var t=n.Na;$x||z3(),Gx||($x(),Gx=!0),YP.add(t,n),n.C=0}}function M6(n,t){var e;e=t?t.m:n.W++;const i=Mh(n.I);ki(i,"SID",n.K),ki(i,"RID",e),ki(i,"AID",n.V),c1(n,i),n.o&&n.s&&aN(i,n.o,n.s),e=new Jx(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=k6(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),oN(n.i,e),nN(e,i,t)}function c1(n,t){n.na&&UP(n.na,function(e,i){ki(t,i,e)}),n.h&&l6({},function(e,i){ki(t,i,e)})}function k6(n,t,e){e=Math.min(n.j.length,e);var i=n.h?fs(n.h.Va,n.h,n):null;e:{var o=n.j;let s=-1;for(;;){const c=["count="+e];-1==s?0<e?(s=o[0].g,c.push("ofs="+s)):s=0:c.push("ofs="+s);let d=!0;for(let p=0;p<e;p++){let _=o[p].g;const b=o[p].map;if(_-=s,0>_)s=Math.max(0,o[p].g-100),d=!1;else try{k8(b,c,"req"+_+"_")}catch{i&&i(b)}}if(d){i=c.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function R6(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;$x||z3(),Gx||($x(),Gx=!0),YP.add(t,n),n.A=0}}function cN(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Kx(fs(n.Ma,n),N6(n,n.A)),n.A++,0))}function uN(n){null!=n.B&&(en.clearTimeout(n.B),n.B=null)}function O6(n){n.g=new Jx(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=Mh(n.wa);ki(t,"RID","rpc"),ki(t,"SID",n.K),ki(t,"AID",n.V),ki(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&ki(t,"TO",n.qa),ki(t,"TYPE","xmlhttp"),c1(n,t),n.o&&n.s&&aN(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=wI(Mh(t)),e.s=null,e.S=!0,r6(e,n)}function AI(n){null!=n.v&&(en.clearTimeout(n.v),n.v=null)}function P6(n,t){var e=null;if(n.g==t){AI(n),uN(n),n.g=null;var i=2}else{if(!rN(n.i,t))return;e=t.F,v6(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var o=n.C;jo(i=pI(),new X3(i,e)),TI(n)}else R6(n);else if(3==(o=t.o)||0==o&&0<t.ca||!(1==i&&function U8(n,t){return!(_6(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Kx(fs(n.Na,n,t),N6(n,n.C)),n.C++,0)))}(n,t)||2==i&&cN(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),o){case 1:a_(n,5);break;case 4:a_(n,10);break;case 3:a_(n,6);break;default:a_(n,2)}}function N6(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function a_(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=fs(n.pb,n);e||(e=new s_("//www.google.com/images/cleardot.gif"),en.location&&"http"==en.location.protocol||yI(e,"https"),wI(e)),function R8(n,t){const e=new fI;if(en.Image){const i=new Image;i.onload=aI(CI,e,i,"TestLoadImage: loaded",!0,t),i.onerror=aI(CI,e,i,"TestLoadImage: error",!1,t),i.onabort=aI(CI,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=aI(CI,e,i,"TestLoadImage: timeout",!1,t),en.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else $s(2);n.H=0,n.h&&n.h.za(t),F6(n),S6(n)}function F6(n){if(n.H=0,n.ma=[],n.h){const t=y6(n.i);(0!=t.length||0!=n.j.length)&&(k3(n.ma,t),k3(n.ma,n.j),n.i.i.length=0,MP(n.j),n.j.length=0),n.h.ya()}}function L6(n,t,e){var i=e instanceof s_?Mh(e):new s_(e);if(""!=i.g)t&&(i.g=t+"."+i.g),bI(i,i.m);else{var o=en.location;i=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var s=new s_(null);i&&yI(s,i),t&&(s.g=t),o&&bI(s,o),e&&(s.l=e),i=s}return t=n.Da,(e=n.F)&&t&&ki(i,e,t),ki(i,"VER",n.ra),c1(n,i),i}function U6(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new _r(e&&n.Ha&&!n.va?new o1({ob:!0}):n.va)).Oa(n.J),t}function V6(){}function II(){if(Ub&&!(10<=Number(Qj)))throw Error("Environmental error: no available transport.")}function Ga(n,t){Ao.call(this),this.g=new I6(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!Hx(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Hx(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Bb(this)}function Z6(n){JP.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function B6(){XP.call(this),this.status=1}function Bb(n){this.g=n}function zc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function dN(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var o=0;16>o;++o)i[o]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(o=0;16>o;++o)i[o]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var s=n.g[3],c=(t=n.g[0])+(s^(e=n.g[1])&((o=n.g[2])^s))+i[0]+3614090360&4294967295;c=(e=(o=(s=(t=(e=(o=(s=(t=(e=(o=(s=(t=(e=(o=(s=(t=(e=(o=(s=(t=(e=(o=(s=(t=(e=(o=(s=(t=(e=(o=(s=(t=(e=(o=(s=(t=(e=(o=(s=(t=(e=(o=(s=(t=(e=(o=(s=(t=(e=(o=(s=(t=(e=(o=(s=(t=(e=(o=(s=(t=e+(c<<7&4294967295|c>>>25))+((c=s+(o^t&(e^o))+i[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=o+(e^s&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=e+(t^o&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=t+(s^e&(o^s))+i[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=s+(o^t&(e^o))+i[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=o+(e^s&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=e+(t^o&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=t+(s^e&(o^s))+i[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=s+(o^t&(e^o))+i[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=o+(e^s&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=e+(t^o&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=t+(s^e&(o^s))+i[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=s+(o^t&(e^o))+i[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=o+(e^s&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=e+(t^o&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=t+(o^s&(e^o))+i[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=s+(e^o&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=o+(t^e&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=e+(s^t&(o^s))+i[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=t+(o^s&(e^o))+i[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=s+(e^o&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=o+(t^e&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=e+(s^t&(o^s))+i[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=t+(o^s&(e^o))+i[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=s+(e^o&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=o+(t^e&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=e+(s^t&(o^s))+i[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=t+(o^s&(e^o))+i[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=s+(e^o&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=o+(t^e&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=e+(s^t&(o^s))+i[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=t+(e^o^s)+i[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=s+(t^e^o)+i[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=o+(s^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=e+(o^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=t+(e^o^s)+i[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=s+(t^e^o)+i[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=o+(s^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=e+(o^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=t+(e^o^s)+i[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=s+(t^e^o)+i[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=o+(s^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=e+(o^s^t)+i[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=t+(e^o^s)+i[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=s+(t^e^o)+i[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=o+(s^t^e)+i[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=e+(o^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=t+(o^(e|~s))+i[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=s+(e^(t|~o))+i[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=o+(t^(s|~e))+i[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=e+(s^(o|~t))+i[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=t+(o^(e|~s))+i[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=s+(e^(t|~o))+i[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=o+(t^(s|~e))+i[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=e+(s^(o|~t))+i[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=t+(o^(e|~s))+i[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=s+(e^(t|~o))+i[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=o+(t^(s|~e))+i[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=e+(s^(o|~t))+i[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((s=(t=e+((c=t+(o^(e|~s))+i[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=s+(e^(t|~o))+i[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((o=s+((c=o+(t^(s|~e))+i[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(o+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+o&4294967295,n.g[3]=n.g[3]+s&4294967295}function Xn(n,t){this.h=t;for(var e=[],i=!0,o=n.length-1;0<=o;o--){var s=0|n[o];i&&s==t||(e[o]=s,i=!1)}this.g=e}(dt=_r.prototype).Oa=function(n){this.M=n},dt.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():eN.g(),this.C=function t6(n){return n.h||(n.h=n.i())}(this.u?this.u:eN),this.g.onreadystatechange=fs(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(s){return void C6(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var o in i)e.set(o,i[o]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),o=en.FormData&&n instanceof en.FormData,!(0<=M3(N8,t))||i||o||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,c]of e)this.g.setRequestHeader(s,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{E6(this),0<this.B&&((this.L=function F8(n){return Ub&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fs(this.ua,this)):this.A=KP(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){C6(this,s)}},dt.ua=function(){typeof IP<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jo(this,"timeout"),this.abort(8))},dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,jo(this,"complete"),jo(this,"abort"),DI(this))},dt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),DI(this,!0)),_r.$.N.call(this)},dt.La=function(){this.s||(this.G||this.v||this.l?D6(this):this.kb())},dt.kb=function(){D6(this)},dt.isActive=function(){return!!this.g},dt.da=function(){try{return 2<Qu(this)?this.g.status:-1}catch{return-1}},dt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},dt.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),O8(t)}},dt.Ia=function(){return this.m},dt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(dt=I6.prototype).ra=8,dt.H=1,dt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const o=new Jx(this,this.l,n);let s=this.s;if(this.U&&(s?(s=F3(s),U3(s,this.U)):s=this.U),null!==this.o||this.O||(o.I=s,s=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=k6(this,o,t),ki(e=Mh(this.I),"RID",n),ki(e,"CVER",22),this.F&&ki(e,"X-HTTP-Session-Id",this.F),c1(this,e),s&&(this.O?t="headers="+encodeURIComponent(String(A6(s)))+"&"+t:this.o&&aN(e,this.o,s)),oN(this.i,o),this.bb&&ki(e,"TYPE","init"),this.P?(ki(e,"$req",t),ki(e,"SID","null"),o.aa=!0,nN(o,e,null)):nN(o,e,t),this.H=2}}else 3==this.H&&(n?M6(this,n):0==this.j.length||g6(this.i)||M6(this))},dt.Ma=function(){if(this.u=null,O6(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Kx(fs(this.jb,this),n)}},dt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,$s(10),EI(this),O6(this))},dt.ib=function(){null!=this.v&&(this.v=null,EI(this),cN(this),$s(19))},dt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),$s(2)):(this.l.info("Failed to ping google.com"),$s(1))},dt.isActive=function(){return!!this.h&&this.h.isActive(this)},(dt=V6.prototype).Ba=function(){},dt.Aa=function(){},dt.za=function(){},dt.ya=function(){},dt.isActive=function(){return!0},dt.Va=function(){},II.prototype.g=function(n,t){return new Ga(n,t)},To(Ga,Ao),Ga.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;$s(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=L6(n,null,n.Y),TI(n)},Ga.prototype.close=function(){lN(this.g)},Ga.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=GP(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&TI(t)},Ga.prototype.N=function(){this.g.h=null,delete this.j,lN(this.g),delete this.g,Ga.$.N.call(this)},To(Z6,JP),To(B6,XP),To(Bb,V6),Bb.prototype.Ba=function(){jo(this.g,"a")},Bb.prototype.Aa=function(n){jo(this.g,new Z6(n))},Bb.prototype.za=function(n){jo(this.g,new B6)},Bb.prototype.ya=function(){jo(this.g,"b")},To(zc,function V8(){this.blockSize=-1}),zc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},zc.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,o=this.h,s=0;s<t;){if(0==o)for(;s<=e;)dN(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<t;)if(i[o++]=n.charCodeAt(s++),o==this.blockSize){dN(this,i),o=0;break}}else for(;s<t;)if(i[o++]=n[s++],o==this.blockSize){dN(this,i),o=0;break}}this.h=o,this.i+=t},zc.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var Z8={};function hN(n){return-128<=n&&128>n?function Yj(n,t){var e=Z8;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new Xn([0|t],0>t?-1:0)}):new Xn([0|n],0>n?-1:0)}function Ju(n){if(isNaN(n)||!isFinite(n))return qb;if(0>n)return zo(Ju(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=fN;return new Xn(t,0)}var fN=4294967296,qb=hN(0),pN=hN(1),H6=hN(16777216);function kh(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function Ul(n){return-1==n.h}function zo(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new Xn(e,~n.h).add(pN)}function SI(n,t){return n.add(zo(t))}function MI(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function u1(n,t){this.g=n,this.h=t}function kI(n,t){if(kh(t))throw Error("division by zero");if(kh(n))return new u1(qb,qb);if(Ul(n))return t=kI(zo(n),t),new u1(zo(t.g),zo(t.h));if(Ul(t))return t=kI(n,zo(t)),new u1(zo(t.g),t.h);if(30<n.g.length){if(Ul(n)||Ul(t))throw Error("slowDivide_ only works with positive integers.");for(var e=pN,i=t;0>=i.X(n);)e=j6(e),i=j6(i);var o=Hb(e,1),s=Hb(i,1);for(i=Hb(i,2),e=Hb(e,2);!kh(i);){var c=s.add(i);0>=c.X(n)&&(o=o.add(e),s=c),i=Hb(i,1),e=Hb(e,1)}return t=SI(n,o.R(t)),new u1(o,t)}for(o=qb;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),c=(s=Ju(e)).R(t);Ul(c)||0<c.X(n);)c=(s=Ju(e-=i)).R(t);kh(s)&&(s=pN),o=o.add(s),n=SI(n,c)}return new u1(o,n)}function j6(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Xn(e,n.h)}function Hb(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,o=[],s=0;s<i;s++)o[s]=0<t?n.D(s+e)>>>t|n.D(s+e+1)<<32-t:n.D(s+e);return new Xn(o,n.h)}(dt=Xn.prototype).ea=function(){if(Ul(this))return-zo(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:fN+i)*t,t*=fN}return n},dt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(kh(this))return"0";if(Ul(this))return"-"+zo(this).toString(n);for(var t=Ju(Math.pow(n,6)),e=this,i="";;){var o=kI(e,t).g,s=((0<(e=SI(e,o.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(kh(e=o))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},dt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},dt.X=function(n){return Ul(n=SI(this,n))?-1:kh(n)?0:1},dt.abs=function(){return Ul(this)?zo(this):this},dt.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,o=0;o<=t;o++){var s=i+(65535&this.D(o))+(65535&n.D(o)),c=(s>>>16)+(this.D(o)>>>16)+(n.D(o)>>>16);i=c>>>16,e[o]=(c&=65535)<<16|(s&=65535)}return new Xn(e,-2147483648&e[e.length-1]?-1:0)},dt.R=function(n){if(kh(this)||kh(n))return qb;if(Ul(this))return Ul(n)?zo(this).R(zo(n)):zo(zo(this).R(n));if(Ul(n))return zo(this.R(zo(n)));if(0>this.X(H6)&&0>n.X(H6))return Ju(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<n.g.length;o++){var s=this.D(i)>>>16,c=65535&this.D(i),d=n.D(o)>>>16,p=65535&n.D(o);e[2*i+2*o]+=c*p,MI(e,2*i+2*o),e[2*i+2*o+1]+=s*p,MI(e,2*i+2*o+1),e[2*i+2*o+1]+=c*d,MI(e,2*i+2*o+1),e[2*i+2*o+2]+=s*d,MI(e,2*i+2*o+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new Xn(e,0)},dt.gb=function(n){return kI(this,n).h},dt.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new Xn(e,this.h&n.h)},dt.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new Xn(e,this.h|n.h)},dt.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new Xn(e,this.h^n.h)},II.prototype.createWebChannel=II.prototype.g,Ga.prototype.send=Ga.prototype.u,Ga.prototype.open=Ga.prototype.m,Ga.prototype.close=Ga.prototype.close,mI.NO_ERROR=0,mI.TIMEOUT=8,mI.HTTP_ERROR=6,e6.COMPLETE="complete",n6.EventType=Qx,Qx.OPEN="a",Qx.CLOSE="b",Qx.ERROR="c",Qx.MESSAGE="d",Ao.prototype.listen=Ao.prototype.O,_r.prototype.listenOnce=_r.prototype.P,_r.prototype.getLastError=_r.prototype.Sa,_r.prototype.getLastErrorCode=_r.prototype.Ia,_r.prototype.getStatus=_r.prototype.da,_r.prototype.getResponseJson=_r.prototype.Wa,_r.prototype.getResponseText=_r.prototype.ja,_r.prototype.send=_r.prototype.ha,_r.prototype.setWithCredentials=_r.prototype.Oa,zc.prototype.digest=zc.prototype.l,zc.prototype.reset=zc.prototype.reset,zc.prototype.update=zc.prototype.j,Xn.prototype.add=Xn.prototype.add,Xn.prototype.multiply=Xn.prototype.R,Xn.prototype.modulo=Xn.prototype.gb,Xn.prototype.compare=Xn.prototype.X,Xn.prototype.toNumber=Xn.prototype.ea,Xn.prototype.toString=Xn.prototype.toString,Xn.prototype.getBits=Xn.prototype.D,Xn.fromNumber=Ju,Xn.fromString=function q6(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return zo(q6(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Ju(Math.pow(t,8)),i=qb,o=0;o<n.length;o+=8){var s=Math.min(8,n.length-o),c=parseInt(n.substring(o,o+s),t);8>s?(s=Ju(Math.pow(t,s)),i=i.R(s).add(Ju(c))):i=(i=i.R(e)).add(Ju(c))}return i};var B8=jc.createWebChannelTransport=function(){return new II},q8=jc.getStatEventTarget=function(){return pI()},mN=jc.ErrorCode=mI,H8=jc.EventType=e6,j8=jc.Event=r_,z6=jc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},z8=jc.FetchXmlHttpFactory=o1,RI=jc.WebChannel=n6,$8=jc.XhrIo=_r,G8=jc.Md5=zc,jb=jc.Integer=Xn;const $6="@firebase/firestore";class Io{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Io.UNAUTHENTICATED=new Io(null),Io.GOOGLE_CREDENTIALS=new Io("google-credentials-uid"),Io.FIRST_PARTY=new Io("first-party-uid"),Io.MOCK_USER=new Io("mock-user");let zb="9.22.1";const Qp=new Fs.Yd("@firebase/firestore");function gN(){return Qp.logLevel}function Be(n,...t){if(Qp.logLevel<=Fs.in.DEBUG){const e=t.map(_N);Qp.debug(`Firestore (${zb}): ${n}`,...e)}}function Rr(n,...t){if(Qp.logLevel<=Fs.in.ERROR){const e=t.map(_N);Qp.error(`Firestore (${zb}): ${n}`,...e)}}function Vl(n,...t){if(Qp.logLevel<=Fs.in.WARN){const e=t.map(_N);Qp.warn(`Firestore (${zb}): ${n}`,...e)}}function _N(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function pt(n="Unexpected state"){const t=`FIRESTORE (${zb}) INTERNAL ASSERTION FAILED: `+n;throw Rr(t),new Error(t)}function St(n,t){n||pt()}function ut(n,t){return n}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends V.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class uo{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class G6{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class K8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Io.UNAUTHENTICATED))}shutdown(){}}class Q8{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class J8{constructor(t){this.t=t,this.currentUser=Io.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let o=this.i;const s=_=>this.i!==o?(o=this.i,e(_)):Promise.resolve();let c=new uo;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new uo,t.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const _=c;t.enqueueRetryable((0,de.Z)(function*(){yield _.promise,yield s(i.currentUser)}))},p=_=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new uo)}},0),d()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(St("string"==typeof i.accessToken),new G6(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return St(null===t||"string"==typeof t),new Io(t)}}class X8{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=Io.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ez{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new X8(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Io.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Y6{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tz{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=s=>{null!=s.error&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.T;return this.T=s.token,Be("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const o=s=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>o(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?o(s):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(St("string"==typeof e.token),this.T=e.token,new Y6(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function nz(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class W6{static A(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const o=nz(40);for(let s=0;s<o.length;++s)i.length<20&&o[s]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(o[s]%62))}return i}}function Qt(n,t){return n<t?-1:n>t?1:0}function $b(n,t,e){return n.length===t.length&&n.every((i,o)=>e(i,t[o]))}function K6(n){return n+"\0"}class $i{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Re(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Re(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Re(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Re(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return $i.fromMillis(Date.now())}static fromDate(t){return $i.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new $i(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Qt(this.nanoseconds,t.nanoseconds):Qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class kt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new kt(t)}static min(){return new kt(new $i(0,0))}static max(){return new kt(new $i(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class d1{constructor(t,e,i){void 0===e?e=0:e>t.length&&pt(),void 0===i?i=t.length-e:i>t.length-e&&pt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===d1.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof d1?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let o=0;o<i;o++){const s=t.get(o),c=e.get(o);if(s<c)return-1;if(s>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Rn extends d1{construct(t,e,i){return new Rn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Re(ge.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(o=>o.length>0))}return new Rn(e)}static emptyPath(){return new Rn([])}}const iz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vr extends d1{construct(t,e,i){return new vr(t,e,i)}static isValidIdentifier(t){return iz.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vr(["__name__"])}static fromServerFormat(t){const e=[];let i="",o=0;const s=()=>{if(0===i.length)throw new Re(ge.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;o<t.length;){const d=t[o];if("\\"===d){if(o+1===t.length)throw new Re(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Re(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,o+=2}else"`"===d?(c=!c,o++):"."!==d||c?(i+=d,o++):(s(),o++)}if(s(),c)throw new Re(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new vr(e)}static emptyPath(){return new vr([])}}class at{constructor(t){this.path=t}static fromPath(t){return new at(Rn.fromString(t))}static fromName(t){return new at(Rn.fromString(t).popFirst(5))}static empty(){return new at(Rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Rn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Rn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new at(new Rn(t.slice()))}}class OI{constructor(t,e,i,o){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=o}}function vN(n){return n.fields.find(t=>2===t.kind)}function l_(n){return n.fields.filter(t=>2!==t.kind)}OI.UNKNOWN_ID=-1;class PI{constructor(t,e){this.fieldPath=t,this.kind=e}}class h1{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new h1(0,Ya.min())}}function Q6(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=kt.fromTimestamp(1e9===i?new $i(e+1,0):new $i(e,i));return new Ya(o,at.empty(),t)}function J6(n){return new Ya(n.readTime,n.key,-1)}class Ya{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Ya(kt.min(),at.empty(),-1)}static max(){return new Ya(kt.max(),at.empty(),-1)}}function yN(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=at.comparator(n.documentKey,t.documentKey),0!==e?e:Qt(n.largestBatchId,t.largestBatchId))}const X6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class e4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Jp(n){return bN.apply(this,arguments)}function bN(){return bN=(0,de.Z)(function*(n){if(n.code!==ge.FAILED_PRECONDITION||n.message!==X6)throw n;Be("LocalStore","Unexpectedly lost primary lease")}),bN.apply(this,arguments)}class fe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new fe((i,o)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,o)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,o)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof fe?e:fe.resolve(e)}catch(e){return fe.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):fe.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):fe.reject(e)}static resolve(t){return new fe((e,i)=>{e(t)})}static reject(t){return new fe((e,i)=>{i(t)})}static waitFor(t){return new fe((e,i)=>{let o=0,s=0,c=!1;t.forEach(d=>{++o,d.next(()=>{++s,c&&s===o&&e()},p=>i(p))}),c=!0,s===o&&e()})}static or(t){let e=fe.resolve(!1);for(const i of t)e=e.next(o=>o?fe.resolve(o):i());return e}static forEach(t,e){const i=[];return t.forEach((o,s)=>{i.push(e.call(this,o,s))}),this.waitFor(i)}static mapArray(t,e){return new fe((i,o)=>{const s=t.length,c=new Array(s);let d=0;for(let p=0;p<s;p++){const _=p;e(t[_]).next(b=>{c[_]=b,++d,d===s&&i(c)},b=>o(b))}})}static doWhile(t,e){return new fe((i,o)=>{const s=()=>{!0===t()?e().next(()=>{s()},o):i()};s()})}}class NI{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.v=new uo,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new f1(t,e.error)):this.v.resolve()},this.transaction.onerror=i=>{const o=wN(i.target.error);this.v.reject(new f1(t,o))}}static open(t,e,i,o){try{return new NI(e,t.transaction(o,i))}catch(s){throw new f1(e,s)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(Be("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new az(e)}}class $c{constructor(t,e,i){this.name=t,this.version=e,this.V=i,12.2===$c.S((0,V.z$)())&&Rr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Be("SimpleDb","Removing database:",t),c_(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,V.hl)())return!1;if($c.C())return!0;const t=(0,V.z$)(),e=$c.S(t),i=0<e&&e<10,o=$c.N(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(t){var e=this;return(0,de.Z)(function*(){return e.db||(Be("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,o)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=c=>{i(c.target.result)},s.onblocked=()=>{o(new f1(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const d=c.target.error;o("VersionError"===d.name?new Re(ge.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new Re(ge.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new f1(t,d))},s.onupgradeneeded=c=>{Be("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',c.oldVersion),e.V.O(c.target.result,s.transaction,c.oldVersion,e.version).next(()=>{Be("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=i=>e.F(i)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,o){var s=this;return(0,de.Z)(function*(){const c="readonly"===e;let d=0;for(;;){++d;try{s.db=yield s.$(t);const p=NI.open(s.db,t,c?"readonly":"readwrite",i),_=o(p).next(b=>(p.P(),b)).catch(b=>(p.abort(b),fe.reject(b))).toPromise();return _.catch(()=>{}),yield p.R,_}catch(p){const _=p,b="FirebaseError"!==_.name&&d<3;if(Be("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),s.close(),!b)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class sz{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return c_(this.L.delete())}}class f1 extends Re{constructor(t,e){super(ge.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Xp(n){return"IndexedDbTransactionError"===n.name}class az{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Be("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Be("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),c_(i)}add(t){return Be("SimpleDb","ADD",this.store.name,t,t),c_(this.store.add(t))}get(t){return c_(this.store.get(t)).next(e=>(void 0===e&&(e=null),Be("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Be("SimpleDb","DELETE",this.store.name,t),c_(this.store.delete(t))}count(){return Be("SimpleDb","COUNT",this.store.name),c_(this.store.count())}j(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const o=this.cursor(i),s=[];return this.W(o,(c,d)=>{s.push(d)}).next(()=>s)}{const o=this.store.getAll(i.range);return new fe((s,c)=>{o.onerror=d=>{c(d.target.error)},o.onsuccess=d=>{s(d.target.result)}})}}H(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new fe((o,s)=>{i.onerror=c=>{s(c.target.error)},i.onsuccess=c=>{o(c.target.result)}})}J(t,e){Be("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const o=this.cursor(i);return this.W(o,(s,c,d)=>d.delete())}X(t,e){let i;e?i=t:(i={},e=t);const o=this.cursor(i);return this.W(o,e)}Z(t){const e=this.cursor({});return new fe((i,o)=>{e.onerror=s=>{const c=wN(s.target.error);o(c)},e.onsuccess=s=>{const c=s.target.result;c?t(c.primaryKey,c.value).next(d=>{d?c.continue():i()}):i()}})}W(t,e){const i=[];return new fe((o,s)=>{t.onerror=c=>{s(c.target.error)},t.onsuccess=c=>{const d=c.target.result;if(!d)return void o();const p=new sz(d),_=e(d.primaryKey,d.value,p);if(_ instanceof fe){const b=_.catch(E=>(p.done(),fe.reject(E)));i.push(b)}p.isDone?o():null===p.K?d.continue():d.continue(p.K)}}).next(()=>fe.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function c_(n){return new fe((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const o=wN(i.target.error);e(o)}})}let t4=!1;function wN(n){const t=$c.S((0,V.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return t4||(t4=!0,setTimeout(()=>{throw i},0)),i}}return n}class lz{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;Be("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,de.Z)(function*(){e.task=null;try{Be("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(i){Xp(i)?Be("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Jp(i)}yield e.et(6e4)}))}}class cz{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,de.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.st(i,t))})()}st(t,e){const i=new Set;let o=e,s=!0;return fe.doWhile(()=>!0===s&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(c=>{if(null!==c&&!i.has(c))return Be("IndexBackiller",`Processing collection: ${c}`),this.it(t,c,o).next(d=>{o-=d,i.add(c)});s=!1})).next(()=>e-o)}it(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(o=>this.localStore.localDocuments.getNextDocuments(t,e,o,i).next(s=>{const c=s.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next(()=>this.rt(o,s)).next(d=>(Be("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(t,e,d))).next(()=>c.size)}))}rt(t,e){let i=t;return e.changes.forEach((o,s)=>{const c=J6(s);yN(c,i)>0&&(i=c)}),new Ya(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Wa=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>i.writeSequenceNumber(o))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function p1(n){return null==n}function m1(n){return 0===n&&1/n==-1/0}function n4(n){return"number"==typeof n&&Number.isInteger(n)&&!m1(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ms(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=i4(t)),t=uz(n.get(e),t);return i4(t)}function uz(n,t){let e=t;const i=n.length;for(let o=0;o<i;o++){const s=n.charAt(o);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function i4(n){return n+"\x01\x01"}function Xu(n){const t=n.length;if(St(t>=2),2===t)return St("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Rn.emptyPath();const e=t-2,i=[];let o="";for(let s=0;s<t;){const c=n.indexOf("\x01",s);switch((c<0||c>e)&&pt(),n.charAt(c+1)){case"\x01":const d=n.substring(s,c);let p;0===o.length?p=d:(o+=d,p=o,o=""),i.push(p);break;case"\x10":o+=n.substring(s,c),o+="\0";break;case"\x11":o+=n.substring(s,c+1);break;default:pt()}s=c+2}return new Rn(i)}const r4=["userId","batchId"];function FI(n,t){return[n,ms(t)]}function o4(n,t,e){return[n,ms(t),e]}const dz={},hz=["prefixPath","collectionGroup","readTime","documentId"],fz=["prefixPath","collectionGroup","documentId"],pz=["collectionGroup","readTime","prefixPath","documentId"],mz=["canonicalId","targetId"],gz=["targetId","path"],_z=["path","targetId"],vz=["collectionId","parent"],yz=["indexId","uid"],bz=["uid","sequenceNumber"],wz=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Cz=["indexId","uid","orderedDocumentKey"],xz=["userId","collectionPath","documentId"],Dz=["userId","collectionPath","largestBatchId"],Ez=["userId","collectionGroup","largestBatchId"],s4=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Tz=[...s4,"documentOverlays"],a4=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],l4=a4,Az=[...l4,"indexConfiguration","indexState","indexEntries"];class CN extends e4{constructor(t,e){super(),this.ht=t,this.currentSequenceNumber=e}}function So(n,t){const e=ut(n);return $c.M(e.ht,t)}function c4(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function em(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function u4(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Di{constructor(t,e){this.comparator=t,this.root=e||$o.EMPTY}insert(t,e){return new Di(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,$o.BLACK,null,null))}remove(t){return new Di(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$o.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(t,i.key);if(0===o)return e+i.left.size;o<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new LI(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new LI(this.root,t,this.comparator,!1)}getReverseIterator(){return new LI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new LI(this.root,t,this.comparator,!0)}}class LI{constructor(t,e,i,o){this.isReverse=o,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $o{constructor(t,e,i,o,s){this.key=t,this.value=e,this.color=i??$o.RED,this.left=o??$o.EMPTY,this.right=s??$o.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,o,s){return new $o(t??this.key,e??this.value,i??this.color,o??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let o=this;const s=i(t,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(t,e,i),null):0===s?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $o.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===e(t,o.key)){if(o.right.isEmpty())return $o.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$o.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pt();const t=this.left.check();if(t!==this.right.check())throw pt();return t+(this.isRed()?0:1)}}$o.EMPTY=null,$o.RED=!0,$o.BLACK=!1,$o.EMPTY=new class{constructor(){this.size=0}get key(){throw pt()}get value(){throw pt()}get color(){throw pt()}get left(){throw pt()}get right(){throw pt()}copy(n,t,e,i,o){return this}insert(n,t,e){return new $o(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ri{constructor(t){this.comparator=t,this.data=new Di(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new d4(this.data.getIterator())}getIteratorFrom(t){return new d4(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Ri)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(o,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ri(this.comparator);return e.data=t,e}}class d4{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Gb(n){return n.hasNext()?n.getNext():void 0}class ya{constructor(t){this.fields=t,t.sort(vr.comparator)}static empty(){return new ya([])}unionWith(t){let e=new Ri(vr.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ya(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return $b(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class h4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ho{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new h4("Invalid base64 string: "+o):o}}(t);return new ho(e)}static fromUint8Array(t){const e=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(t);return new ho(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ho.EMPTY_BYTE_STRING=new ho("");const Sz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tm(n){if(St(!!n),"string"==typeof n){let t=0;const e=Sz.exec(n);if(St(!!e),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:yr(n.seconds),nanos:yr(n.nanos)}}function yr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Rh(n){return"string"==typeof n?ho.fromBase64String(n):ho.fromUint8Array(n)}function UI(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function VI(n){const t=n.mapValue.fields.__previous_value__;return UI(t)?VI(t):t}function g1(n){const t=tm(n.mapValue.fields.__local_write_time__.timestampValue);return new $i(t.seconds,t.nanos)}class Mz{constructor(t,e,i,o,s,c,d,p,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=o,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=_}}class nm{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new nm("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof nm&&t.projectId===this.projectId&&t.database===this.database}}const im={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ZI={nullValue:"NULL_VALUE"};function rm(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?UI(n)?4:g4(n)?9007199254740991:10:pt()}function ed(n,t){if(n===t)return!0;const e=rm(n);if(e!==rm(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return g1(n).isEqual(g1(t));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=tm(i.timestampValue),c=tm(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return o=t,Rh(n.bytesValue).isEqual(Rh(o.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,o){return yr(i.geoPointValue.latitude)===yr(o.geoPointValue.latitude)&&yr(i.geoPointValue.longitude)===yr(o.geoPointValue.longitude)}(n,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return yr(i.integerValue)===yr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=yr(i.doubleValue),c=yr(o.doubleValue);return s===c?m1(s)===m1(c):isNaN(s)&&isNaN(c)}return!1}(n,t);case 9:return $b(n.arrayValue.values||[],t.arrayValue.values||[],ed);case 10:return function(i,o){const s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(c4(s)!==c4(c))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===c[d]||!ed(s[d],c[d])))return!1;return!0}(n,t);default:return pt()}var o}function _1(n,t){return void 0!==(n.values||[]).find(e=>ed(e,t))}function om(n,t){if(n===t)return 0;const e=rm(n),i=rm(t);if(e!==i)return Qt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Qt(n.booleanValue,t.booleanValue);case 2:return function(o,s){const c=yr(o.integerValue||o.doubleValue),d=yr(s.integerValue||s.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,t);case 3:return f4(n.timestampValue,t.timestampValue);case 4:return f4(g1(n),g1(t));case 5:return Qt(n.stringValue,t.stringValue);case 6:return function(o,s){const c=Rh(o),d=Rh(s);return c.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(o,s){const c=o.split("/"),d=s.split("/");for(let p=0;p<c.length&&p<d.length;p++){const _=Qt(c[p],d[p]);if(0!==_)return _}return Qt(c.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,s){const c=Qt(yr(o.latitude),yr(s.latitude));return 0!==c?c:Qt(yr(o.longitude),yr(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(o,s){const c=o.values||[],d=s.values||[];for(let p=0;p<c.length&&p<d.length;++p){const _=om(c[p],d[p]);if(_)return _}return Qt(c.length,d.length)}(n.arrayValue,t.arrayValue);case 10:return function(o,s){if(o===im.mapValue&&s===im.mapValue)return 0;if(o===im.mapValue)return 1;if(s===im.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),p=s.fields||{},_=Object.keys(p);d.sort(),_.sort();for(let b=0;b<d.length&&b<_.length;++b){const E=Qt(d[b],_[b]);if(0!==E)return E;const k=om(c[d[b]],p[_[b]]);if(0!==k)return k}return Qt(d.length,_.length)}(n.mapValue,t.mapValue);default:throw pt()}}function f4(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Qt(n,t);const e=tm(n),i=tm(t),o=Qt(e.seconds,i.seconds);return 0!==o?o:Qt(e.nanos,i.nanos)}function Yb(n){return xN(n)}function xN(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const o=tm(i);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Rh(n.bytesValue).toBase64():"referenceValue"in n?at.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let o="[",s=!0;for(const c of i.values||[])s?s=!1:o+=",",o+=xN(c);return o+"]"}(n.arrayValue):"mapValue"in n?function(i){const o=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const d of o)c?c=!1:s+=",",s+=`${d}:${xN(i.fields[d])}`;return s+"}"}(n.mapValue):pt();var t}function u_(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function DN(n){return!!n&&"integerValue"in n}function v1(n){return!!n&&"arrayValue"in n}function p4(n){return!!n&&"nullValue"in n}function m4(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qI(n){return!!n&&"mapValue"in n}function y1(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return em(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=y1(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=y1(n.arrayValue.values[e]);return t}return Object.assign({},n)}function g4(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function kz(n){return"nullValue"in n?ZI:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?u_(nm.empty(),at.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:pt()}function Rz(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?u_(nm.empty(),at.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?im:pt()}function _4(n,t){const e=om(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function v4(n,t){const e=om(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Go{constructor(t){this.value=t}static empty(){return new Go({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!qI(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=y1(e)}setAll(t){let e=vr.emptyPath(),i={},o=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,i,o),i={},o=[],e=d.popLast()}c?i[d.lastSegment()]=y1(c):o.push(d.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,o)}delete(t){const e=this.field(t.popLast());qI(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ed(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let o=e.mapValue.fields[t.get(i)];qI(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,i){em(e,(o,s)=>t[o]=s);for(const o of i)delete t[o]}clone(){return new Go(y1(this.value))}}function y4(n){const t=[];return em(n.fields,(e,i)=>{const o=new vr([e]);if(qI(i)){const s=y4(i.mapValue).fields;if(0===s.length)t.push(o);else for(const c of s)t.push(o.child(c))}else t.push(o)}),new ya(t)}class Oi{constructor(t,e,i,o,s,c,d){this.key=t,this.documentType=e,this.version=i,this.readTime=o,this.createTime=s,this.data=c,this.documentState=d}static newInvalidDocument(t){return new Oi(t,0,kt.min(),kt.min(),kt.min(),Go.empty(),0)}static newFoundDocument(t,e,i,o){return new Oi(t,1,e,kt.min(),i,o,0)}static newNoDocument(t,e){return new Oi(t,2,e,kt.min(),kt.min(),Go.empty(),0)}static newUnknownDocument(t,e){return new Oi(t,3,e,kt.min(),kt.min(),Go.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(kt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Go.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Go.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Oi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Oi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sm{constructor(t,e){this.position=t,this.inclusive=e}}function b4(n,t,e){let i=0;for(let o=0;o<n.position.length;o++){const s=t[o],c=n.position[o];if(i=s.field.isKeyField()?at.comparator(at.fromName(c.referenceValue),e.key):om(c,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function w4(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ed(n.position[e],t.position[e]))return!1;return!0}class Wb{constructor(t,e="asc"){this.field=t,this.dir=e}}function Oz(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class C4{}class xn extends C4{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new Pz(t,e,i):"array-contains"===e?new Lz(t,i):"in"===e?new I4(t,i):"not-in"===e?new Uz(t,i):"array-contains-any"===e?new Vz(t,i):new xn(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new Nz(t,i):new Fz(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(om(e,this.value)):null!==e&&rm(this.value)===rm(e)&&this.matchesComparison(om(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ei extends C4{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new ei(t,e)}matches(t){return Kb(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(e=>e.isInequality());return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function Kb(n){return"and"===n.op}function EN(n){return"or"===n.op}function TN(n){return x4(n)&&Kb(n)}function x4(n){for(const t of n.filters)if(t instanceof ei)return!1;return!0}function AN(n){if(n instanceof xn)return n.field.canonicalString()+n.op.toString()+Yb(n.value);if(TN(n))return n.filters.map(t=>AN(t)).join(",");{const t=n.filters.map(e=>AN(e)).join(",");return`${n.op}(${t})`}}function D4(n,t){return n instanceof xn?(e=n,(i=t)instanceof xn&&e.op===i.op&&e.field.isEqual(i.field)&&ed(e.value,i.value)):n instanceof ei?function(e,i){return i instanceof ei&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((o,s,c)=>o&&D4(s,i.filters[c]),!0)}(n,t):void pt();var e,i}function E4(n,t){const e=n.filters.concat(t);return ei.create(e,n.op)}function T4(n){return n instanceof xn?`${(t=n).field.canonicalString()} ${t.op} ${Yb(t.value)}`:n instanceof ei?function(t){return t.op.toString()+" {"+t.getFilters().map(T4).join(" ,")+"}"}(n):"Filter";var t}class Pz extends xn{constructor(t,e,i){super(t,e,i),this.key=at.fromName(i.referenceValue)}matches(t){const e=at.comparator(t.key,this.key);return this.matchesComparison(e)}}class Nz extends xn{constructor(t,e){super(t,"in",e),this.keys=A4(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Fz extends xn{constructor(t,e){super(t,"not-in",e),this.keys=A4(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function A4(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>at.fromName(i.referenceValue))}class Lz extends xn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return v1(e)&&_1(e.arrayValue,this.value)}}class I4 extends xn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&_1(this.value.arrayValue,e)}}class Uz extends xn{constructor(t,e){super(t,"not-in",e)}matches(t){if(_1(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!_1(this.value.arrayValue,e)}}class Vz extends xn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!v1(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>_1(this.value.arrayValue,i))}}class Zz{constructor(t,e=null,i=[],o=[],s=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=o,this.limit=s,this.startAt=c,this.endAt=d,this.dt=null}}function IN(n,t=null,e=[],i=[],o=null,s=null,c=null){return new Zz(n,t,e,i,o,s,c)}function d_(n){const t=ut(n);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>AN(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),p1(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Yb(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Yb(i)).join(",")),t.dt=e}return t.dt}function b1(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!Oz(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!D4(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!w4(n.startAt,t.startAt)&&w4(n.endAt,t.endAt)}function HI(n){return at.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function jI(n,t){return n.filters.filter(e=>e instanceof xn&&e.field.isEqual(t))}function S4(n,t,e){let i=ZI,o=!0;for(const s of jI(n,t)){let c=ZI,d=!0;switch(s.op){case"<":case"<=":c=kz(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,d=!1;break;case"!=":case"not-in":c=ZI}_4({value:i,inclusive:o},{value:c,inclusive:d})<0&&(i=c,o=d)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const c=e.position[s];_4({value:i,inclusive:o},{value:c,inclusive:e.inclusive})<0&&(i=c,o=e.inclusive);break}return{value:i,inclusive:o}}function M4(n,t,e){let i=im,o=!0;for(const s of jI(n,t)){let c=im,d=!0;switch(s.op){case">=":case">":c=Rz(s.value),d=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,d=!1;break;case"!=":case"not-in":c=im}v4({value:i,inclusive:o},{value:c,inclusive:d})>0&&(i=c,o=d)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const c=e.position[s];v4({value:i,inclusive:o},{value:c,inclusive:e.inclusive})>0&&(i=c,o=e.inclusive);break}return{value:i,inclusive:o}}class Oh{constructor(t,e=null,i=[],o=[],s=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=o,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=p,this.wt=null,this._t=null}}function k4(n,t,e,i,o,s,c,d){return new Oh(n,t,e,i,o,s,c,d)}function Qb(n){return new Oh(n)}function R4(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function SN(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function zI(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function MN(n){return null!==n.collectionGroup}function h_(n){const t=ut(n);if(null===t.wt){t.wt=[];const e=zI(t),i=SN(t);if(null!==e&&null===i)e.isKeyField()||t.wt.push(new Wb(e)),t.wt.push(new Wb(vr.keyField(),"asc"));else{let o=!1;for(const s of t.explicitOrderBy)t.wt.push(s),s.field.isKeyField()&&(o=!0);if(!o){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Wb(vr.keyField(),s))}}}return t.wt}function Gs(n){const t=ut(n);if(!t._t)if("F"===t.limitType)t._t=IN(t.path,t.collectionGroup,h_(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of h_(t))e.push(new Wb(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new sm(t.endAt.position,t.endAt.inclusive):null,o=t.startAt?new sm(t.startAt.position,t.startAt.inclusive):null;t._t=IN(t.path,t.collectionGroup,e,t.filters,t.limit,i,o)}return t._t}function kN(n,t){t.getFirstInequalityField(),zI(n);const e=n.filters.concat([t]);return new Oh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function $I(n,t,e){return new Oh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function w1(n,t){return b1(Gs(n),Gs(t))&&n.limitType===t.limitType}function O4(n){return`${d_(Gs(n))}|lt:${n.limitType}`}function RN(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>T4(i)).join(", ")}]`),p1(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Yb(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Yb(i)).join(",")),`Target(${e})`}(Gs(n))}; limitType=${n.limitType})`}function C1(n,t){return t.isFoundDocument()&&function(e,i){const o=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(o):at.isDocumentKey(e.path)?e.path.isEqual(o):e.path.isImmediateParentOf(o)}(n,t)&&function(e,i){for(const o of h_(e))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(n,t)&&function(e,i){for(const o of e.filters)if(!o.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(o,s,c){const d=b4(o,s,c);return o.inclusive?d<=0:d<0}(e.startAt,h_(e),i)||e.endAt&&!function(o,s,c){const d=b4(o,s,c);return o.inclusive?d>=0:d>0}(e.endAt,h_(e),i)));var e,i}function P4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function N4(n){return(t,e)=>{let i=!1;for(const o of h_(n)){const s=Bz(o,t,e);if(0!==s)return s;i=i||o.field.isKeyField()}return 0}}function Bz(n,t,e){const i=n.field.isKeyField()?at.comparator(t.key,e.key):function(o,s,c){const d=s.data.field(o),p=c.data.field(o);return null!==d&&null!==p?om(d,p):pt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return pt()}}class Ph{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[o,s]of i)if(this.equalsFn(o,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),o=this.inner[i];if(void 0===o)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return 1===i.length?delete this.inner[e]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(t){em(this.inner,(e,i)=>{for(const[o,s]of i)t(o,s)})}isEmpty(){return u4(this.inner)}size(){return this.innerSize}}const qz=new Di(at.comparator);function ba(){return qz}const F4=new Di(at.comparator);function x1(...n){let t=F4;for(const e of n)t=t.insert(e.key,e);return t}function L4(n){let t=F4;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function td(){return D1()}function U4(){return D1()}function D1(){return new Ph(n=>n.toString(),(n,t)=>n.isEqual(t))}const Hz=new Di(at.comparator),jz=new Ri(at.comparator);function hn(...n){let t=jz;for(const e of n)t=t.add(e);return t}const zz=new Ri(Qt);function ON(){return zz}function V4(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:m1(t)?"-0":t}}function Z4(n){return{integerValue:""+n}}function B4(n,t){return n4(t)?Z4(t):V4(n,t)}class GI{constructor(){this._=void 0}}function $z(n,t,e){return n instanceof Jb?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&UI(o)&&(o=VI(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(e,t):n instanceof f_?H4(n,t):n instanceof p_?j4(n,t):function(i,o){const s=q4(i,o),c=z4(s)+z4(i.gt);return DN(s)&&DN(i.gt)?Z4(c):V4(i.serializer,c)}(n,t)}function Gz(n,t,e){return n instanceof f_?H4(n,t):n instanceof p_?j4(n,t):e}function q4(n,t){return n instanceof Xb?DN(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Jb extends GI{}class f_ extends GI{constructor(t){super(),this.elements=t}}function H4(n,t){const e=$4(t);for(const i of n.elements)e.some(o=>ed(o,i))||e.push(i);return{arrayValue:{values:e}}}class p_ extends GI{constructor(t){super(),this.elements=t}}function j4(n,t){let e=$4(t);for(const i of n.elements)e=e.filter(o=>!ed(o,i));return{arrayValue:{values:e}}}class Xb extends GI{constructor(t,e){super(),this.serializer=t,this.gt=e}}function z4(n){return yr(n.integerValue||n.doubleValue)}function $4(n){return v1(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class E1{constructor(t,e){this.field=t,this.transform=e}}class Wz{constructor(t,e){this.version=t,this.transformResults=e}}class Gi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Gi}static exists(t){return new Gi(void 0,t)}static updateTime(t){return new Gi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function YI(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class WI{}function G4(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new t0(n.key,Gi.none()):new e0(n.key,n.data,Gi.none());{const e=n.data,i=Go.empty();let o=new Ri(vr.comparator);for(let s of t.fields)if(!o.has(s)){let c=e.field(s);null===c&&s.length>1&&(s=s.popLast(),c=e.field(s)),null===c?i.delete(s):i.set(s,c),o=o.add(s)}return new Nh(n.key,i,new ya(o.toArray()),Gi.none())}}function Kz(n,t,e){n instanceof e0?function(i,o,s){const c=i.value.clone(),d=K4(i.fieldTransforms,o,s.transformResults);c.setAll(d),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,t,e):n instanceof Nh?function(i,o,s){if(!YI(i.precondition,o))return void o.convertToUnknownDocument(s.version);const c=K4(i.fieldTransforms,o,s.transformResults),d=o.data;d.setAll(W4(i)),d.setAll(c),o.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function T1(n,t,e,i){return n instanceof e0?function(o,s,c,d){if(!YI(o.precondition,s))return c;const p=o.value.clone(),_=Q4(o.fieldTransforms,d,s);return p.setAll(_),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,t,e,i):n instanceof Nh?function(o,s,c,d){if(!YI(o.precondition,s))return c;const p=Q4(o.fieldTransforms,d,s),_=s.data;return _.setAll(W4(o)),_.setAll(p),s.convertToFoundDocument(s.version,_).setHasLocalMutations(),null===c?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(b=>b.field))}(n,t,e,i):(c=e,YI(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function Qz(n,t){let e=null;for(const i of n.fieldTransforms){const o=t.data.field(i.field),s=q4(i.transform,o||null);null!=s&&(null===e&&(e=Go.empty()),e.set(i.field,s))}return e||null}function Y4(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&$b(e,i,(o,s)=>function Yz(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof f_&&i instanceof f_||e instanceof p_&&i instanceof p_?$b(e.elements,i.elements,ed):e instanceof Xb&&i instanceof Xb?ed(e.gt,i.gt):e instanceof Jb&&i instanceof Jb);var e,i}(o,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class e0 extends WI{constructor(t,e,i,o=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Nh extends WI{constructor(t,e,i,o,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=o,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function W4(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function K4(n,t,e){const i=new Map;St(n.length===e.length);for(let o=0;o<e.length;o++){const s=n[o],c=s.transform,d=t.data.field(s.field);i.set(s.field,Gz(c,d,e[o]))}return i}function Q4(n,t,e){const i=new Map;for(const o of n){const s=o.transform,c=e.data.field(o.field);i.set(o.field,$z(s,c,t))}return i}class t0 extends WI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PN extends WI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class NN{constructor(t,e,i,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const s=this.mutations[o];s.key.isEqual(t.key)&&Kz(s,t,i[o])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=T1(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=T1(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=U4();return this.mutations.forEach(o=>{const s=t.get(o.key),c=s.overlayedDocument;let d=this.applyToLocalView(c,s.mutatedFields);d=e.has(o.key)?null:d;const p=G4(c,d);null!==p&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(kt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),hn())}isEqual(t){return this.batchId===t.batchId&&$b(this.mutations,t.mutations,(e,i)=>Y4(e,i))&&$b(this.baseMutations,t.baseMutations,(e,i)=>Y4(e,i))}}class FN{constructor(t,e,i,o){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=o}static from(t,e,i){St(t.mutations.length===i.length);let o=Hz;const s=t.mutations;for(let c=0;c<s.length;c++)o=o.insert(s[c].key,i[c].version);return new FN(t,e,i,o)}}class LN{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Xz{constructor(t,e){this.count=t,this.unchangedNames=e}}var Gr,On;function J4(n){switch(n){default:return pt();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function X4(n){if(void 0===n)return Rr("GRPC error has no .code"),ge.UNKNOWN;switch(n){case Gr.OK:return ge.OK;case Gr.CANCELLED:return ge.CANCELLED;case Gr.UNKNOWN:return ge.UNKNOWN;case Gr.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case Gr.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case Gr.INTERNAL:return ge.INTERNAL;case Gr.UNAVAILABLE:return ge.UNAVAILABLE;case Gr.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case Gr.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case Gr.NOT_FOUND:return ge.NOT_FOUND;case Gr.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case Gr.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case Gr.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case Gr.ABORTED:return ge.ABORTED;case Gr.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case Gr.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case Gr.DATA_LOSS:return ge.DATA_LOSS;default:return pt()}}(On=Gr||(Gr={}))[On.OK=0]="OK",On[On.CANCELLED=1]="CANCELLED",On[On.UNKNOWN=2]="UNKNOWN",On[On.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",On[On.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",On[On.NOT_FOUND=5]="NOT_FOUND",On[On.ALREADY_EXISTS=6]="ALREADY_EXISTS",On[On.PERMISSION_DENIED=7]="PERMISSION_DENIED",On[On.UNAUTHENTICATED=16]="UNAUTHENTICATED",On[On.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",On[On.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",On[On.ABORTED=10]="ABORTED",On[On.OUT_OF_RANGE=11]="OUT_OF_RANGE",On[On.UNIMPLEMENTED=12]="UNIMPLEMENTED",On[On.INTERNAL=13]="INTERNAL",On[On.UNAVAILABLE=14]="UNAVAILABLE",On[On.DATA_LOSS=15]="DATA_LOSS";class UN{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return KI}static getOrCreateInstance(){return null===KI&&(KI=new UN),KI}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let KI=null;function eV(){return new TextEncoder}const e$=new jb([4294967295,4294967295],0);function tV(n){const t=eV().encode(n),e=new G8;return e.update(t),new Uint8Array(e.digest())}function nV(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),o=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new jb([e,i],0),new jb([o,s],0)]}class VN{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new A1(`Invalid padding: ${e}`);if(i<0)throw new A1(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new A1(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new A1(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=jb.fromNumber(this.It)}Et(t,e,i){let o=t.add(e.multiply(jb.fromNumber(i)));return 1===o.compare(e$)&&(o=new jb([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=tV(t),[i,o]=nV(e);for(let s=0;s<this.hashCount;s++){const c=this.Et(i,o,s);if(!this.At(c))return!1}return!0}static create(t,e,i){const o=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),c=new VN(s,o,e);return i.forEach(d=>c.insert(d)),c}insert(t){if(0===this.It)return;const e=tV(t),[i,o]=nV(e);for(let s=0;s<this.hashCount;s++){const c=this.Et(i,o,s);this.Rt(c)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class A1 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class I1{constructor(t,e,i,o,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const o=new Map;return o.set(t,S1.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new I1(kt.min(),o,new Di(Qt),ba(),hn())}}class S1{constructor(t,e,i,o,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new S1(i,e,hn(),hn(),hn())}}class QI{constructor(t,e,i,o){this.Pt=t,this.removedTargetIds=e,this.key=i,this.bt=o}}class iV{constructor(t,e){this.targetId=t,this.Vt=e}}class rV{constructor(t,e,i=ho.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=o}}class oV{constructor(){this.St=0,this.Dt=aV(),this.Ct=ho.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=hn(),e=hn(),i=hn();return this.Dt.forEach((o,s)=>{switch(s){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:i=i.add(o);break;default:pt()}}),new S1(this.Ct,this.xt,t,e,i)}Ft(){this.Nt=!1,this.Dt=aV()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class t${constructor(t){this.Gt=t,this.Qt=new Map,this.jt=ba(),this.zt=sV(),this.Wt=new Di(Qt)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,e=>{const i=this.Zt(e);switch(t.state){case 0:this.te(e)&&i.$t(t.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(t.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(e);break;case 3:this.te(e)&&(i.Kt(),i.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),i.$t(t.resumeToken));break;default:pt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach((i,o)=>{this.te(o)&&e(o)})}ne(t){var e;const i=t.targetId,o=t.Vt.count,s=this.se(i);if(s){const c=s.target;if(HI(c))if(0===o){const d=new at(c.path);this.Yt(i,d,Oi.newNoDocument(d,kt.min()))}else St(1===o);else{const d=this.ie(i);if(d!==o){const p=this.re(t,d);0!==p&&(this.ee(i),this.Wt=this.Wt.insert(i,2===p?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=UN.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(_,b,E){var k,F,q,K,ee,Oe;const ze={localCacheCount:b,existenceFilterCount:E.count},He=E.unchangedNames;return He&&(ze.bloomFilter={applied:0===_,hashCount:null!==(k=He?.hashCount)&&void 0!==k?k:0,bitmapLength:null!==(K=null===(q=null===(F=He?.bits)||void 0===F?void 0:F.bitmap)||void 0===q?void 0:q.length)&&void 0!==K?K:0,padding:null!==(Oe=null===(ee=He?.bits)||void 0===ee?void 0:ee.padding)&&void 0!==Oe?Oe:0}),ze}(p,d,t.Vt))}}}}re(t,e){const{unchangedNames:i,count:o}=t.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:c=0},hashCount:d=0}=i;let p,_;try{p=Rh(s).toUint8Array()}catch(b){if(b instanceof h4)return Vl("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw b}try{_=new VN(p,c,d)}catch(b){return Vl(b instanceof A1?"BloomFilter error: ":"Applying bloom filter failed: ",b),1}return 0===_.It?1:o!==e-this.oe(t.targetId,_)?2:0}oe(t,e){const i=this.Gt.getRemoteKeysForTarget(t);let o=0;return i.forEach(s=>{const c=this.Gt.ue(),d=`projects/${c.projectId}/databases/${c.database}/documents/${s.path.canonicalString()}`;e.vt(d)||(this.Yt(t,s,null),o++)}),o}ce(t){const e=new Map;this.Qt.forEach((s,c)=>{const d=this.se(c);if(d){if(s.current&&HI(d.target)){const p=new at(d.target.path);null!==this.jt.get(p)||this.ae(c,p)||this.Yt(c,p,Oi.newNoDocument(p,t))}s.Mt&&(e.set(c,s.Ot()),s.Ft())}});let i=hn();this.zt.forEach((s,c)=>{let d=!0;c.forEachWhile(p=>{const _=this.se(p);return!_||"TargetPurposeLimboResolution"===_.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.jt.forEach((s,c)=>c.setReadTime(t));const o=new I1(t,e,this.Wt,this.jt,i);return this.jt=ba(),this.zt=sV(),this.Wt=new Di(Qt),o}Jt(t,e){if(!this.te(t))return;const i=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,i),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,i){if(!this.te(t))return;const o=this.Zt(t);this.ae(t,e)?o.Bt(e,1):o.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),i&&(this.jt=this.jt.insert(e,i))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new oV,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new Ri(Qt),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||Be("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new oV),this.Gt.getRemoteKeysForTarget(t).forEach(e=>{this.Yt(t,e,null)})}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function sV(){return new Di(at.comparator)}function aV(){return new Di(at.comparator)}const n$={asc:"ASCENDING",desc:"DESCENDING"},i$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r$={and:"AND",or:"OR"};class o${constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function ZN(n,t){return n.useProto3Json||p1(t)?t:{value:t}}function n0(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function lV(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function s$(n,t){return n0(n,t.toTimestamp())}function Or(n){return St(!!n),kt.fromTimestamp(function(t){const e=tm(t);return new $i(e.seconds,e.nanos)}(n))}function BN(n,t){return(e=n,new Rn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function cV(n){const t=Rn.fromString(n);return St(vV(t)),t}function M1(n,t){return BN(n.databaseId,t.path)}function nd(n,t){const e=cV(t);if(e.get(1)!==n.databaseId.projectId)throw new Re(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Re(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new at(dV(e))}function qN(n,t){return BN(n.databaseId,t)}function uV(n){const t=cV(n);return 4===t.length?Rn.emptyPath():dV(t)}function k1(n){return new Rn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function dV(n){return St(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function hV(n,t,e){return{name:M1(n,t),fields:e.value.mapValue.fields}}function fV(n,t,e){const i=nd(n,t.name),o=Or(t.updateTime),s=t.createTime?Or(t.createTime):kt.min(),c=new Go({mapValue:{fields:t.fields}}),d=Oi.newFoundDocument(i,o,s,c);return e&&d.setHasCommittedMutations(),e?d.setHasCommittedMutations():d}function R1(n,t){let e;if(t instanceof e0)e={update:hV(n,t.key,t.value)};else if(t instanceof t0)e={delete:M1(n,t.key)};else if(t instanceof Nh)e={update:hV(n,t.key,t.data),updateMask:p$(t.fieldMask)};else{if(!(t instanceof PN))return pt();e={verify:M1(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,s){const c=s.transform;if(c instanceof Jb)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof f_)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof p_)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Xb)return{fieldPath:s.field.canonicalString(),increment:c.gt};throw pt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(o=t.precondition).updateTime?{updateTime:s$(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:pt()),e;var o}function HN(n,t){const e=t.currentDocument?void 0!==(o=t.currentDocument).updateTime?Gi.updateTime(Or(o.updateTime)):void 0!==o.exists?Gi.exists(o.exists):Gi.none():Gi.none(),i=t.updateTransforms?t.updateTransforms.map(o=>function(s,c){let d=null;"setToServerValue"in c?(St("REQUEST_TIME"===c.setToServerValue),d=new Jb):"appendMissingElements"in c?d=new f_(c.appendMissingElements.values||[]):"removeAllFromArray"in c?d=new p_(c.removeAllFromArray.values||[]):"increment"in c?d=new Xb(s,c.increment):pt();const p=vr.fromServerFormat(c.fieldPath);return new E1(p,d)}(n,o)):[];var o;if(t.update){const o=nd(n,t.update.name),s=new Go({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=new ya((t.updateMask.fieldPaths||[]).map(_=>vr.fromServerFormat(_)));return new Nh(o,s,c,e,i)}return new e0(o,s,e,i)}if(t.delete){const o=nd(n,t.delete);return new t0(o,e)}if(t.verify){const o=nd(n,t.verify);return new PN(o,e)}return pt()}function pV(n,t){return{documents:[qN(n,t.path)]}}function jN(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=qN(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=qN(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const o=function(p){if(0!==p.length)return _V(ei.create(p,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const s=function(p){if(0!==p.length)return p.map(_=>{return{field:am((b=_).field),direction:d$(b.dir)};var b})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const c=ZN(n,t.limit);var d,p;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(d=t.startAt).inclusive,values:d.position}),t.endAt&&(e.structuredQuery.endAt={before:!(p=t.endAt).inclusive,values:p.position}),e}function mV(n){let t=uV(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let o=null;if(i>0){St(1===i);const b=e.from[0];b.allDescendants?o=b.collectionId:t=t.child(b.collectionId)}let s=[];e.where&&(s=function(b){const E=gV(b);return E instanceof ei&&TN(E)?E.getFilters():[E]}(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(b=>{return new Wb(r0((E=b).field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction));var E}));let d=null;e.limit&&(d=function(b){let E;return E="object"==typeof b?b.value:b,p1(E)?null:E}(e.limit));let p=null;var b;e.startAt&&(p=new sm((b=e.startAt).values||[],!!b.before));let _=null;return e.endAt&&(_=function(b){return new sm(b.values||[],!b.before)}(e.endAt)),k4(t,o,c,s,d,"F",p,_)}function gV(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=r0(t.unaryFilter.field);return xn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=r0(t.unaryFilter.field);return xn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=r0(t.unaryFilter.field);return xn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=r0(t.unaryFilter.field);return xn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return pt()}}(n):void 0!==n.fieldFilter?xn.create(r0((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pt()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return ei.create(t.compositeFilter.filters.map(e=>gV(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return pt()}}(t.compositeFilter.op))}(n):pt();var t}function d$(n){return n$[n]}function h$(n){return i$[n]}function f$(n){return r$[n]}function am(n){return{fieldPath:n.canonicalString()}}function r0(n){return vr.fromServerFormat(n.fieldPath)}function _V(n){return n instanceof xn?function(t){if("=="===t.op){if(m4(t.value))return{unaryFilter:{field:am(t.field),op:"IS_NAN"}};if(p4(t.value))return{unaryFilter:{field:am(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(m4(t.value))return{unaryFilter:{field:am(t.field),op:"IS_NOT_NAN"}};if(p4(t.value))return{unaryFilter:{field:am(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:am(t.field),op:h$(t.op),value:t.value}}}(n):n instanceof ei?function(t){const e=t.getFilters().map(i=>_V(i));return 1===e.length?e[0]:{compositeFilter:{op:f$(t.op),filters:e}}}(n):pt()}function p$(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function vV(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Fh{constructor(t,e,i,o,s=kt.min(),c=kt.min(),d=ho.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new Fh(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Fh(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Fh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Fh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class yV{constructor(t){this.fe=t}}function bV(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:JI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:M1(o=n.fe,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:n0(o,s.version.toTimestamp()),createTime:n0(o,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:m_(t.version)};else{if(!t.isUnknownDocument())return pt();i.unknownDocument={path:e.path.toArray(),version:m_(t.version)}}var o,s;return i}function JI(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function m_(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function g_(n){const t=new $i(n.seconds,n.nanoseconds);return kt.fromTimestamp(t)}function __(n,t){const e=(t.baseMutations||[]).map(s=>HN(n.fe,s));for(let s=0;s<t.mutations.length-1;++s)s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(t.mutations[s].updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s);const i=t.mutations.map(s=>HN(n.fe,s)),o=$i.fromMillis(t.localWriteTimeMs);return new NN(t.batchId,o,e,i)}function O1(n){const t=g_(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?g_(n.lastLimboFreeSnapshotVersion):kt.min();let i;var o;return void 0!==n.query.documents?(St(1===(o=n.query).documents.length),i=Gs(Qb(uV(o.documents[0])))):i=Gs(mV(n.query)),new Fh(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,ho.fromBase64String(n.resumeToken))}function wV(n,t){const e=m_(t.snapshotVersion),i=m_(t.lastLimboFreeSnapshotVersion);let o;o=HI(t.target)?pV(n.fe,t.target):jN(n.fe,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:d_(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:o}}function zN(n){const t=mV({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?$I(t,t.limit,"L"):t}function $N(n,t){return new LN(t.largestBatchId,HN(n.fe,t.overlayMutation))}function CV(n,t){const e=t.path.lastSegment();return[n,ms(t.path.popLast()),e]}function xV(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:m_(i.readTime),documentKey:ms(i.documentKey.path),largestBatchId:i.largestBatchId}}class g${getBundleMetadata(t,e){return DV(t).get(e).next(i=>{if(i)return{id:(o=i).bundleId,createTime:g_(o.createTime),version:o.version};var o})}saveBundleMetadata(t,e){return DV(t).put({bundleId:(i=e).id,createTime:m_(Or(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return EV(t).get(e).next(i=>{if(i)return{name:(o=i).name,query:zN(o.bundledQuery),readTime:g_(o.readTime)};var o})}saveNamedQuery(t,e){return EV(t).put({name:(i=e).name,readTime:m_(Or(i.readTime)),bundledQuery:i.bundledQuery});var i}}function DV(n){return So(n,"bundles")}function EV(n){return So(n,"namedQueries")}class XI{constructor(t,e){this.serializer=t,this.userId=e}static de(t,e){return new XI(t,e.uid||"")}getOverlay(t,e){return P1(t).get(CV(this.userId,e)).next(i=>i?$N(this.serializer,i):null)}getOverlays(t,e){const i=td();return fe.forEach(e,o=>this.getOverlay(t,o).next(s=>{null!==s&&i.set(o,s)})).next(()=>i)}saveOverlays(t,e,i){const o=[];return i.forEach((s,c)=>{const d=new LN(e,c);o.push(this.we(t,d))}),fe.waitFor(o)}removeOverlaysForBatchId(t,e,i){const o=new Set;e.forEach(c=>o.add(ms(c.getCollectionPath())));const s=[];return o.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);s.push(P1(t).J("collectionPathOverlayIndex",d))}),fe.waitFor(s)}getOverlaysForCollection(t,e,i){const o=td(),s=ms(e),c=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return P1(t).j("collectionPathOverlayIndex",c).next(d=>{for(const p of d){const _=$N(this.serializer,p);o.set(_.getKey(),_)}return o})}getOverlaysForCollectionGroup(t,e,i,o){const s=td();let c;const d=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return P1(t).X({index:"collectionGroupOverlayIndex",range:d},(p,_,b)=>{const E=$N(this.serializer,_);s.size()<o||E.largestBatchId===c?(s.set(E.getKey(),E),c=E.largestBatchId):b.done()}).next(()=>s)}we(t,e){return P1(t).put(function(i,o,s){const[c,d,p]=CV(o,s.mutation.key);return{userId:o,collectionPath:d,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:R1(i.fe,s.mutation)}}(this.serializer,this.userId,e))}}function P1(n){return So(n,"documentOverlays")}class v_{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(yr(t.integerValue));else if("doubleValue"in t){const i=yr(t.doubleValue);isNaN(i)?this.ye(e,13):(this.ye(e,15),m1(i)?e.pe(0):e.pe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ye(e,20),"string"==typeof i?e.Ie(i):(e.Ie(`${i.seconds||""}`),e.pe(i.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(Rh(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ye(e,45),e.pe(i.latitude||0),e.pe(i.longitude||0)}else"mapValue"in t?g4(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):pt()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const i=t.fields||{};this.ye(e,55);for(const o of Object.keys(i))this.Te(o,e),this.me(i[o],e)}Pe(t,e){const i=t.values||[];this.ye(e,50);for(const o of i)this.me(o,e)}ve(t,e){this.ye(e,37),at.fromName(t).path.forEach(i=>{this.ye(e,60),this.be(i,e)})}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}function _$(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function TV(n){const t=64-function(e){let i=0;for(let o=0;o<8;++o){const s=_$(255&e[o]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}v_.Ve=new v_;class v${constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.De(i.value),i=e.next();this.Ce()}xe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ne(i.value),i=e.next();this.ke()}Me(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const o=e.codePointAt(0);this.De(240|o>>>18),this.De(128|63&o>>>12),this.De(128|63&o>>>6),this.De(128|63&o)}}this.Ce()}$e(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const o=e.codePointAt(0);this.Ne(240|o>>>18),this.Ne(128|63&o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o)}}this.ke()}Oe(t){const e=this.Fe(t),i=TV(e);this.Be(1+i),this.buffer[this.position++]=255&i;for(let o=e.length-i;o<e.length;++o)this.buffer[this.position++]=255&e[o]}Le(t){const e=this.Fe(t),i=TV(e);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let o=e.length-i;o<e.length;++o)this.buffer[this.position++]=~(255&e[o])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const e=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let o=1;o<e.length;++o)e[o]^=i?255:0;return e}De(t){const e=255&t;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(t){const e=255&t;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const o=new Uint8Array(i);o.set(this.buffer),this.buffer=o}}class y${constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class b${constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class N1{constructor(){this.je=new v$,this.ze=new y$(this.je),this.We=new b$(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class y_{constructor(t,e,i,o){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=o}Je(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new y_(this.indexId,this.documentKey,this.arrayValue,i)}}function lm(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=AV(n.arrayValue,t.arrayValue),0!==e?e:(e=AV(n.directionalValue,t.directionalValue),0!==e?e:at.comparator(n.documentKey,t.documentKey)))}function AV(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class w${constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const e of t.filters){const i=e;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(t){St(t.collectionGroup===this.collectionId);const e=vN(t);if(void 0!==e&&!this.en(e))return!1;const i=l_(t);let o=0,s=0;for(;o<i.length&&this.en(i[o]);++o);if(o===i.length)return!0;if(void 0!==this.Ze){const c=i[o];if(!this.nn(this.Ze,c)||!this.sn(this.Ye[s++],c))return!1;++o}for(;o<i.length;++o)if(s>=this.Ye.length||!this.sn(this.Ye[s++],i[o]))return!1;return!0}en(t){for(const e of this.Xe)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function IV(n){var t,e;if(St(n instanceof xn||n instanceof ei),n instanceof xn){if(n instanceof I4){const o=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(s=>xn.create(n.field,"==",s)))||[];return ei.create(o,"or")}return n}const i=n.filters.map(o=>IV(o));return ei.create(i,n.op)}function C$(n){if(0===n.getFilters().length)return[];const t=WN(IV(n));return St(SV(t)),GN(t)||YN(t)?[t]:t.getFilters()}function GN(n){return n instanceof xn}function YN(n){return n instanceof ei&&TN(n)}function SV(n){return GN(n)||YN(n)||function(t){if(t instanceof ei&&EN(t)){for(const e of t.getFilters())if(!GN(e)&&!YN(e))return!1;return!0}return!1}(n)}function WN(n){if(St(n instanceof xn||n instanceof ei),n instanceof xn)return n;if(1===n.filters.length)return WN(n.filters[0]);const t=n.filters.map(i=>WN(i));let e=ei.create(t,n.op);return e=eS(e),SV(e)?e:(St(e instanceof ei),St(Kb(e)),St(e.filters.length>1),e.filters.reduce((i,o)=>KN(i,o)))}function KN(n,t){let e;return St(n instanceof xn||n instanceof ei),St(t instanceof xn||t instanceof ei),e=n instanceof xn?t instanceof xn?ei.create([n,t],"and"):MV(n,t):t instanceof xn?MV(t,n):function(i,o){if(St(i.filters.length>0&&o.filters.length>0),Kb(i)&&Kb(o))return E4(i,o.getFilters());const s=EN(i)?i:o,c=EN(i)?o:i,d=s.filters.map(p=>KN(p,c));return ei.create(d,"or")}(n,t),eS(e)}function MV(n,t){if(Kb(t))return E4(t,n.getFilters());{const e=t.filters.map(i=>KN(n,i));return ei.create(e,"or")}}function eS(n){if(St(n instanceof xn||n instanceof ei),n instanceof xn)return n;const t=n.getFilters();if(1===t.length)return eS(t[0]);if(x4(n))return n;const e=t.map(o=>eS(o)),i=[];return e.forEach(o=>{o instanceof xn?i.push(o):o instanceof ei&&(o.op===n.op?i.push(...o.filters):i.push(o))}),1===i.length?i[0]:ei.create(i,n.op)}class x${constructor(){this.rn=new QN}addToCollectionParentIndex(t,e){return this.rn.add(e),fe.resolve()}getCollectionParents(t,e){return fe.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return fe.resolve()}deleteFieldIndex(t,e){return fe.resolve()}getDocumentsMatchingTarget(t,e){return fe.resolve(null)}getIndexType(t,e){return fe.resolve(0)}getFieldIndexes(t,e){return fe.resolve([])}getNextCollectionGroupToUpdate(t){return fe.resolve(null)}getMinOffset(t,e){return fe.resolve(Ya.min())}getMinOffsetFromCollectionGroup(t,e){return fe.resolve(Ya.min())}updateCollectionGroup(t,e,i){return fe.resolve()}updateIndexEntries(t,e){return fe.resolve()}}class QN{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),o=this.index[e]||new Ri(Rn.comparator),s=!o.has(i);return this.index[e]=o.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),o=this.index[e];return o&&o.has(i)}getEntries(t){return(this.index[t]||new Ri(Rn.comparator)).toArray()}}const tS=new Uint8Array(0);class D${constructor(t,e){this.user=t,this.databaseId=e,this.on=new QN,this.un=new Ph(i=>d_(i),(i,o)=>b1(i,o)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.on.has(e)){const i=e.lastSegment(),o=e.popLast();t.addOnCommittedListener(()=>{this.on.add(e)});const s={collectionId:i,parent:ms(o)};return kV(t).put(s)}return fe.resolve()}getCollectionParents(t,e){const i=[],o=IDBKeyRange.bound([e,""],[K6(e),""],!1,!0);return kV(t).j(o).next(s=>{for(const c of s){if(c.collectionId!==e)break;i.push(Xu(c.parent))}return i})}addFieldIndex(t,e){const i=nS(t),o={indexId:(c=e).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var c;delete o.indexId;const s=i.add(o);if(e.indexState){const c=L1(t);return s.next(d=>{c.put(xV(d,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=nS(t),o=L1(t),s=F1(t);return i.delete(e.indexId).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=F1(t);let o=!0;const s=new Map;return fe.forEach(this.cn(e),c=>this.an(t,c).next(d=>{o&&(o=!!d),s.set(c,d)})).next(()=>{if(o){let c=hn();const d=[];return fe.forEach(s,(p,_)=>{var b;Be("IndexedDbIndexManager",`Using index ${b=p,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(He=>`${He.fieldPath}:${He.kind}`).join(",")}`} to execute ${d_(e)}`);const E=function(He,Je){const Nt=vN(Je);if(void 0===Nt)return null;for(const Vt of jI(He,Nt.fieldPath))switch(Vt.op){case"array-contains-any":return Vt.value.arrayValue.values||[];case"array-contains":return[Vt.value]}return null}(_,p),k=function(He,Je){const Nt=new Map;for(const Vt of l_(Je))for(const En of jI(He,Vt.fieldPath))switch(En.op){case"==":case"in":Nt.set(Vt.fieldPath.canonicalString(),En.value);break;case"not-in":case"!=":return Nt.set(Vt.fieldPath.canonicalString(),En.value),Array.from(Nt.values())}return null}(_,p),F=function(He,Je){const Nt=[];let Vt=!0;for(const En of l_(Je)){const sr=0===En.kind?S4(He,En.fieldPath,He.startAt):M4(He,En.fieldPath,He.startAt);Nt.push(sr.value),Vt&&(Vt=sr.inclusive)}return new sm(Nt,Vt)}(_,p),q=function(He,Je){const Nt=[];let Vt=!0;for(const En of l_(Je)){const sr=0===En.kind?M4(He,En.fieldPath,He.endAt):S4(He,En.fieldPath,He.endAt);Nt.push(sr.value),Vt&&(Vt=sr.inclusive)}return new sm(Nt,Vt)}(_,p),K=this.hn(p,_,F),ee=this.hn(p,_,q),Oe=this.ln(p,_,k),ze=this.fn(p.indexId,E,K,F.inclusive,ee,q.inclusive,Oe);return fe.forEach(ze,He=>i.H(He,e.limit).next(Je=>{Je.forEach(Nt=>{const Vt=at.fromSegments(Nt.documentKey);c.has(Vt)||(c=c.add(Vt),d.push(Vt))})}))}).next(()=>d)}return fe.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:C$(ei.create(t.filters,"and")).map(i=>IN(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}fn(t,e,i,o,s,c,d){const p=(null!=e?e.length:1)*Math.max(i.length,s.length),_=p/(null!=e?e.length:1),b=[];for(let E=0;E<p;++E){const k=e?this.dn(e[E/_]):tS,F=this.wn(t,k,i[E%_],o),q=this._n(t,k,s[E%_],c),K=d.map(ee=>this.wn(t,k,ee,!0));b.push(...this.createRange(F,q,K))}return b}wn(t,e,i,o){const s=new y_(t,at.empty(),e,i);return o?s:s.Je()}_n(t,e,i,o){const s=new y_(t,at.empty(),e,i);return o?s.Je():s}an(t,e){const i=new w$(e),o=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,o).next(s=>{let c=null;for(const d of s)i.tn(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c})}getIndexType(t,e){let i=2;const o=this.cn(e);return fe.forEach(o,s=>this.an(t,s).next(c=>{c?0!==i&&c.fields.length<function(d){let p=new Ri(vr.comparator),_=!1;for(const b of d.filters)for(const E of b.getFlattenedFilters())E.field.isKeyField()||("array-contains"===E.op||"array-contains-any"===E.op?_=!0:p=p.add(E.field));for(const b of d.orderBy)b.field.isKeyField()||(p=p.add(b.field));return p.size+(_?1:0)}(s)&&(i=1):i=0})).next(()=>null!==e.limit&&o.length>1&&2===i?1:i)}mn(t,e){const i=new N1;for(const o of l_(t)){const s=e.data.field(o.fieldPath);if(null==s)return null;const c=i.He(o.kind);v_.Ve._e(s,c)}return i.Qe()}dn(t){const e=new N1;return v_.Ve._e(t,e.He(0)),e.Qe()}gn(t,e){const i=new N1;return v_.Ve._e(u_(this.databaseId,e),i.He(function(o){const s=l_(o);return 0===s.length?0:s[s.length-1].kind}(t))),i.Qe()}ln(t,e,i){if(null===i)return[];let o=[];o.push(new N1);let s=0;for(const c of l_(t)){const d=i[s++];for(const p of o)if(this.yn(e,c.fieldPath)&&v1(d))o=this.pn(o,c,d);else{const _=p.He(c.kind);v_.Ve._e(d,_)}}return this.In(o)}hn(t,e,i){return this.ln(t,e,i.position)}In(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Qe();return e}pn(t,e,i){const o=[...t],s=[];for(const c of i.arrayValue.values||[])for(const d of o){const p=new N1;p.seed(d.Qe()),v_.Ve._e(c,p.He(e.kind)),s.push(p)}return s}yn(t,e){return!!t.filters.find(i=>i instanceof xn&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=nS(t),o=L1(t);return(e?i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.j()).next(s=>{const c=[];return fe.forEach(s,d=>o.get([d.indexId,this.uid]).next(p=>{c.push(function(_,b){const E=b?new h1(b.sequenceNumber,new Ya(g_(b.readTime),new at(Xu(b.documentKey)),b.largestBatchId)):h1.empty(),k=_.fields.map(([F,q])=>new PI(vr.fromServerFormat(F),q));return new OI(_.indexId,_.collectionGroup,k,E)}(d,p))})).next(()=>c)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,o)=>{const s=i.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==s?s:Qt(i.collectionGroup,o.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const o=nS(t),s=L1(t);return this.Tn(t).next(c=>o.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(d=>fe.forEach(d,p=>s.put(xV(p.indexId,this.user,c,i)))))}updateIndexEntries(t,e){const i=new Map;return fe.forEach(e,(o,s)=>{const c=i.get(o.collectionGroup);return(c?fe.resolve(c):this.getFieldIndexes(t,o.collectionGroup)).next(d=>(i.set(o.collectionGroup,d),fe.forEach(d,p=>this.En(t,o,p).next(_=>{const b=this.An(s,p);return _.isEqual(b)?fe.resolve():this.vn(t,s,p,_,b)}))))})}Rn(t,e,i,o){return F1(t).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.gn(i,e.key),documentKey:e.key.path.toArray()})}Pn(t,e,i,o){return F1(t).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.gn(i,e.key),e.key.path.toArray()])}En(t,e,i){const o=F1(t);let s=new Ri(lm);return o.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,e)])},(c,d)=>{s=s.add(new y_(i.indexId,e,d.arrayValue,d.directionalValue))}).next(()=>s)}An(t,e){let i=new Ri(lm);const o=this.mn(e,t);if(null==o)return i;const s=vN(e);if(null!=s){const c=t.data.field(s.fieldPath);if(v1(c))for(const d of c.arrayValue.values||[])i=i.add(new y_(e.indexId,t.key,this.dn(d),o))}else i=i.add(new y_(e.indexId,t.key,tS,o));return i}vn(t,e,i,o,s){Be("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const c=[];return function(d,p,_,b,E){const k=d.getIterator(),F=p.getIterator();let q=Gb(k),K=Gb(F);for(;q||K;){let ee=!1,Oe=!1;if(q&&K){const ze=_(q,K);ze<0?Oe=!0:ze>0&&(ee=!0)}else null!=q?Oe=!0:ee=!0;ee?(b(K),K=Gb(F)):Oe?(E(q),q=Gb(k)):(q=Gb(k),K=Gb(F))}}(o,s,lm,d=>{c.push(this.Rn(t,e,i,d))},d=>{c.push(this.Pn(t,e,i,d))}),fe.waitFor(c)}Tn(t){let e=1;return L1(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,o,s)=>{s.done(),e=o.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((c,d)=>lm(c,d)).filter((c,d,p)=>!d||0!==lm(c,p[d-1]));const o=[];o.push(t);for(const c of i){const d=lm(c,t),p=lm(c,e);if(0===d)o[0]=t.Je();else if(d>0&&p<0)o.push(c),o.push(c.Je());else if(p>0)break}o.push(e);const s=[];for(let c=0;c<o.length;c+=2){if(this.bn(o[c],o[c+1]))return[];s.push(IDBKeyRange.bound([o[c].indexId,this.uid,o[c].arrayValue,o[c].directionalValue,tS,[]],[o[c+1].indexId,this.uid,o[c+1].arrayValue,o[c+1].directionalValue,tS,[]]))}return s}bn(t,e){return lm(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(RV)}getMinOffset(t,e){return fe.mapArray(this.cn(e),i=>this.an(t,i).next(o=>o||pt())).next(RV)}}function kV(n){return So(n,"collectionParents")}function F1(n){return So(n,"indexEntries")}function nS(n){return So(n,"indexConfiguration")}function L1(n){return So(n,"indexState")}function RV(n){St(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const o=n[i].indexState.offset;yN(o,t)<0&&(t=o),e<o.largestBatchId&&(e=o.largestBatchId)}return new Ya(t.readTime,t.documentKey,e)}const OV={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class gs{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new gs(t,gs.DEFAULT_COLLECTION_PERCENTILE,gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function PV(n,t,e){const i=n.store("mutations"),o=n.store("documentMutations"),s=[],c=IDBKeyRange.only(e.batchId);let d=0;const p=i.X({range:c},(b,E,k)=>(d++,k.delete()));s.push(p.next(()=>{St(1===d)}));const _=[];for(const b of e.mutations){const E=o4(t,b.key.path,e.batchId);s.push(o.delete(E)),_.push(b.key)}return fe.waitFor(s).next(()=>_)}function iS(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw pt();t=n.noDocument}return JSON.stringify(t).length}gs.DEFAULT_COLLECTION_PERCENTILE=10,gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gs.DEFAULT=new gs(41943040,gs.DEFAULT_COLLECTION_PERCENTILE,gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gs.DISABLED=new gs(-1,0,0);class rS{constructor(t,e,i,o){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=o,this.Vn={}}static de(t,e,i,o){St(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new rS(s,e,i,o)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return cm(t).X({index:"userMutationsIndex",range:i},(o,s,c)=>{e=!1,c.done()}).next(()=>e)}addMutationBatch(t,e,i,o){const s=o0(t),c=cm(t);return c.add({}).next(d=>{St("number"==typeof d);const p=new NN(d,e,i,o),_=function(k,F,q){const K=q.baseMutations.map(Oe=>R1(k.fe,Oe)),ee=q.mutations.map(Oe=>R1(k.fe,Oe));return{userId:F,batchId:q.batchId,localWriteTimeMs:q.localWriteTime.toMillis(),baseMutations:K,mutations:ee}}(this.serializer,this.userId,p),b=[];let E=new Ri((k,F)=>Qt(k.canonicalString(),F.canonicalString()));for(const k of o){const F=o4(this.userId,k.key.path,d);E=E.add(k.key.path.popLast()),b.push(c.put(_)),b.push(s.put(F,dz))}return E.forEach(k=>{b.push(this.indexManager.addToCollectionParentIndex(t,k))}),t.addOnCommittedListener(()=>{this.Vn[d]=p.keys()}),fe.waitFor(b).next(()=>p)})}lookupMutationBatch(t,e){return cm(t).get(e).next(i=>i?(St(i.userId===this.userId),__(this.serializer,i)):null)}Sn(t,e){return this.Vn[e]?fe.resolve(this.Vn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const o=i.keys();return this.Vn[e]=o,o}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,o=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return cm(t).X({index:"userMutationsIndex",range:o},(c,d,p)=>{d.userId===this.userId&&(St(d.batchId>=i),s=__(this.serializer,d)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return cm(t).X({index:"userMutationsIndex",range:e,reverse:!0},(o,s,c)=>{i=s.batchId,c.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return cm(t).j("userMutationsIndex",e).next(i=>i.map(o=>__(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=FI(this.userId,e.path),o=IDBKeyRange.lowerBound(i),s=[];return o0(t).X({range:o},(c,d,p)=>{const[_,b,E]=c,k=Xu(b);if(_===this.userId&&e.path.isEqual(k))return cm(t).get(E).next(F=>{if(!F)throw pt();St(F.userId===this.userId),s.push(__(this.serializer,F))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ri(Qt);const o=[];return e.forEach(s=>{const c=FI(this.userId,s.path),d=IDBKeyRange.lowerBound(c),p=o0(t).X({range:d},(_,b,E)=>{const[k,F,q]=_,K=Xu(F);k===this.userId&&s.path.isEqual(K)?i=i.add(q):E.done()});o.push(p)}),fe.waitFor(o).next(()=>this.Dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,o=i.length+1,s=FI(this.userId,i),c=IDBKeyRange.lowerBound(s);let d=new Ri(Qt);return o0(t).X({range:c},(p,_,b)=>{const[E,k,F]=p,q=Xu(k);E===this.userId&&i.isPrefixOf(q)?q.length===o&&(d=d.add(F)):b.done()}).next(()=>this.Dn(t,d))}Dn(t,e){const i=[],o=[];return e.forEach(s=>{o.push(cm(t).get(s).next(c=>{if(null===c)throw pt();St(c.userId===this.userId),i.push(__(this.serializer,c))}))}),fe.waitFor(o).next(()=>i)}removeMutationBatch(t,e){return PV(t.ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Cn(e.batchId)}),fe.forEach(i,o=>this.referenceDelegate.markPotentiallyOrphaned(t,o))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return fe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),o=[];return o0(t).X({range:i},(s,c,d)=>{if(s[0]===this.userId){const p=Xu(s[1]);o.push(p)}else d.done()}).next(()=>{St(0===o.length)})})}containsKey(t,e){return NV(t,this.userId,e)}xn(t){return FV(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function NV(n,t,e){const i=FI(t,e.path),o=i[1],s=IDBKeyRange.lowerBound(i);let c=!1;return o0(n).X({range:s,Y:!0},(d,p,_)=>{const[b,E,k]=d;b===t&&E===o&&(c=!0),_.done()}).next(()=>c)}function cm(n){return So(n,"mutations")}function o0(n){return So(n,"documentMutations")}function FV(n){return So(n,"mutationQueues")}class b_{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new b_(0)}static Mn(){return new b_(-1)}}class E${constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.$n(t).next(e=>{const i=new b_(e.highestTargetId);return e.highestTargetId=i.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(e=>kt.fromTimestamp(new $i(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.$n(t).next(o=>(o.highestListenSequenceNumber=e,i&&(o.lastRemoteSnapshotVersion=i.toTimestamp()),e>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=e),this.On(t,o)))}addTargetData(t,e){return this.Fn(t,e).next(()=>this.$n(t).next(i=>(i.targetCount+=1,this.Bn(e,i),this.On(t,i))))}updateTargetData(t,e){return this.Fn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>s0(t).delete(e.targetId)).next(()=>this.$n(t)).next(i=>(St(i.targetCount>0),i.targetCount-=1,this.On(t,i)))}removeTargets(t,e,i){let o=0;const s=[];return s0(t).X((c,d)=>{const p=O1(d);p.sequenceNumber<=e&&null===i.get(p.targetId)&&(o++,s.push(this.removeTargetData(t,p)))}).next(()=>fe.waitFor(s)).next(()=>o)}forEachTarget(t,e){return s0(t).X((i,o)=>{const s=O1(o);e(s)})}$n(t){return LV(t).get("targetGlobalKey").next(e=>(St(null!==e),e))}On(t,e){return LV(t).put("targetGlobalKey",e)}Fn(t,e){return s0(t).put(wV(this.serializer,e))}Bn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.$n(t).next(e=>e.targetCount)}getTargetData(t,e){const i=d_(e),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return s0(t).X({range:o,index:"queryTargetsIndex"},(c,d,p)=>{const _=O1(d);b1(e,_.target)&&(s=_,p.done())}).next(()=>s)}addMatchingKeys(t,e,i){const o=[],s=um(t);return e.forEach(c=>{const d=ms(c.path);o.push(s.put({targetId:i,path:d})),o.push(this.referenceDelegate.addReference(t,i,c))}),fe.waitFor(o)}removeMatchingKeys(t,e,i){const o=um(t);return fe.forEach(e,s=>{const c=ms(s.path);return fe.waitFor([o.delete([i,c]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=um(t),o=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(o)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),o=um(t);let s=hn();return o.X({range:i,Y:!0},(c,d,p)=>{const _=Xu(c[1]),b=new at(_);s=s.add(b)}).next(()=>s)}containsKey(t,e){const i=ms(e.path),o=IDBKeyRange.bound([i],[K6(i)],!1,!0);let s=0;return um(t).X({index:"documentTargetsIndex",Y:!0,range:o},([c,d],p,_)=>{0!==c&&(s++,_.done())}).next(()=>s>0)}le(t,e){return s0(t).get(e).next(i=>i?O1(i):null)}}function s0(n){return So(n,"targets")}function LV(n){return So(n,"targetGlobal")}function um(n){return So(n,"targetDocuments")}function UV([n,t],[e,i]){const o=Qt(n,e);return 0===o?Qt(t,i):o}class T${constructor(t){this.Ln=t,this.buffer=new Ri(UV),this.qn=0}Un(){return++this.qn}Kn(t){const e=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();UV(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class VV{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var e=this;Be("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,de.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Xp(i)?Be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Jp(i)}yield e.Qn(3e5)}))}}class A${constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.zn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return fe.resolve(Wa.ct);const i=new T$(e);return this.jn.forEachTarget(t,o=>i.Kn(o.sequenceNumber)).next(()=>this.jn.Wn(t,o=>i.Kn(o))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(OV)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OV):this.Hn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,e){let i,o,s,c,d,p,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(t,o))).next(E=>(i=E,d=Date.now(),this.removeTargets(t,i,e))).next(E=>(s=E,p=Date.now(),this.removeOrphanedDocuments(t,i))).next(E=>(_=Date.now(),gN()<=Fs.in.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-b}ms\n\tDetermined least recently used ${o} in `+(d-c)+`ms\n\tRemoved ${s} targets in `+(p-d)+`ms\n\tRemoved ${E} documents in `+(_-p)+`ms\nTotal Duration: ${_-b}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:E})))}}class I${constructor(t,e){this.db=t,this.garbageCollector=function ZV(n,t){return new A$(n,t)}(this,e)}zn(t){const e=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(o=>i+o))}Jn(t){let e=0;return this.Wn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Wn(t,e){return this.Yn(t,(i,o)=>e(o))}addReference(t,e,i){return oS(t,i)}removeReference(t,e,i){return oS(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return oS(t,e)}Xn(t,e){return function(i,o){let s=!1;return FV(i).Z(c=>NV(i,c,o).next(d=>(d&&(s=!0),fe.resolve(!d)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let s=0;return this.Yn(t,(c,d)=>{if(d<=e){const p=this.Xn(t,c).next(_=>{if(!_)return s++,i.getEntry(t,c).next(()=>(i.removeEntry(c,kt.min()),um(t).delete([0,ms(c.path)])))});o.push(p)}}).next(()=>fe.waitFor(o)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return oS(t,e)}Yn(t,e){const i=um(t);let o,s=Wa.ct;return i.X({index:"documentTargetsIndex"},([c,d],{path:p,sequenceNumber:_})=>{0===c?(s!==Wa.ct&&e(new at(Xu(o)),s),s=_,o=p):s=Wa.ct}).next(()=>{s!==Wa.ct&&e(new at(Xu(o)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function oS(n,t){return um(n).put((i=n.currentSequenceNumber,{targetId:0,path:ms(t.path),sequenceNumber:i}));var i}class BV{constructor(){this.changes=new Ph(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Oi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?fe.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class S${constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return w_(t).put(i)}removeEntry(t,e,i){return w_(t).delete(function(o,s){const c=o.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],JI(s),c[c.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Zn(t,i)))}getEntry(t,e){let i=Oi.newInvalidDocument(e);return w_(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(U1(e))},(o,s)=>{i=this.ts(e,s)}).next(()=>i)}es(t,e){let i={size:0,document:Oi.newInvalidDocument(e)};return w_(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(U1(e))},(o,s)=>{i={document:this.ts(e,s),size:iS(s)}}).next(()=>i)}getEntries(t,e){let i=ba();return this.ns(t,e,(o,s)=>{const c=this.ts(o,s);i=i.insert(o,c)}).next(()=>i)}ss(t,e){let i=ba(),o=new Di(at.comparator);return this.ns(t,e,(s,c)=>{const d=this.ts(s,c);i=i.insert(s,d),o=o.insert(s,iS(c))}).next(()=>({documents:i,rs:o}))}ns(t,e,i){if(e.isEmpty())return fe.resolve();let o=new Ri(zV);e.forEach(p=>o=o.add(p));const s=IDBKeyRange.bound(U1(o.first()),U1(o.last())),c=o.getIterator();let d=c.getNext();return w_(t).X({index:"documentKeyIndex",range:s},(p,_,b)=>{const E=at.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;d&&zV(d,E)<0;)i(d,null),d=c.getNext();d&&d.isEqual(E)&&(i(d,_),d=c.hasNext()?c.getNext():null),d?b.G(U1(d)):b.done()}).next(()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(t,e,i,o){const s=e.path,c=[s.popLast().toArray(),s.lastSegment(),JI(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],d=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return w_(t).j(IDBKeyRange.bound(c,d,!0)).next(p=>{let _=ba();for(const b of p){const E=this.ts(at.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);E.isFoundDocument()&&(C1(e,E)||o.has(E.key))&&(_=_.insert(E.key,E))}return _})}getAllFromCollectionGroup(t,e,i,o){let s=ba();const c=jV(e,i),d=jV(e,Ya.max());return w_(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,d,!0)},(p,_,b)=>{const E=this.ts(at.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);s=s.insert(E.key,E),s.size===o&&b.done()}).next(()=>s)}newChangeBuffer(t){return new M$(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return HV(t).get("remoteDocumentGlobalKey").next(e=>(St(!!e),e))}Zn(t,e){return HV(t).put("remoteDocumentGlobalKey",e)}ts(t,e){if(e){const i=function m$(n,t){let e;if(t.document)e=fV(n.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=at.fromSegments(t.noDocument.path),o=g_(t.noDocument.readTime);e=Oi.newNoDocument(i,o),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return pt();{const i=at.fromSegments(t.unknownDocument.path),o=g_(t.unknownDocument.version);e=Oi.newUnknownDocument(i,o)}}return t.readTime&&e.setReadTime(function(i){const o=new $i(i[0],i[1]);return kt.fromTimestamp(o)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(kt.min()))return i}return Oi.newInvalidDocument(t)}}function qV(n){return new S$(n)}class M$ extends BV{constructor(t,e){super(),this.os=t,this.trackRemovals=e,this.us=new Ph(i=>i.toString(),(i,o)=>i.isEqual(o))}applyChanges(t){const e=[];let i=0,o=new Ri((s,c)=>Qt(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const d=this.us.get(s);if(e.push(this.os.removeEntry(t,s,d.readTime)),c.isValidDocument()){const p=bV(this.os.serializer,c);o=o.add(s.path.popLast());const _=iS(p);i+=_-d.size,e.push(this.os.addEntry(t,s,p))}else if(i-=d.size,this.trackRemovals){const p=bV(this.os.serializer,c.convertToNoDocument(kt.min()));e.push(this.os.addEntry(t,s,p))}}),o.forEach(s=>{e.push(this.os.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.os.updateMetadata(t,i)),fe.waitFor(e)}getFromCache(t,e){return this.os.es(t,e).next(i=>(this.us.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.os.ss(t,e).next(({documents:i,rs:o})=>(o.forEach((s,c)=>{this.us.set(s,{size:c,readTime:i.get(s).readTime})}),i))}}function HV(n){return So(n,"remoteDocumentGlobal")}function w_(n){return So(n,"remoteDocumentsV14")}function U1(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function jV(n,t){const e=t.documentKey.path.toArray();return[n,JI(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function zV(n,t){const e=n.path.toArray(),i=t.path.toArray();let o=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(o=Qt(e[s],i[s]),o)return o;return o=Qt(e.length,i.length),o||(o=Qt(e[e.length-2],i[i.length-2]),o||Qt(e[e.length-1],i[i.length-1]))}class k${constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class $V{constructor(t,e,i,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=o}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(o=>(i=o,this.remoteDocumentCache.getEntry(t,e))).next(o=>(null!==i&&T1(i.mutation,o,ya.empty(),$i.now()),o))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,hn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=hn()){const o=td();return this.populateOverlays(t,o,e).next(()=>this.computeViews(t,e,o,i).next(s=>{let c=x1();return s.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=td();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,hn()))}populateOverlays(t,e,i){const o=[];return i.forEach(s=>{e.has(s)||o.push(s)}),this.documentOverlayCache.getOverlays(t,o).next(s=>{s.forEach((c,d)=>{e.set(c,d)})})}computeViews(t,e,i,o){let s=ba();const c=D1(),d=D1();return e.forEach((p,_)=>{const b=i.get(_.key);o.has(_.key)&&(void 0===b||b.mutation instanceof Nh)?s=s.insert(_.key,_):void 0!==b?(c.set(_.key,b.mutation.getFieldMask()),T1(b.mutation,_,b.mutation.getFieldMask(),$i.now())):c.set(_.key,ya.empty())}),this.recalculateAndSaveOverlays(t,s).next(p=>(p.forEach((_,b)=>c.set(_,b)),e.forEach((_,b)=>{var E;return d.set(_,new k$(b,null!==(E=c.get(_))&&void 0!==E?E:null))}),d))}recalculateAndSaveOverlays(t,e){const i=D1();let o=new Di((c,d)=>c-d),s=hn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const d of c)d.keys().forEach(p=>{const _=e.get(p);if(null===_)return;let b=i.get(p)||ya.empty();b=d.applyToLocalView(_,b),i.set(p,b);const E=(o.get(d.batchId)||hn()).add(p);o=o.insert(d.batchId,E)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),_=p.key,b=p.value,E=U4();b.forEach(k=>{if(!s.has(k)){const F=G4(e.get(k),i.get(k));null!==F&&E.set(k,F),s=s.add(k)}}),c.push(this.documentOverlayCache.saveOverlays(t,_,E))}return fe.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return at.isDocumentKey((o=e).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):MN(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var o}getNextDocuments(t,e,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,o).next(s=>{const c=o-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,o-s.size):fe.resolve(td());let d=-1,p=s;return c.next(_=>fe.forEach(_,(b,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),s.get(b)?fe.resolve():this.remoteDocumentCache.getEntry(t,b).next(k=>{p=p.insert(b,k)}))).next(()=>this.populateOverlays(t,_,s)).next(()=>this.computeViews(t,p,_,hn())).next(b=>({batchId:d,changes:L4(b)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new at(e)).next(i=>{let o=x1();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const o=e.collectionGroup;let s=x1();return this.indexManager.getCollectionParents(t,o).next(c=>fe.forEach(c,d=>{const p=(_=e,b=d.child(o),new Oh(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,b;return this.getDocumentsMatchingCollectionQuery(t,p,i).next(_=>{_.forEach((b,E)=>{s=s.insert(b,E)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o))).next(s=>{o.forEach((d,p)=>{const _=p.getKey();null===s.get(_)&&(s=s.insert(_,Oi.newInvalidDocument(_)))});let c=x1();return s.forEach((d,p)=>{const _=o.get(d);void 0!==_&&T1(_.mutation,p,ya.empty(),$i.now()),C1(e,p)&&(c=c.insert(d,p))}),c})}}class R${constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return fe.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var i;return this.cs.set(e.id,{id:(i=e).id,version:i.version,createTime:Or(i.createTime)}),fe.resolve()}getNamedQuery(t,e){return fe.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,{name:(i=e).name,query:zN(i.bundledQuery),readTime:Or(i.readTime)}),fe.resolve();var i}}class O${constructor(){this.overlays=new Di(at.comparator),this.ls=new Map}getOverlay(t,e){return fe.resolve(this.overlays.get(e))}getOverlays(t,e){const i=td();return fe.forEach(e,o=>this.getOverlay(t,o).next(s=>{null!==s&&i.set(o,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((o,s)=>{this.we(t,e,s)}),fe.resolve()}removeOverlaysForBatchId(t,e,i){const o=this.ls.get(i);return void 0!==o&&(o.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),fe.resolve()}getOverlaysForCollection(t,e,i){const o=td(),s=e.length+1,c=new at(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,_=p.getKey();if(!e.isPrefixOf(_.path))break;_.path.length===s&&p.largestBatchId>i&&o.set(p.getKey(),p)}return fe.resolve(o)}getOverlaysForCollectionGroup(t,e,i,o){let s=new Di((_,b)=>_-b);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===e&&_.largestBatchId>i){let b=s.get(_.largestBatchId);null===b&&(b=td(),s=s.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const d=td(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,b)=>d.set(_,b)),!(d.size()>=o)););return fe.resolve(d)}we(t,e,i){const o=this.overlays.get(i.key);if(null!==o){const c=this.ls.get(o.largestBatchId).delete(i.key);this.ls.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new LN(e,i));let s=this.ls.get(e);void 0===s&&(s=hn(),this.ls.set(e,s)),this.ls.set(e,s.add(i.key))}}class JN{constructor(){this.fs=new Ri(Mo.ds),this.ws=new Ri(Mo._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const i=new Mo(t,e);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.ys(new Mo(t,e))}ps(t,e){t.forEach(i=>this.removeReference(i,e))}Is(t){const e=new at(new Rn([])),i=new Mo(e,t),o=new Mo(e,t+1),s=[];return this.ws.forEachInRange([i,o],c=>{this.ys(c),s.push(c.key)}),s}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new at(new Rn([])),i=new Mo(e,t),o=new Mo(e,t+1);let s=hn();return this.ws.forEachInRange([i,o],c=>{s=s.add(c.key)}),s}containsKey(t){const e=new Mo(t,0),i=this.fs.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Mo{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return at.comparator(t.key,e.key)||Qt(t.As,e.As)}static _s(t,e){return Qt(t.As,e.As)||at.comparator(t.key,e.key)}}class P${constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new Ri(Mo.ds)}checkEmpty(t){return fe.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,o){const s=this.vs;this.vs++;const c=new NN(s,e,i,o);this.mutationQueue.push(c);for(const d of o)this.Rs=this.Rs.add(new Mo(d.key,s)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return fe.resolve(c)}lookupMutationBatch(t,e){return fe.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const o=this.bs(e+1),s=o<0?0:o;return fe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Mo(e,0),o=new Mo(e,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,o],c=>{const d=this.Ps(c.As);s.push(d)}),fe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ri(Qt);return e.forEach(o=>{const s=new Mo(o,0),c=new Mo(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,c],d=>{i=i.add(d.As)})}),fe.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,o=i.length+1;let s=i;at.isDocumentKey(s)||(s=s.child(""));const c=new Mo(new at(s),0);let d=new Ri(Qt);return this.Rs.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===o&&(d=d.add(p.As)),!0)},c),fe.resolve(this.Vs(d))}Vs(t){const e=[];return t.forEach(i=>{const o=this.Ps(i);null!==o&&e.push(o)}),e}removeMutationBatch(t,e){St(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return fe.forEach(e.mutations,o=>{const s=new Mo(o.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Rs=i})}Cn(t){}containsKey(t,e){const i=new Mo(e,0),o=this.Rs.firstAfterOrEqual(i);return fe.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return fe.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class N${constructor(t){this.Ds=t,this.docs=new Di(at.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,o=this.docs.get(i),s=o?o.size:0,c=this.Ds(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return fe.resolve(i?i.document.mutableCopy():Oi.newInvalidDocument(e))}getEntries(t,e){let i=ba();return e.forEach(o=>{const s=this.docs.get(o);i=i.insert(o,s?s.document.mutableCopy():Oi.newInvalidDocument(o))}),fe.resolve(i)}getDocumentsMatchingQuery(t,e,i,o){let s=ba();const c=e.path,d=new at(c.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:_,value:{document:b}}=p.getNext();if(!c.isPrefixOf(_.path))break;_.path.length>c.length+1||yN(J6(b),i)<=0||(o.has(b.key)||C1(e,b))&&(s=s.insert(b.key,b.mutableCopy()))}return fe.resolve(s)}getAllFromCollectionGroup(t,e,i,o){pt()}Cs(t,e){return fe.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new F$(this)}getSize(t){return fe.resolve(this.size)}}class F$ extends BV{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?e.push(this.os.addEntry(t,o)):this.os.removeEntry(i)}),fe.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class L${constructor(t){this.persistence=t,this.xs=new Ph(e=>d_(e),b1),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new JN,this.targetCount=0,this.Ms=b_.kn()}forEachTarget(t,e){return this.xs.forEach((i,o)=>e(o)),fe.resolve()}getLastRemoteSnapshotVersion(t){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return fe.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ns&&(this.Ns=e),fe.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new b_(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,fe.resolve()}updateTargetData(t,e){return this.Fn(e),fe.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,fe.resolve()}removeTargets(t,e,i){let o=0;const s=[];return this.xs.forEach((c,d)=>{d.sequenceNumber<=e&&null===i.get(d.targetId)&&(this.xs.delete(c),s.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)}),fe.waitFor(s).next(()=>o)}getTargetCount(t){return fe.resolve(this.targetCount)}getTargetData(t,e){const i=this.xs.get(e)||null;return fe.resolve(i)}addMatchingKeys(t,e,i){return this.ks.gs(e,i),fe.resolve()}removeMatchingKeys(t,e,i){this.ks.ps(e,i);const o=this.persistence.referenceDelegate,s=[];return o&&e.forEach(c=>{s.push(o.markPotentiallyOrphaned(t,c))}),fe.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),fe.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ks.Es(e);return fe.resolve(i)}containsKey(t,e){return fe.resolve(this.ks.containsKey(e))}}class XN{constructor(t,e){this.$s={},this.overlays={},this.Os=new Wa(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new L$(this),this.indexManager=new x$,this.remoteDocumentCache=new N$(i=>this.referenceDelegate.Ls(i)),this.serializer=new yV(e),this.qs=new R$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new O$,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.$s[t.toKey()];return i||(i=new P$(e,this.referenceDelegate),this.$s[t.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,i){Be("MemoryPersistence","Starting transaction:",t);const o=new U$(this.Os.next());return this.referenceDelegate.Us(),i(o).next(s=>this.referenceDelegate.Ks(o).next(()=>s)).toPromise().then(s=>(o.raiseOnCommittedEvent(),s))}Gs(t,e){return fe.or(Object.values(this.$s).map(i=>()=>i.containsKey(t,e)))}}class U$ extends e4{constructor(t){super(),this.currentSequenceNumber=t}}class sS{constructor(t){this.persistence=t,this.Qs=new JN,this.js=null}static zs(t){return new sS(t)}get Ws(){if(this.js)return this.js;throw pt()}addReference(t,e,i){return this.Qs.addReference(i,e),this.Ws.delete(i.toString()),fe.resolve()}removeReference(t,e,i){return this.Qs.removeReference(i,e),this.Ws.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),fe.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach(o=>this.Ws.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(o=>{o.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Ws,i=>{const o=at.fromPath(i);return this.Hs(t,o).next(s=>{s||e.removeEntry(o,kt.min())})}).next(()=>(this.js=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hs(t,e).next(i=>{i?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(t){return 0}Hs(t,e){return fe.or([()=>fe.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class V${constructor(t){this.serializer=t}O(t,e,i,o){const s=new NI("createOrUpgrade",e);var d;i<1&&o>=1&&(t.createObjectStore("owner"),(d=t).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",r4,{unique:!0}),d.createObjectStore("documentMutations"),GV(t),function(d){d.createObjectStore("remoteDocuments")}(t));let c=fe.resolve();return i<3&&o>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(t),GV(t)),c=c.next(()=>function(d){const p=d.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:kt.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",_)}(s))),i<4&&o>=4&&(0!==i&&(c=c.next(()=>function(d,p){return p.store("mutations").j().next(_=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",r4,{unique:!0});const b=p.store("mutations"),E=_.map(k=>b.put(k));return fe.waitFor(E)})}(t,s))),c=c.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&o>=5&&(c=c.next(()=>this.Ys(s))),i<6&&o>=6&&(c=c.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(s)))),i<7&&o>=7&&(c=c.next(()=>this.Zs(s))),i<8&&o>=8&&(c=c.next(()=>this.ti(t,s))),i<9&&o>=9&&(c=c.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&o>=10&&(c=c.next(()=>this.ei(s))),i<11&&o>=11&&(c=c.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&o>=12&&(c=c.next(()=>{!function(d){const p=d.createObjectStore("documentOverlays",{keyPath:xz});p.createIndex("collectionPathOverlayIndex",Dz,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",Ez,{unique:!1})}(t)})),i<13&&o>=13&&(c=c.next(()=>function(d){const p=d.createObjectStore("remoteDocumentsV14",{keyPath:hz});p.createIndex("documentKeyIndex",fz),p.createIndex("collectionGroupIndex",pz)}(t)).next(()=>this.ni(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&o>=14&&(c=c.next(()=>this.si(t,s))),i<15&&o>=15&&(c=c.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:yz}).createIndex("sequenceNumberIndex",bz,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:wz}).createIndex("documentKeyIndex",Cz,{unique:!1})}(t))),c}Xs(t){let e=0;return t.store("remoteDocuments").X((i,o)=>{e+=iS(o)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.j().next(o=>fe.forEach(o,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",c).next(d=>fe.forEach(d,p=>{St(p.userId===s.userId);const _=__(this.serializer,p);return PV(t,s.userId,_).next(()=>{})}))}))}Zs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(o=>{const s=[];return i.X((c,d)=>{const p=new Rn(c),_=[0,ms(p)];s.push(e.get(_).next(b=>b?fe.resolve():e.put({targetId:0,path:ms(p),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>fe.waitFor(s))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:vz});const i=e.store("collectionParents"),o=new QN,s=c=>{if(o.add(c)){const d=c.lastSegment(),p=c.popLast();return i.put({collectionId:d,parent:ms(p)})}};return e.store("remoteDocuments").X({Y:!0},(c,d)=>{const p=new Rn(c);return s(p.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([c,d,p],_)=>{const b=Xu(d);return s(b.popLast())}))}ei(t){const e=t.store("targets");return e.X((i,o)=>{const s=O1(o),c=wV(this.serializer,s);return e.put(c)})}ni(t,e){const i=e.store("remoteDocuments"),o=[];return i.X((s,c)=>{const d=e.store("remoteDocumentsV14"),p=(_=c,_.document?new at(Rn.fromString(_.document.name).popFirst(5)):_.noDocument?at.fromSegments(_.noDocument.path):_.unknownDocument?at.fromSegments(_.unknownDocument.path):pt()).path.toArray();var _;const b={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};o.push(d.put(b))}).next(()=>fe.waitFor(o))}si(t,e){const i=e.store("mutations"),o=qV(this.serializer),s=new XN(sS.zs,this.serializer.fe);return i.j().next(c=>{const d=new Map;return c.forEach(p=>{var _;let b=null!==(_=d.get(p.userId))&&void 0!==_?_:hn();__(this.serializer,p).keys().forEach(E=>b=b.add(E)),d.set(p.userId,b)}),fe.forEach(d,(p,_)=>{const b=new Io(_),E=XI.de(this.serializer,b),k=s.getIndexManager(b),F=rS.de(b,this.serializer,k,s.referenceDelegate);return new $V(o,F,E,k).recalculateAndSaveOverlaysForDocumentKeys(new CN(e,Wa.ct),p).next()})})}}function GV(n){n.createObjectStore("targetDocuments",{keyPath:gz}).createIndex("documentTargetsIndex",_z,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",mz,{unique:!0}),n.createObjectStore("targetGlobal")}const eF="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class tF{constructor(t,e,i,o,s,c,d,p,_,b,E=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ii=s,this.window=c,this.document=d,this.ri=_,this.oi=b,this.ui=E,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=k=>Promise.resolve(),!tF.D())throw new Re(ge.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new I$(this,o),this.di=e+"main",this.serializer=new yV(p),this.wi=new $c(this.di,this.ui,new V$(this.serializer)),this.Bs=new E$(this.referenceDelegate,this.serializer),this.remoteDocumentCache=qV(this.serializer),this.qs=new g$,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===b&&Rr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(ge.FAILED_PRECONDITION,eF);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new Wa(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var e=this;return this.fi=function(){var i=(0,de.Z)(function*(o){if(e.started)return t(o)});return function(o){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var e=(0,de.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,de.Z)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>lS(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(e=>this.isPrimary&&!e?this.Ai(t).next(()=>!1):!!e&&this.vi(t).next(()=>!0))).catch(t=>{if(Xp(t))return Be("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return V1(t).get("owner").next(e=>fe.resolve(this.Ri(e)))}Pi(t){return lS(t).delete(this.clientId)}bi(){var t=this;return(0,de.Z)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const o=So(i,"clientMetadata");return o.j().next(s=>{const c=t.Si(s,18e5),d=s.filter(p=>-1===c.indexOf(p));return fe.forEach(d,p=>o.delete(p.clientId)).next(()=>d)})}).catch(()=>[]);if(t._i)for(const i of e)t._i.removeItem(t.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?fe.resolve(!0):V1(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new Re(ge.FAILED_PRECONDITION,eF);return!1}}return!(!this.networkEnabled||!this.inForeground)||lS(t).j().next(i=>void 0===this.Si(i,5e3).find(o=>!(this.clientId===o.clientId||!(!this.networkEnabled&&o.networkEnabled||!this.inForeground&&o.inForeground&&this.networkEnabled===o.networkEnabled))))}).next(e=>(this.isPrimary!==e&&Be("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,de.Z)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new CN(e,Wa.ct);return t.Ai(i).next(()=>t.Pi(i))}),t.wi.close(),t.Mi()})()}Si(t,e){return t.filter(i=>this.Vi(i.updateTimeMs,e)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>lS(t).j().next(e=>this.Si(e,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(t,e){return rS.de(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new D$(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return XI.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,e,i){Be("IndexedDbPersistence","Starting transaction:",t);const o="readonly"===e?"readonly":"readwrite",s=15===(c=this.ui)?Az:14===c?l4:13===c?a4:12===c?Tz:11===c?s4:void pt();var c;let d;return this.wi.runTransaction(t,o,s,p=>(d=new CN(p,this.Os?this.Os.next():Wa.ct),"readwrite-primary"===e?this.Ti(d).next(_=>!!_||this.Ei(d)).next(_=>{if(!_)throw Rr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Re(ge.FAILED_PRECONDITION,X6);return i(d)}).next(_=>this.vi(d).next(()=>_)):this.Oi(d).next(()=>i(d)))).then(p=>(d.raiseOnCommittedEvent(),p))}Oi(t){return V1(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Re(ge.FAILED_PRECONDITION,eF)})}vi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return V1(t).put("owner",e)}static D(){return $c.D()}Ai(t){const e=V1(t);return e.get("owner").next(i=>this.Ri(i)?(Be("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):fe.resolve())}Vi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Rr(`Detected an update time that is in the future: ${t} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,V.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var e;try{const i=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(t)));return Be("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Rr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){Rr("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function V1(n){return So(n,"owner")}function lS(n){return So(n,"clientMetadata")}function nF(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class iF{constructor(t,e,i,o){this.targetId=t,this.fromCache=e,this.Fi=i,this.Bi=o}static Li(t,e){let i=hn(),o=hn();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:o=o.add(s.doc.key)}return new iF(t,e.fromCache,i,o)}}class YV{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,i,o){return this.Ki(t,e).next(s=>s||this.Gi(t,e,o,i)).next(s=>s||this.Qi(t,e))}Ki(t,e){if(R4(e))return fe.resolve(null);let i=Gs(e);return this.indexManager.getIndexType(t,i).next(o=>0===o?null:(null!==e.limit&&1===o&&(e=$I(e,null,"F"),i=Gs(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const c=hn(...s);return this.Ui.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,i).next(p=>{const _=this.ji(e,d);return this.zi(e,_,c,p.readTime)?this.Ki(t,$I(e,null,"F")):this.Wi(t,_,e,p)}))})))}Gi(t,e,i,o){return R4(e)||o.isEqual(kt.min())?this.Qi(t,e):this.Ui.getDocuments(t,i).next(s=>{const c=this.ji(e,s);return this.zi(e,c,i,o)?this.Qi(t,e):(gN()<=Fs.in.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),RN(e)),this.Wi(t,c,e,Q6(o,-1)))})}ji(t,e){let i=new Ri(N4(t));return e.forEach((o,s)=>{C1(t,s)&&(i=i.add(s))}),i}zi(t,e,i,o){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)}Qi(t,e){return gN()<=Fs.in.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",RN(e)),this.Ui.getDocumentsMatchingQuery(t,e,Ya.min())}Wi(t,e,i,o){return this.Ui.getDocumentsMatchingQuery(t,i,o).next(s=>(e.forEach(c=>{s=s.insert(c.key,c)}),s))}}class Z${constructor(t,e,i,o){this.persistence=t,this.Hi=e,this.serializer=o,this.Ji=new Di(Qt),this.Yi=new Ph(s=>d_(s),b1),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(i)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new $V(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ji))}}function WV(n,t,e,i){return new Z$(n,t,e,i)}function KV(n,t){return rF.apply(this,arguments)}function rF(){return rF=(0,de.Z)(function*(n,t){const e=ut(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let o;return e.mutationQueue.getAllMutationBatches(i).next(s=>(o=s,e.tr(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const c=[],d=[];let p=hn();for(const _ of o){c.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}for(const _ of s){d.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}return e.localDocuments.getDocuments(i,p).next(_=>({er:_,removedBatchIds:c,addedBatchIds:d}))})})}),rF.apply(this,arguments)}function QV(n){const t=ut(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function JV(n,t,e){let i=hn(),o=hn();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let c=ba();return e.forEach((d,p)=>{const _=s.get(d);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(kt.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||0===p.version.compareTo(_.version)&&_.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):Be("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",p.version)}),{nr:c,sr:o}})}function H$(n,t){const e=ut(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function a0(n,t){const e=ut(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return e.Bs.getTargetData(i,t).next(s=>s?(o=s,fe.resolve(o)):e.Bs.allocateTargetId(i).next(c=>(o=new Fh(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Bs.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=e.Ji.get(i.targetId);return(null===o||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(i.targetId,i),e.Yi.set(t,i.targetId)),i})}function l0(n,t,e){return oF.apply(this,arguments)}function oF(){return oF=(0,de.Z)(function*(n,t,e){const i=ut(n),o=i.Ji.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,c=>i.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Xp(c))throw c;Be("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(o.target)}),oF.apply(this,arguments)}function cS(n,t,e){const i=ut(n);let o=kt.min(),s=hn();return i.persistence.runTransaction("Execute query","readonly",c=>function(d,p,_){const b=ut(d),E=b.Yi.get(_);return void 0!==E?fe.resolve(b.Ji.get(E)):b.Bs.getTargetData(p,_)}(i,c,Gs(t)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(c,d.targetId).next(p=>{s=p})}).next(()=>i.Hi.getDocumentsMatchingQuery(c,t,e?o:kt.min(),e?s:hn())).next(d=>(tZ(i,P4(t),d),{documents:d,ir:s})))}function XV(n,t){const e=ut(n),i=ut(e.Bs),o=e.Ji.get(t);return o?Promise.resolve(o.target):e.persistence.runTransaction("Get target data","readonly",s=>i.le(s,t).next(c=>c?c.target:null))}function eZ(n,t){const e=ut(n),i=e.Xi.get(t)||kt.min();return e.persistence.runTransaction("Get new document changes","readonly",o=>e.Zi.getAllFromCollectionGroup(o,t,Q6(i,-1),Number.MAX_SAFE_INTEGER)).then(o=>(tZ(e,t,o),o))}function tZ(n,t,e){let i=n.Xi.get(t)||kt.min();e.forEach((o,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(t,i)}function sF(){return sF=(0,de.Z)(function*(n,t,e,i){const o=ut(n);let s=hn(),c=ba();for(const _ of e){const b=t.rr(_.metadata.name);_.document&&(s=s.add(b));const E=t.ur(_);E.setReadTime(t.cr(_.metadata.readTime)),c=c.insert(b,E)}const d=o.Zi.newChangeBuffer({trackRemovals:!0}),p=yield a0(o,(_=i,Gs(Qb(Rn.fromString(`__bundle__/docs/${_}`)))));var _;return o.persistence.runTransaction("Apply bundle documents","readwrite",_=>JV(_,d,c).next(b=>(d.apply(_),b)).next(b=>o.Bs.removeMatchingKeysForTargetId(_,p.targetId).next(()=>o.Bs.addMatchingKeys(_,s,p.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(_,b.nr,b.sr)).next(()=>b.nr)))}),sF.apply(this,arguments)}function z$(n,t){return aF.apply(this,arguments)}function aF(){return aF=(0,de.Z)(function*(n,t,e=hn()){const i=yield a0(n,Gs(zN(t.bundledQuery))),o=ut(n);return o.persistence.runTransaction("Save named query","readwrite",s=>{const c=Or(t.readTime);if(i.snapshotVersion.compareTo(c)>=0)return o.qs.saveNamedQuery(s,t);const d=i.withResumeToken(ho.EMPTY_BYTE_STRING,c);return o.Ji=o.Ji.insert(d.targetId,d),o.Bs.updateTargetData(s,d).next(()=>o.Bs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>o.Bs.addMatchingKeys(s,e,i.targetId)).next(()=>o.qs.saveNamedQuery(s,t))})}),aF.apply(this,arguments)}function nZ(n,t){return`firestore_clients_${n}_${t}`}function iZ(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function lF(n,t){return`firestore_targets_${n}_${t}`}class uS{constructor(t,e,i,o){this.user=t,this.batchId=e,this.state=i,this.error=o}static ar(t,e,i){const o=JSON.parse(i);let s,c="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return c&&o.error&&(c="string"==typeof o.error.message&&"string"==typeof o.error.code,c&&(s=new Re(o.error.code,o.error.message))),c?new uS(t,e,o.state,s):(Rr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Z1{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static ar(t,e){const i=JSON.parse(e);let o,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(o=new Re(i.error.code,i.error.message))),s?new Z1(t,i.state,o):(Rr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class dS{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static ar(t,e){const i=JSON.parse(e);let o="object"==typeof i&&i.activeTargetIds instanceof Array,s=ON();for(let c=0;o&&c<i.activeTargetIds.length;++c)o=n4(i.activeTargetIds[c]),s=s.add(i.activeTargetIds[c]);return o?new dS(t,s):(Rr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class cF{constructor(t,e){this.clientId=t,this.onlineState=e}static ar(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new cF(e.clientId,e.onlineState):(Rr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class uF{constructor(){this.activeTargetIds=ON()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class dF{constructor(t,e,i,o,s){this.window=t,this.ii=e,this.persistenceKey=i,this.wr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Di(Qt),this.started=!1,this.yr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=nZ(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new uF),this.Tr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,de.Z)(function*(){const e=yield t.syncEngine.$i();for(const o of e){if(o===t.wr)continue;const s=t.getItem(nZ(t.persistenceKey,o));if(s){const c=dS.ar(o,s);c&&(t.gr=t.gr.insert(c.clientId,c))}}t.Pr();const i=t.storage.getItem(t.vr);if(i){const o=t.br(i);o&&t.Vr(o)}for(const o of t.yr)t.mr(o);t.yr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let e=!1;return this.gr.forEach((i,o)=>{o.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,e,i){this.Dr(t,e,i),this.Cr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(lF(this.persistenceKey,t));if(i){const o=Z1.ar(t,i);o&&(e=o.state)}}return this.Nr.lr(t),this.Pr(),e}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(lF(this.persistenceKey,t))}updateQueryState(t,e,i){this.kr(t,e,i)}handleUserChange(t,e,i){e.forEach(o=>{this.Cr(o)}),this.currentUser=t,i.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Be("SharedClientState","READ",t,e),e}setItem(t,e){Be("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Be("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Be("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void Rr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,de.Z)(function*(){if(e.started){if(null!==i.key)if(e.Tr.test(i.key)){if(null==i.newValue){const o=e.Or(i.key);return e.Fr(o,null)}{const o=e.Br(i.key,i.newValue);if(o)return e.Fr(o.clientId,o)}}else if(e.Er.test(i.key)){if(null!==i.newValue){const o=e.Lr(i.key,i.newValue);if(o)return e.qr(o)}}else if(e.Ar.test(i.key)){if(null!==i.newValue){const o=e.Ur(i.key,i.newValue);if(o)return e.Kr(o)}}else if(i.key===e.vr){if(null!==i.newValue){const o=e.br(i.newValue);if(o)return e.Vr(o)}}else if(i.key===e.Ir){const o=function(s){let c=Wa.ct;if(null!=s)try{const d=JSON.parse(s);St("number"==typeof d),c=d}catch(d){Rr("SharedClientState","Failed to read sequence number from WebStorage",d)}return c}(i.newValue);o!==Wa.ct&&e.sequenceNumberHandler(o)}else if(i.key===e.Rr){const o=e.Gr(i.newValue);yield Promise.all(o.map(s=>e.syncEngine.Qr(s)))}}else e.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,e,i){const o=new uS(this.currentUser,t,e,i),s=iZ(this.persistenceKey,this.currentUser,t);this.setItem(s,o.hr())}Cr(t){const e=iZ(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Mr(t){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:t}))}kr(t,e,i){const o=lF(this.persistenceKey,t),s=new Z1(t,e,i);this.setItem(o,s.hr())}$r(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Tr.exec(t);return e?e[1]:null}Br(t,e){const i=this.Or(t);return dS.ar(i,e)}Lr(t,e){const i=this.Er.exec(t),o=Number(i[1]);return uS.ar(new Io(void 0!==i[2]?i[2]:null),o,e)}Ur(t,e){const i=this.Ar.exec(t),o=Number(i[1]);return Z1.ar(o,e)}br(t){return cF.ar(t)}Gr(t){return JSON.parse(t)}qr(t){var e=this;return(0,de.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.jr(t.batchId,t.state,t.error);Be("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,e){const i=e?this.gr.insert(t,e):this.gr.remove(t),o=this.Sr(this.gr),s=this.Sr(i),c=[],d=[];return s.forEach(p=>{o.has(p)||c.push(p)}),o.forEach(p=>{s.has(p)||d.push(p)}),this.syncEngine.Wr(c,d).then(()=>{this.gr=i})}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let e=ON();return t.forEach((i,o)=>{e=e.unionWith(o.activeTargetIds)}),e}}class rZ{constructor(){this.Hr=new uF,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,i){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new uF,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class $${Yr(t){}shutdown(){}}class oZ{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let hS=null;function hF(){return null===hS?hS=268435456+Math.round(2147483648*Math.random()):hS++,"0x"+hS.toString(16)}const G$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Y${constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const _s="WebChannelConnection";class W$ extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,i,o,s){const c=hF(),d=this.To(t,e);Be("RestConnection",`Sending RPC '${t}' ${c}:`,d,i);const p={};return this.Eo(p,o,s),this.Ao(t,d,p,i).then(_=>(Be("RestConnection",`Received RPC '${t}' ${c}: `,_),_),_=>{throw Vl("RestConnection",`RPC '${t}' ${c} failed with error: `,_,"url: ",d,"request:",i),_})}vo(t,e,i,o,s,c){return this.Io(t,e,i,o,s)}Eo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+zb,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}To(t,e){return`${this.mo}/v1/${e}:${G$[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,i,o){const s=hF();return new Promise((c,d)=>{const p=new $8;p.setWithCredentials(!0),p.listenOnce(H8.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case mN.NO_ERROR:const b=p.getResponseJson();Be(_s,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(b)),c(b);break;case mN.TIMEOUT:Be(_s,`RPC '${t}' ${s} timed out`),d(new Re(ge.DEADLINE_EXCEEDED,"Request time out"));break;case mN.HTTP_ERROR:const E=p.getStatus();if(Be(_s,`RPC '${t}' ${s} failed with status:`,E,"response text:",p.getResponseText()),E>0){let k=p.getResponseJson();Array.isArray(k)&&(k=k[0]);const F=k?.error;if(F&&F.status&&F.message){const q=function(K){const ee=K.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(ee)>=0?ee:ge.UNKNOWN}(F.status);d(new Re(q,F.message))}else d(new Re(ge.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Re(ge.UNAVAILABLE,"Connection failed."));break;default:pt()}}finally{Be(_s,`RPC '${t}' ${s} completed.`)}});const _=JSON.stringify(o);Be(_s,`RPC '${t}' ${s} sending request:`,o),p.send(e,"POST",_,i,15)})}Ro(t,e,i){const o=hF(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=B8(),d=q8(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;void 0!==_&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.xmlHttpFactory=new z8({})),this.Eo(p.initMessageHeaders,e,i),p.encodeInitMessageHeaders=!0;const b=s.join("");Be(_s,`Creating RPC '${t}' stream ${o}: ${b}`,p);const E=c.createWebChannel(b,p);let k=!1,F=!1;const q=new Y$({ro:ee=>{F?Be(_s,`Not sending because RPC '${t}' stream ${o} is closed:`,ee):(k||(Be(_s,`Opening RPC '${t}' stream ${o} transport.`),E.open(),k=!0),Be(_s,`RPC '${t}' stream ${o} sending:`,ee),E.send(ee))},oo:()=>E.close()}),K=(ee,Oe,ze)=>{ee.listen(Oe,He=>{try{ze(He)}catch(Je){setTimeout(()=>{throw Je},0)}})};return K(E,RI.EventType.OPEN,()=>{F||Be(_s,`RPC '${t}' stream ${o} transport opened.`)}),K(E,RI.EventType.CLOSE,()=>{F||(F=!0,Be(_s,`RPC '${t}' stream ${o} transport closed`),q.wo())}),K(E,RI.EventType.ERROR,ee=>{F||(F=!0,Vl(_s,`RPC '${t}' stream ${o} transport errored:`,ee),q.wo(new Re(ge.UNAVAILABLE,"The operation could not be completed")))}),K(E,RI.EventType.MESSAGE,ee=>{var Oe;if(!F){const ze=ee.data[0];St(!!ze);const Je=ze.error||(null===(Oe=ze[0])||void 0===Oe?void 0:Oe.error);if(Je){Be(_s,`RPC '${t}' stream ${o} received error:`,Je);const Nt=Je.status;let Vt=function(sr){const ws=Gr[sr];if(void 0!==ws)return X4(ws)}(Nt),En=Je.message;void 0===Vt&&(Vt=ge.INTERNAL,En="Unknown error status: "+Nt+" with message "+Je.message),F=!0,q.wo(new Re(Vt,En)),E.close()}else Be(_s,`RPC '${t}' stream ${o} received:`,ze),q._o(ze)}}),K(d,j8.STAT_EVENT,ee=>{ee.stat===z6.PROXY?Be(_s,`RPC '${t}' stream ${o} detected buffering proxy`):ee.stat===z6.NOPROXY&&Be(_s,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{q.fo()},0),q}}function sZ(){return typeof window<"u"?window:null}function fS(){return typeof document<"u"?document:null}function B1(n){return new o$(n,!0)}class fF{constructor(t,e,i=1e3,o=1.5,s=6e4){this.ii=t,this.timerId=e,this.Po=i,this.bo=o,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),o=Math.max(0,e-i);o>0&&Be("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class aZ{constructor(t,e,i,o,s,c,d,p){this.ii=t,this.$o=i,this.Oo=o,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new fF(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,de.Z)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,de.Z)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,e){var i=this;return(0,de.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==t?i.qo.reset():e&&e.code===ge.RESOURCE_EXHAUSTED?(Rr(e.toString()),Rr("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):e&&e.code===ge.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.ao(e)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Fo===e&&this.Zo(i,o)},i=>{t(()=>{const o=new Re(ge.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(o)})})}Zo(t,e){const i=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{i(()=>this.tu(o))}),this.stream.onMessage(o=>{i(()=>this.onMessage(o))})}Go(){var t=this;this.state=5,this.qo.No((0,de.Z)(function*(){t.state=0,t.start()}))}tu(t){return Be("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget(()=>this.Fo===t?e():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class K$ extends aZ{constructor(t,e,i,o,s,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,o,c),this.serializer=s}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function l$(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(p=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:pt(),o=t.targetChange.targetIds||[],s=function(p,_){return p.useProto3Json?(St(void 0===_||"string"==typeof _),ho.fromBase64String(_||"")):(St(void 0===_||_ instanceof Uint8Array),ho.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(p){const _=void 0===p.code?ge.UNKNOWN:X4(p.code);return new Re(_,p.message||"")}(c);e=new rV(i,o,s,d||null)}else if("documentChange"in t){const i=t.documentChange,o=nd(n,i.document.name),s=Or(i.document.updateTime),c=i.document.createTime?Or(i.document.createTime):kt.min(),d=new Go({mapValue:{fields:i.document.fields}}),p=Oi.newFoundDocument(o,s,c,d);e=new QI(i.targetIds||[],i.removedTargetIds||[],p.key,p)}else if("documentDelete"in t){const i=t.documentDelete,o=nd(n,i.document),s=i.readTime?Or(i.readTime):kt.min(),c=Oi.newNoDocument(o,s);e=new QI([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const i=t.documentRemove,o=nd(n,i.document);e=new QI([],i.removedTargetIds||[],o,null)}else{if(!("filter"in t))return pt();{const i=t.filter,{count:o=0,unchangedNames:s}=i,c=new Xz(o,s);e=new iV(i.targetId,c)}}var p;return e}(this.serializer,t),i=function(o){if(!("targetChange"in o))return kt.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?kt.min():s.readTime?Or(s.readTime):kt.min()}(t);return this.listener.nu(e,i)}su(t){const e={};e.database=k1(this.serializer),e.addTarget=function(o,s){let c;const d=s.target;if(c=HI(d)?{documents:pV(o,d)}:{query:jN(o,d)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=lV(o,s.resumeToken);const p=ZN(o,s.expectedCount);null!==p&&(c.expectedCount=p)}else if(s.snapshotVersion.compareTo(kt.min())>0){c.readTime=n0(o,s.snapshotVersion.toTimestamp());const p=ZN(o,s.expectedCount);null!==p&&(c.expectedCount=p)}return c}(this.serializer,t);const i=function u$(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Wo(e)}iu(t){const e={};e.database=k1(this.serializer),e.removeTarget=t,this.Wo(e)}}class Q$ extends aZ{constructor(t,e,i,o,s,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,o,c),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(St(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function c$(n,t){return n&&n.length>0?(St(void 0!==t),n.map(e=>function(i,o){let s=Or(i.updateTime?i.updateTime:o);return s.isEqual(kt.min())&&(s=Or(o)),new Wz(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Or(t.commitTime);return this.listener.cu(i,e)}return St(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=k1(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>R1(this.serializer,i))};this.Wo(e)}}class J$ extends class{}{constructor(t,e,i,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new Re(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Io(t,e,i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Re(ge.UNKNOWN,o.toString())})}vo(t,e,i,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.vo(t,e,i,s,c,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Re(ge.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class e9{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Rr(e),this.mu=!1):Be("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class t9{constructor(t,e,i,o,s){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(d=>{i.enqueueAndForget((0,de.Z)(function*(){var p;dm(c)&&(Be("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,de.Z)(function*(_){const b=ut(_);b.vu.add(4),yield c0(b),b.bu.set("Unknown"),b.vu.delete(4),yield q1(b)}),function(_){return p.apply(this,arguments)})(c))}))}),this.bu=new e9(i,o)}}function q1(n){return mF.apply(this,arguments)}function mF(){return mF=(0,de.Z)(function*(n){if(dm(n))for(const t of n.Ru)yield t(!0)}),mF.apply(this,arguments)}function c0(n){return gF.apply(this,arguments)}function gF(){return gF=(0,de.Z)(function*(n){for(const t of n.Ru)yield t(!1)}),gF.apply(this,arguments)}function pS(n,t){const e=ut(n);e.Au.has(t.targetId)||(e.Au.set(t.targetId,t),yF(e)?vF(e):d0(e).Ko()&&_F(e,t))}function H1(n,t){const e=ut(n),i=d0(e);e.Au.delete(t),i.Ko()&&lZ(e,t),0===e.Au.size&&(i.Ko()?i.jo():dm(e)&&e.bu.set("Unknown"))}function _F(n,t){if(n.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(kt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}d0(n).su(t)}function lZ(n,t){n.Vu.qt(t),d0(n).iu(t)}function vF(n){n.Vu=new t$({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),le:t=>n.Au.get(t)||null,ue:()=>n.datastore.serializer.databaseId}),d0(n).start(),n.bu.gu()}function yF(n){return dm(n)&&!d0(n).Uo()&&n.Au.size>0}function dm(n){return 0===ut(n).vu.size}function cZ(n){n.Vu=void 0}function n9(n){return bF.apply(this,arguments)}function bF(){return bF=(0,de.Z)(function*(n){n.Au.forEach((t,e)=>{_F(n,t)})}),bF.apply(this,arguments)}function i9(n,t){return wF.apply(this,arguments)}function wF(){return wF=(0,de.Z)(function*(n,t){cZ(n),yF(n)?(n.bu.Iu(t),vF(n)):n.bu.set("Unknown")}),wF.apply(this,arguments)}function r9(n,t,e){return CF.apply(this,arguments)}function CF(){return CF=(0,de.Z)(function*(n,t,e){if(n.bu.set("Online"),t instanceof rV&&2===t.state&&t.cause)try{yield(i=(0,de.Z)(function*(o,s){const c=s.cause;for(const d of s.targetIds)o.Au.has(d)&&(yield o.remoteSyncer.rejectListen(d,c),o.Au.delete(d),o.Vu.removeTarget(d))}),function(o,s){return i.apply(this,arguments)})(n,t)}catch(i){Be("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield mS(n,i)}else if(t instanceof QI?n.Vu.Ht(t):t instanceof iV?n.Vu.ne(t):n.Vu.Xt(t),!e.isEqual(kt.min()))try{const i=yield QV(n.localStore);e.compareTo(i)>=0&&(yield function(o,s){const c=o.Vu.ce(s);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const _=o.Au.get(p);_&&o.Au.set(p,_.withResumeToken(d.resumeToken,s))}}),c.targetMismatches.forEach((d,p)=>{const _=o.Au.get(d);if(!_)return;o.Au.set(d,_.withResumeToken(ho.EMPTY_BYTE_STRING,_.snapshotVersion)),lZ(o,d);const b=new Fh(_.target,d,p,_.sequenceNumber);_F(o,b)}),o.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){Be("RemoteStore","Failed to raise snapshot:",i),yield mS(n,i)}var i}),CF.apply(this,arguments)}function mS(n,t,e){return xF.apply(this,arguments)}function xF(){return xF=(0,de.Z)(function*(n,t,e){if(!Xp(t))throw t;n.vu.add(1),yield c0(n),n.bu.set("Offline"),e||(e=()=>QV(n.localStore)),n.asyncQueue.enqueueRetryable((0,de.Z)(function*(){Be("RemoteStore","Retrying IndexedDB access"),yield e(),n.vu.delete(1),yield q1(n)}))}),xF.apply(this,arguments)}function uZ(n,t){return t().catch(e=>mS(n,e,t))}function u0(n){return DF.apply(this,arguments)}function DF(){return DF=(0,de.Z)(function*(n){const t=ut(n),e=hm(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;o9(t);)try{const o=yield H$(t.localStore,i);if(null===o){0===t.Eu.length&&e.jo();break}i=o.batchId,s9(t,o)}catch(o){yield mS(t,o)}dZ(t)&&hZ(t)}),DF.apply(this,arguments)}function o9(n){return dm(n)&&n.Eu.length<10}function s9(n,t){n.Eu.push(t);const e=hm(n);e.Ko()&&e.ou&&e.uu(t.mutations)}function dZ(n){return dm(n)&&!hm(n).Uo()&&n.Eu.length>0}function hZ(n){hm(n).start()}function a9(n){return EF.apply(this,arguments)}function EF(){return EF=(0,de.Z)(function*(n){hm(n).hu()}),EF.apply(this,arguments)}function l9(n){return TF.apply(this,arguments)}function TF(){return TF=(0,de.Z)(function*(n){const t=hm(n);for(const e of n.Eu)t.uu(e.mutations)}),TF.apply(this,arguments)}function c9(n,t,e){return AF.apply(this,arguments)}function AF(){return AF=(0,de.Z)(function*(n,t,e){const i=n.Eu.shift(),o=FN.from(i,t,e);yield uZ(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield u0(n)}),AF.apply(this,arguments)}function u9(n,t){return IF.apply(this,arguments)}function IF(){return IF=(0,de.Z)(function*(n,t){var e;t&&hm(n).ou&&(yield(e=(0,de.Z)(function*(i,o){if(J4(s=o.code)&&s!==ge.ABORTED){const c=i.Eu.shift();hm(i).Qo(),yield uZ(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,o)),yield u0(i)}var s}),function(i,o){return e.apply(this,arguments)})(n,t)),dZ(n)&&hZ(n)}),IF.apply(this,arguments)}function fZ(n,t){return SF.apply(this,arguments)}function SF(){return SF=(0,de.Z)(function*(n,t){const e=ut(n);e.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const i=dm(e);e.vu.add(3),yield c0(e),i&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.vu.delete(3),yield q1(e)}),SF.apply(this,arguments)}function MF(n,t){return kF.apply(this,arguments)}function kF(){return kF=(0,de.Z)(function*(n,t){const e=ut(n);t?(e.vu.delete(2),yield q1(e)):t||(e.vu.add(2),yield c0(e),e.bu.set("Unknown"))}),kF.apply(this,arguments)}function d0(n){return n.Su||(n.Su=function(t,e,i){const o=ut(t);return o.fu(),new K$(e,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{uo:n9.bind(null,n),ao:i9.bind(null,n),nu:r9.bind(null,n)}),n.Ru.push(function(){var t=(0,de.Z)(function*(e){e?(n.Su.Qo(),yF(n)?vF(n):n.bu.set("Unknown")):(yield n.Su.stop(),cZ(n))});return function(e){return t.apply(this,arguments)}}())),n.Su}function hm(n){return n.Du||(n.Du=function(t,e,i){const o=ut(t);return o.fu(),new Q$(e,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{uo:a9.bind(null,n),ao:u9.bind(null,n),au:l9.bind(null,n),cu:c9.bind(null,n)}),n.Ru.push(function(){var t=(0,de.Z)(function*(e){e?(n.Du.Qo(),yield u0(n)):(yield n.Du.stop(),n.Eu.length>0&&(Be("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Du}class RF{constructor(t,e,i,o,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=o,this.removalCallback=s,this.deferred=new uo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,i,o,s){const c=Date.now()+i,d=new RF(t,e,c,o,s);return d.start(i),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(ge.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function h0(n,t){if(Rr("AsyncQueue",`${t}: ${n}`),Xp(n))return new Re(ge.UNAVAILABLE,`${t}: ${n}`);throw n}class f0{constructor(t){this.comparator=t?(e,i)=>t(e,i)||at.comparator(e.key,i.key):(e,i)=>at.comparator(e.key,i.key),this.keyedMap=x1(),this.sortedSet=new Di(this.comparator)}static emptySet(t){return new f0(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof f0)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,s=i.getNext().key;if(!o.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new f0;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class pZ{constructor(){this.Cu=new Di(at.comparator)}track(t){const e=t.doc.key,i=this.Cu.get(e);i?0!==t.type&&3===i.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==i.type?this.Cu=this.Cu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Cu=this.Cu.remove(e):1===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):pt():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal((e,i)=>{t.push(i)}),t}}class p0{constructor(t,e,i,o,s,c,d,p,_){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,e,i,o,s){const c=[];return e.forEach(d=>{c.push({type:0,doc:d})}),new p0(t,e,f0.emptySet(e),c,i,o,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&w1(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==i[o].type||!e[o].doc.isEqual(i[o].doc))return!1;return!0}}class d9{constructor(){this.Nu=void 0,this.listeners=[]}}class h9{constructor(){this.queries=new Ph(t=>O4(t),w1),this.onlineState="Unknown",this.ku=new Set}}function OF(n,t){return PF.apply(this,arguments)}function PF(){return PF=(0,de.Z)(function*(n,t){const e=ut(n),i=t.query;let o=!1,s=e.queries.get(i);if(s||(o=!0,s=new d9),o)try{s.Nu=yield e.onListen(i)}catch(c){const d=h0(c,`Initialization of query '${RN(t.query)}' failed`);return void t.onError(d)}e.queries.set(i,s),s.listeners.push(t),t.Mu(e.onlineState),s.Nu&&t.$u(s.Nu)&&LF(e)}),PF.apply(this,arguments)}function NF(n,t){return FF.apply(this,arguments)}function FF(){return FF=(0,de.Z)(function*(n,t){const e=ut(n),i=t.query;let o=!1;const s=e.queries.get(i);if(s){const c=s.listeners.indexOf(t);c>=0&&(s.listeners.splice(c,1),o=0===s.listeners.length)}if(o)return e.queries.delete(i),e.onUnlisten(i)}),FF.apply(this,arguments)}function f9(n,t){const e=ut(n);let i=!1;for(const o of t){const c=e.queries.get(o.query);if(c){for(const d of c.listeners)d.$u(o)&&(i=!0);c.Nu=o}}i&&LF(e)}function p9(n,t,e){const i=ut(n),o=i.queries.get(t);if(o)for(const s of o.listeners)s.onError(e);i.queries.delete(t)}function LF(n){n.ku.forEach(t=>{t.next()})}class UF{constructor(t,e,i){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(t){if(!this.options.includeMetadataChanges){const i=[];for(const o of t.docChanges)3!==o.type&&i.push(o);t=new p0(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){return!t.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=p0.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class m9{constructor(t,e){this.Gu=t,this.byteLength=e}Qu(){return"metadata"in this.Gu}}class mZ{constructor(t){this.serializer=t}rr(t){return nd(this.serializer,t)}ur(t){return t.metadata.exists?fV(this.serializer,t.document,!1):Oi.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return Or(t)}}class g9{constructor(t,e,i){this.ju=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=gZ(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++e;const i=Rn.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(t){const e=new Map,i=new mZ(this.serializer);for(const o of t)if(o.metadata.queries){const s=i.rr(o.metadata.name);for(const c of o.metadata.queries){const d=(e.get(c)||hn()).add(s);e.set(c,d)}}return e}complete(){var t=this;return(0,de.Z)(function*(){const e=yield function j$(n,t,e,i){return sF.apply(this,arguments)}(t.localStore,new mZ(t.serializer),t.documents,t.ju.id),i=t.Wu(t.documents);for(const o of t.queries)yield z$(t.localStore,o,i.get(o.name));return t.progress.taskState="Success",{progress:t.progress,Hu:t.collectionGroups,Ju:e}})()}}function gZ(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class _Z{constructor(t){this.key=t}}class vZ{constructor(t){this.key=t}}class yZ{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=hn(),this.mutatedKeys=hn(),this.tc=N4(t),this.ec=new f0(this.tc)}get nc(){return this.Yu}sc(t,e){const i=e?e.ic:new pZ,o=e?e.ec:this.ec;let s=e?e.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,_="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((b,E)=>{const k=o.get(b),F=C1(this.query,E)?E:null,q=!!k&&this.mutatedKeys.has(k.key),K=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let ee=!1;k&&F?k.data.isEqual(F.data)?q!==K&&(i.track({type:3,doc:F}),ee=!0):this.rc(k,F)||(i.track({type:2,doc:F}),ee=!0,(p&&this.tc(F,p)>0||_&&this.tc(F,_)<0)&&(d=!0)):!k&&F?(i.track({type:0,doc:F}),ee=!0):k&&!F&&(i.track({type:1,doc:k}),ee=!0,(p||_)&&(d=!0)),ee&&(F?(c=c.add(F),s=K?s.add(b):s.delete(b)):(c=c.delete(b),s=s.delete(b)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const b="F"===this.query.limitType?c.last():c.first();c=c.delete(b.key),s=s.delete(b.key),i.track({type:1,doc:b})}return{ec:c,ic:i,zi:d,mutatedKeys:s}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const o=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const s=t.ic.xu();s.sort((_,b)=>function(E,k){const F=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt()}};return F(E)-F(k)}(_.type,b.type)||this.tc(_.doc,b.doc)),this.oc(i);const c=e?this.uc():[],d=0===this.Zu.size&&this.current?1:0,p=d!==this.Xu;return this.Xu=d,0!==s.length||p?{snapshot:new p0(this.query,t.ec,o,s,t.mutatedKeys,0===d,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new pZ,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=hn(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const e=[];return t.forEach(i=>{this.Zu.has(i)||e.push(new vZ(i))}),this.Zu.forEach(i=>{t.has(i)||e.push(new _Z(i))}),e}hc(t){this.Yu=t.ir,this.Zu=hn();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return p0.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class _9{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class v9{constructor(t){this.key=t,this.fc=!1}}class y9{constructor(t,e,i,o,s,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new Ph(d=>O4(d),w1),this._c=new Map,this.mc=new Set,this.gc=new Di(at.comparator),this.yc=new Map,this.Ic=new JN,this.Tc={},this.Ec=new Map,this.Ac=b_.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function b9(n,t){return VF.apply(this,arguments)}function VF(){return VF=(0,de.Z)(function*(n,t){const e=c2(n);let i,o;const s=e.wc.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),o=s.view.lc();else{const c=yield a0(e.localStore,Gs(t)),d=e.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,o=yield ZF(e,t,i,"current"===d,c.resumeToken),e.isPrimaryClient&&pS(e.remoteStore,c)}return o}),VF.apply(this,arguments)}function ZF(n,t,e,i,o){return BF.apply(this,arguments)}function BF(){return BF=(0,de.Z)(function*(n,t,e,i,o){n.Rc=(E,k,F)=>{return(q=(0,de.Z)(function*(K,ee,Oe,ze){let He=ee.view.sc(Oe);He.zi&&(He=yield cS(K.localStore,ee.query,!1).then(({documents:Vt})=>ee.view.sc(Vt,He)));const Je=ze&&ze.targetChanges.get(ee.targetId),Nt=ee.view.applyChanges(He,K.isPrimaryClient,Je);return QF(K,ee.targetId,Nt.cc),Nt.snapshot}),function(K,ee,Oe,ze){return q.apply(this,arguments)})(n,E,k,F);var q};const s=yield cS(n.localStore,t,!0),c=new yZ(t,s.ir),d=c.sc(s.documents),p=S1.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,o),_=c.applyChanges(d,n.isPrimaryClient,p);QF(n,e,_.cc);const b=new _9(t,e,c);return n.wc.set(t,b),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),_.snapshot}),BF.apply(this,arguments)}function w9(n,t){return qF.apply(this,arguments)}function qF(){return qF=(0,de.Z)(function*(n,t){const e=ut(n),i=e.wc.get(t),o=e._c.get(i.targetId);if(o.length>1)return e._c.set(i.targetId,o.filter(s=>!w1(s,t))),void e.wc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield l0(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),H1(e.remoteStore,i.targetId),m0(e,i.targetId)}).catch(Jp))):(m0(e,i.targetId),yield l0(e.localStore,i.targetId,!0))}),qF.apply(this,arguments)}function HF(){return HF=(0,de.Z)(function*(n,t,e){const i=u2(n);try{const o=yield function(s,c){const d=ut(s),p=$i.now(),_=c.reduce((k,F)=>k.add(F.key),hn());let b,E;return d.persistence.runTransaction("Locally write mutations","readwrite",k=>{let F=ba(),q=hn();return d.Zi.getEntries(k,_).next(K=>{F=K,F.forEach((ee,Oe)=>{Oe.isValidDocument()||(q=q.add(ee))})}).next(()=>d.localDocuments.getOverlayedDocuments(k,F)).next(K=>{b=K;const ee=[];for(const Oe of c){const ze=Qz(Oe,b.get(Oe.key).overlayedDocument);null!=ze&&ee.push(new Nh(Oe.key,ze,y4(ze.value.mapValue),Gi.exists(!0)))}return d.mutationQueue.addMutationBatch(k,p,ee,c)}).next(K=>{E=K;const ee=K.applyToLocalDocumentSet(b,q);return d.documentOverlayCache.saveOverlays(k,K.batchId,ee)})}).then(()=>({batchId:E.batchId,changes:L4(b)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(o.batchId),function(s,c,d){let p=s.Tc[s.currentUser.toKey()];p||(p=new Di(Qt)),p=p.insert(c,d),s.Tc[s.currentUser.toKey()]=p}(i,o.batchId,e),yield Lh(i,o.changes),yield u0(i.remoteStore)}catch(o){const s=h0(o,"Failed to persist write");e.reject(s)}}),HF.apply(this,arguments)}function bZ(n,t){return jF.apply(this,arguments)}function jF(){return jF=(0,de.Z)(function*(n,t){const e=ut(n);try{const i=yield function q$(n,t){const e=ut(n),i=t.snapshotVersion;let o=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=e.Zi.newChangeBuffer({trackRemovals:!0});o=e.Ji;const d=[];t.targetChanges.forEach((b,E)=>{const k=o.get(E);if(!k)return;d.push(e.Bs.removeMatchingKeys(s,b.removedDocuments,E).next(()=>e.Bs.addMatchingKeys(s,b.addedDocuments,E)));let F=k.withSequenceNumber(s.currentSequenceNumber);var q,K,ee;null!==t.targetMismatches.get(E)?F=F.withResumeToken(ho.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,i)),o=o.insert(E,F),K=F,ee=b,(0===(q=k).resumeToken.approximateByteSize()||K.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8||ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0)&&d.push(e.Bs.updateTargetData(s,F))});let p=ba(),_=hn();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(s,b))}),d.push(JV(s,c,t.documentUpdates).next(b=>{p=b.nr,_=b.sr})),!i.isEqual(kt.min())){const b=e.Bs.getLastRemoteSnapshotVersion(s).next(E=>e.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(b)}return fe.waitFor(d).next(()=>c.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,p,_)).next(()=>p)}).then(s=>(e.Ji=o,s))}(e.localStore,t);t.targetChanges.forEach((o,s)=>{const c=e.yc.get(s);c&&(St(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.fc=!0:o.modifiedDocuments.size>0?St(c.fc):o.removedDocuments.size>0&&(St(c.fc),c.fc=!1))}),yield Lh(e,i,t)}catch(i){yield Jp(i)}}),jF.apply(this,arguments)}function wZ(n,t,e){const i=ut(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const o=[];i.wc.forEach((s,c)=>{const d=c.view.Mu(t);d.snapshot&&o.push(d.snapshot)}),function(s,c){const d=ut(s);d.onlineState=c;let p=!1;d.queries.forEach((_,b)=>{for(const E of b.listeners)E.Mu(c)&&(p=!0)}),p&&LF(d)}(i.eventManager,t),o.length&&i.dc.nu(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function x9(n,t,e){return zF.apply(this,arguments)}function zF(){return zF=(0,de.Z)(function*(n,t,e){const i=ut(n);i.sharedClientState.updateQueryState(t,"rejected",e);const o=i.yc.get(t),s=o&&o.key;if(s){let c=new Di(at.comparator);c=c.insert(s,Oi.newNoDocument(s,kt.min()));const d=hn().add(s),p=new I1(kt.min(),new Map,new Di(Qt),c,d);yield bZ(i,p),i.gc=i.gc.remove(s),i.yc.delete(t),JF(i)}else yield l0(i.localStore,t,!1).then(()=>m0(i,t,e)).catch(Jp)}),zF.apply(this,arguments)}function D9(n,t){return $F.apply(this,arguments)}function $F(){return $F=(0,de.Z)(function*(n,t){const e=ut(n),i=t.batch.batchId;try{const o=yield function B$(n,t){const e=ut(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=t.batch.keys(),s=e.Zi.newChangeBuffer({trackRemovals:!0});return function(c,d,p,_){const b=p.batch,E=b.keys();let k=fe.resolve();return E.forEach(F=>{k=k.next(()=>_.getEntry(d,F)).next(q=>{const K=p.docVersions.get(F);St(null!==K),q.version.compareTo(K)<0&&(b.applyToRemoteDocument(q,p),q.isValidDocument()&&(q.setReadTime(p.commitVersion),_.addEntry(q)))})}),k.next(()=>c.mutationQueue.removeMutationBatch(d,b))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,o,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=hn();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(t))).next(()=>e.localDocuments.getDocuments(i,o))})}(e.localStore,t);KF(e,i,null),WF(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Lh(e,o)}catch(o){yield Jp(o)}}),$F.apply(this,arguments)}function E9(n,t,e){return GF.apply(this,arguments)}function GF(){return GF=(0,de.Z)(function*(n,t,e){const i=ut(n);try{const o=yield function(s,c){const d=ut(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return d.mutationQueue.lookupMutationBatch(p,c).next(b=>(St(null!==b),_=b.keys(),d.mutationQueue.removeMutationBatch(p,b))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,_,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>d.localDocuments.getDocuments(p,_))})}(i.localStore,t);KF(i,t,e),WF(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Lh(i,o)}catch(o){yield Jp(o)}}),GF.apply(this,arguments)}function YF(){return YF=(0,de.Z)(function*(n,t){const e=ut(n);dm(e.remoteStore)||Be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const c=ut(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.mutationQueue.getHighestUnacknowledgedBatchId(d))}(e.localStore);if(-1===i)return void t.resolve();const o=e.Ec.get(i)||[];o.push(t),e.Ec.set(i,o)}catch(i){const o=h0(i,"Initialization of waitForPendingWrites() operation failed");t.reject(o)}}),YF.apply(this,arguments)}function WF(n,t){(n.Ec.get(t)||[]).forEach(e=>{e.resolve()}),n.Ec.delete(t)}function KF(n,t,e){const i=ut(n);let o=i.Tc[i.currentUser.toKey()];if(o){const s=o.get(t);s&&(e?s.reject(e):s.resolve(),o=o.remove(t)),i.Tc[i.currentUser.toKey()]=o}}function m0(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n._c.get(t))n.wc.delete(i),e&&n.dc.Pc(i,e);n._c.delete(t),n.isPrimaryClient&&n.Ic.Is(t).forEach(i=>{n.Ic.containsKey(i)||CZ(n,i)})}function CZ(n,t){n.mc.delete(t.path.canonicalString());const e=n.gc.get(t);null!==e&&(H1(n.remoteStore,e),n.gc=n.gc.remove(t),n.yc.delete(e),JF(n))}function QF(n,t,e){for(const i of e)i instanceof _Z?(n.Ic.addReference(i.key,t),A9(n,i)):i instanceof vZ?(Be("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,t),n.Ic.containsKey(i.key)||CZ(n,i.key)):pt()}function A9(n,t){const e=t.key,i=e.path.canonicalString();n.gc.get(e)||n.mc.has(i)||(Be("SyncEngine","New document in limbo: "+e),n.mc.add(i),JF(n))}function JF(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const t=n.mc.values().next().value;n.mc.delete(t);const e=new at(Rn.fromString(t)),i=n.Ac.next();n.yc.set(i,new v9(e)),n.gc=n.gc.insert(e,i),pS(n.remoteStore,new Fh(Gs(Qb(e.path)),i,"TargetPurposeLimboResolution",Wa.ct))}}function Lh(n,t,e){return XF.apply(this,arguments)}function XF(){return XF=(0,de.Z)(function*(n,t,e){const i=ut(n),o=[],s=[],c=[];var d;i.wc.isEmpty()||(i.wc.forEach((d,p)=>{c.push(i.Rc(p,t,e).then(_=>{if((_||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,_?.fromCache?"not-current":"current"),_){o.push(_);const b=iF.Li(p.targetId,_);s.push(b)}}))}),yield Promise.all(c),i.dc.nu(o),yield(d=(0,de.Z)(function*(p,_){const b=ut(p);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>fe.forEach(_,k=>fe.forEach(k.Fi,F=>b.persistence.referenceDelegate.addReference(E,k.targetId,F)).next(()=>fe.forEach(k.Bi,F=>b.persistence.referenceDelegate.removeReference(E,k.targetId,F)))))}catch(E){if(!Xp(E))throw E;Be("LocalStore","Failed to update sequence numbers: "+E)}for(const E of _){const k=E.targetId;if(!E.fromCache){const F=b.Ji.get(k),K=F.withLastLimboFreeSnapshotVersion(F.snapshotVersion);b.Ji=b.Ji.insert(k,K)}}}),function(p,_){return d.apply(this,arguments)})(i.localStore,s))}),XF.apply(this,arguments)}function I9(n,t){return e2.apply(this,arguments)}function e2(){return e2=(0,de.Z)(function*(n,t){const e=ut(n);if(!e.currentUser.isEqual(t)){Be("SyncEngine","User change. New user:",t.toKey());const i=yield KV(e.localStore,t);e.currentUser=t,(o=e).Ec.forEach(c=>{c.forEach(d=>{d.reject(new Re(ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ec.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Lh(e,i.er)}var o}),e2.apply(this,arguments)}function S9(n,t){const e=ut(n),i=e.yc.get(t);if(i&&i.fc)return hn().add(i.key);{let o=hn();const s=e._c.get(t);if(!s)return o;for(const c of s){const d=e.wc.get(c);o=o.unionWith(d.view.nc)}return o}}function M9(n,t){return t2.apply(this,arguments)}function t2(){return t2=(0,de.Z)(function*(n,t){const e=ut(n),i=yield cS(e.localStore,t.query,!0),o=t.view.hc(i);return e.isPrimaryClient&&QF(e,t.targetId,o.cc),o}),t2.apply(this,arguments)}function k9(n,t){return n2.apply(this,arguments)}function n2(){return n2=(0,de.Z)(function*(n,t){const e=ut(n);return eZ(e.localStore,t).then(i=>Lh(e,i))}),n2.apply(this,arguments)}function R9(n,t,e,i){return r2.apply(this,arguments)}function r2(){return r2=(0,de.Z)(function*(n,t,e,i){const o=ut(n),s=yield function(c,d){const p=ut(c),_=ut(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",b=>_.Sn(b,d).next(E=>E?p.localDocuments.getDocuments(b,E):fe.resolve(null)))}(o.localStore,t);var d;null!==s?("pending"===e?yield u0(o.remoteStore):"acknowledged"===e||"rejected"===e?(KF(o,t,i||null),WF(o,t),d=t,ut(ut(o.localStore).mutationQueue).Cn(d)):pt(),yield Lh(o,s)):Be("SyncEngine","Cannot apply mutation batch with id: "+t)}),r2.apply(this,arguments)}function o2(){return o2=(0,de.Z)(function*(n,t){const e=ut(n);if(c2(e),u2(e),!0===t&&!0!==e.vc){const i=e.sharedClientState.getAllActiveQueryTargets(),o=yield xZ(e,i.toArray());e.vc=!0,yield MF(e.remoteStore,!0);for(const s of o)pS(e.remoteStore,s)}else if(!1===t&&!1!==e.vc){const i=[];let o=Promise.resolve();e._c.forEach((s,c)=>{e.sharedClientState.isLocalQueryTarget(c)?i.push(c):o=o.then(()=>(m0(e,c),l0(e.localStore,c,!0))),H1(e.remoteStore,c)}),yield o,yield xZ(e,i),function(s){const c=ut(s);c.yc.forEach((d,p)=>{H1(c.remoteStore,p)}),c.Ic.Ts(),c.yc=new Map,c.gc=new Di(at.comparator)}(e),e.vc=!1,yield MF(e.remoteStore,!1)}}),o2.apply(this,arguments)}function xZ(n,t,e){return s2.apply(this,arguments)}function s2(){return s2=(0,de.Z)(function*(n,t,e){const i=ut(n),o=[],s=[];for(const c of t){let d;const p=i._c.get(c);if(p&&0!==p.length){d=yield a0(i.localStore,Gs(p[0]));for(const _ of p){const b=i.wc.get(_),E=yield M9(i,b);E.snapshot&&s.push(E.snapshot)}}else{const _=yield XV(i.localStore,c);d=yield a0(i.localStore,_),yield ZF(i,DZ(_),c,!1,d.resumeToken)}o.push(d)}return i.dc.nu(s),o}),s2.apply(this,arguments)}function DZ(n){return k4(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function P9(n){const t=ut(n);return ut(ut(t.localStore).persistence).$i()}function N9(n,t,e,i){return a2.apply(this,arguments)}function a2(){return a2=(0,de.Z)(function*(n,t,e,i){const o=ut(n);if(o.vc)return void Be("SyncEngine","Ignoring unexpected query state notification.");const s=o._c.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const c=yield eZ(o.localStore,P4(s[0])),d=I1.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,ho.EMPTY_BYTE_STRING);yield Lh(o,c,d);break}case"rejected":yield l0(o.localStore,t,!0),m0(o,t,i);break;default:pt()}}),a2.apply(this,arguments)}function F9(n,t,e){return l2.apply(this,arguments)}function l2(){return l2=(0,de.Z)(function*(n,t,e){const i=c2(n);if(i.vc){for(const o of t){if(i._c.has(o)){Be("SyncEngine","Adding an already active target "+o);continue}const s=yield XV(i.localStore,o),c=yield a0(i.localStore,s);yield ZF(i,DZ(s),c.targetId,!1,c.resumeToken),pS(i.remoteStore,c)}for(const o of e)i._c.has(o)&&(yield l0(i.localStore,o,!1).then(()=>{H1(i.remoteStore,o),m0(i,o)}).catch(Jp))}}),l2.apply(this,arguments)}function c2(n){const t=ut(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=bZ.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=S9.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=x9.bind(null,t),t.dc.nu=f9.bind(null,t.eventManager),t.dc.Pc=p9.bind(null,t.eventManager),t}function u2(n){const t=ut(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=D9.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=E9.bind(null,t),t}class j1{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,de.Z)(function*(){e.serializer=B1(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return WV(this.persistence,new YV,t.initialUser,this.serializer)}createPersistence(t){return new XN(sS.zs,this.serializer)}createSharedClientState(t){return new rZ}terminate(){var t=this;return(0,de.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class d2 extends j1{constructor(t,e,i){super(),this.Vc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,de.Z)(function*(){yield e().call(i,t),yield i.Vc.initialize(i,t),yield u2(i.Vc.syncEngine),yield u0(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return WV(this.persistence,new YV,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new VV(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new cz(e,this.persistence);return new lz(t.asyncQueue,i)}createPersistence(t){const e=nF(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?gs.withCacheSize(this.cacheSizeBytes):gs.DEFAULT;return new tF(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,sZ(),fS(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new rZ}}class EZ extends d2{constructor(t,e){super(t,e,!1),this.Vc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,de.Z)(function*(){yield e().call(i,t);const o=i.Vc.syncEngine;i.sharedClientState instanceof dF&&(i.sharedClientState.syncEngine={jr:R9.bind(null,o),zr:N9.bind(null,o),Wr:F9.bind(null,o),$i:P9.bind(null,o),Qr:k9.bind(null,o)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var s=(0,de.Z)(function*(c){yield function O9(n,t){return o2.apply(this,arguments)}(i.Vc.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}createSharedClientState(t){const e=sZ();if(!dF.D(e))throw new Re(ge.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=nF(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new dF(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class g0{initialize(t,e){var i=this;return(0,de.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=o=>wZ(i.syncEngine,o,1),i.remoteStore.remoteSyncer.handleCredentialChange=I9.bind(null,i.syncEngine),yield MF(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new h9}createDatastore(t){const e=B1(t.databaseInfo.databaseId),i=new W$(t.databaseInfo);return new J$(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,o=t.asyncQueue,s=d=>wZ(this.syncEngine,d,0),c=oZ.D()?new oZ:new $$,new t9(e,i,o,s,c);var e,i,o,s,c}createSyncEngine(t,e){return function(i,o,s,c,d,p,_){const b=new y9(i,o,s,c,d,p);return _&&(b.vc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,de.Z)(function*(e){const i=ut(e);Be("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield c0(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function TZ(n,t=10240){let e=0;return{read:()=>(0,de.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,de.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class gS{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):Rr("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class V9{constructor(t,e){this.Cc=t,this.serializer=e,this.metadata=new uo,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var t=this;return(0,de.Z)(function*(){return t.metadata.promise})()}bc(){var t=this;return(0,de.Z)(function*(){return yield t.getMetadata(),t.Nc()})()}Nc(){var t=this;return(0,de.Z)(function*(){const e=yield t.kc();if(null===e)return null;const i=t.xc.decode(e),o=Number(i);isNaN(o)&&t.Mc(`length string (${i}) is not valid number`);const s=yield t.$c(o);return new m9(JSON.parse(s),e.length+o)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}kc(){var t=this;return(0,de.Z)(function*(){for(;t.Oc()<0&&!(yield t.Fc()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.Mc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}$c(t){var e=this;return(0,de.Z)(function*(){for(;e.buffer.length<t;)(yield e.Fc())&&e.Mc("Reached the end of bundle when more is expected.");const i=e.xc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}Fc(){var t=this;return(0,de.Z)(function*(){const e=yield t.Cc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class Z9{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,de.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Re(ge.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(o=(0,de.Z)(function*(s,c){const d=ut(s),p=k1(d.serializer)+"/documents",_={documents:c.map(F=>M1(d.serializer,F))},b=yield d.vo("BatchGetDocuments",p,_,c.length),E=new Map;b.forEach(F=>{const q=function a$(n,t){return"found"in t?function(e,i){St(!!i.found);const o=nd(e,i.found.name),s=Or(i.found.updateTime),c=i.found.createTime?Or(i.found.createTime):kt.min(),d=new Go({mapValue:{fields:i.found.fields}});return Oi.newFoundDocument(o,s,c,d)}(n,t):"missing"in t?function(e,i){St(!!i.missing),St(!!i.readTime);const o=nd(e,i.missing),s=Or(i.readTime);return Oi.newNoDocument(o,s)}(n,t):pt()}(d.serializer,F);E.set(q.key.toString(),q)});const k=[];return c.forEach(F=>{const q=E.get(F.toString());St(!!q),k.push(q)}),k}),function(s,c){return o.apply(this,arguments)})(e.datastore,t);var o;return i.forEach(o=>e.recordVersion(o)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new t0(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,de.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,o)=>{const s=at.fromPath(o);t.mutations.push(new PN(s,t.precondition(s)))}),yield(i=(0,de.Z)(function*(o,s){const c=ut(o),d=k1(c.serializer)+"/documents",p={writes:s.map(_=>R1(c.serializer,_))};yield c.Io("Commit",d,p)}),function(o,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw pt();e=kt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Re(ge.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(kt.min())?Gi.exists(!1):Gi.updateTime(e):Gi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(kt.min()))throw new Re(ge.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gi.updateTime(e)}return Gi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class B9{constructor(t,e,i,o,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=o,this.deferred=s,this.Bc=i.maxAttempts,this.qo=new fF(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var t=this;this.qo.No((0,de.Z)(function*(){const e=new Z9(t.datastore),i=t.qc(e);i&&i.then(o=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(o)}).catch(s=>{t.Uc(s)}))}).catch(o=>{t.Uc(o)})}))}qc(t){try{const e=this.updateFunction(t);return!p1(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!J4(e)}return!1}}class q9{constructor(t,e,i,o){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=o,this.user=Io.UNAUTHENTICATED,this.clientId=W6.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,de.Z)(function*(d){Be("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Be("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var t=this;return(0,de.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new uo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,de.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const o=h0(i,"Failed to shutdown persistence");e.reject(o)}})),e.promise}}function _S(n,t){return h2.apply(this,arguments)}function h2(){return h2=(0,de.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var o=(0,de.Z)(function*(s){i.isEqual(s)||(yield KV(t.localStore,s),i=s)});return function(s){return o.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),h2.apply(this,arguments)}function f2(n,t){return p2.apply(this,arguments)}function p2(){return p2=(0,de.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield m2(n);Be("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(o=>fZ(t.remoteStore,o)),n.setAppCheckTokenChangeListener((o,s)=>fZ(t.remoteStore,s)),n._onlineComponents=t}),p2.apply(this,arguments)}function AZ(n){return"FirebaseError"===n.name?n.code===ge.FAILED_PRECONDITION||n.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function m2(n){return g2.apply(this,arguments)}function g2(){return g2=(0,de.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Be("FirestoreClient","Using user provided OfflineComponentProvider");try{yield _S(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!AZ(e))throw e;Vl("Error using user provided cache. Falling back to memory cache: "+e),yield _S(n,new j1)}}else Be("FirestoreClient","Using default OfflineComponentProvider"),yield _S(n,new j1);return n._offlineComponents}),g2.apply(this,arguments)}function vS(n){return _2.apply(this,arguments)}function _2(){return _2=(0,de.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Be("FirestoreClient","Using user provided OnlineComponentProvider"),yield f2(n,n._uninitializedComponentsProvider._online)):(Be("FirestoreClient","Using default OnlineComponentProvider"),yield f2(n,new g0))),n._onlineComponents}),_2.apply(this,arguments)}function IZ(n){return m2(n).then(t=>t.persistence)}function yS(n){return m2(n).then(t=>t.localStore)}function SZ(n){return vS(n).then(t=>t.remoteStore)}function v2(n){return vS(n).then(t=>t.syncEngine)}function _0(n){return y2.apply(this,arguments)}function y2(){return y2=(0,de.Z)(function*(n){const t=yield vS(n),e=t.eventManager;return e.onListen=b9.bind(null,t.syncEngine),e.onUnlisten=w9.bind(null,t.syncEngine),e}),y2.apply(this,arguments)}function kZ(n,t,e={}){const i=new uo;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(o,s,c,d,p){const _=new gS({next:E=>{s.enqueueAndForget(()=>NF(o,b));const k=E.docs.has(c);!k&&E.fromCache?p.reject(new Re(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&E.fromCache&&d&&"server"===d.source?p.reject(new Re(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),b=new UF(Qb(c.path),_,{includeMetadataChanges:!0,Ku:!0});return OF(o,b)}(yield _0(n),n.asyncQueue,t,e,i)})),i.promise}function RZ(n,t,e={}){const i=new uo;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(o,s,c,d,p){const _=new gS({next:E=>{s.enqueueAndForget(()=>NF(o,b)),E.fromCache&&"server"===d.source?p.reject(new Re(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),b=new UF(c,_,{includeMetadataChanges:!0,Ku:!0});return OF(o,b)}(yield _0(n),n.asyncQueue,t,e,i)})),i.promise}function OZ(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const PZ=new Map;function b2(n,t,e){if(!e)throw new Re(ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function NZ(n,t,e,i){if(!0===t&&!0===i)throw new Re(ge.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function FZ(n){if(!at.isDocumentKey(n))throw new Re(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function LZ(n){if(at.isDocumentKey(n))throw new Re(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":pt()}function Dn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Re(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=bS(n);throw new Re(ge.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function UZ(n,t){if(t<=0)throw new Re(ge.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class VZ{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new Re(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Re(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}NZ("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=OZ(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new Re(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Re(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Re(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class z1{constructor(t,e,i,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VZ({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Re(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Re(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VZ(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new K8;switch(e.type){case"firstParty":return new ez(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Re(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=PZ.get(t);e&&(Be("ComponentProvider","Removing Datastore"),PZ.delete(t),e.terminate())}(this),Promise.resolve()}}class Pi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new id(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Pi(this.firestore,t,this._key)}}class Yo{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Yo(this.firestore,t,this._query)}}class id extends Yo{constructor(t,e,i){super(t,e,Qb(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Pi(this.firestore,null,new at(t))}withConverter(t){return new id(this.firestore,t,this._path)}}function BZ(n,t,...e){if(n=(0,V.m9)(n),b2("collection","path",t),n instanceof z1){const i=Rn.fromString(t,...e);return LZ(i),new id(n,null,i)}{if(!(n instanceof Pi||n instanceof id))throw new Re(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Rn.fromString(t,...e));return LZ(i),new id(n.firestore,null,i)}}function wS(n,t,...e){if(n=(0,V.m9)(n),1===arguments.length&&(t=W6.A()),b2("doc","path",t),n instanceof z1){const i=Rn.fromString(t,...e);return FZ(i),new Pi(n,null,new at(i))}{if(!(n instanceof Pi||n instanceof id))throw new Re(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Rn.fromString(t,...e));return FZ(i),new Pi(n.firestore,n instanceof id?n.converter:null,new at(i))}}function qZ(n,t){return n=(0,V.m9)(n),t=(0,V.m9)(t),(n instanceof Pi||n instanceof id)&&(t instanceof Pi||t instanceof id)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function w2(n,t){return n=(0,V.m9)(n),t=(0,V.m9)(t),n instanceof Yo&&t instanceof Yo&&n.firestore===t.firestore&&w1(n._query,t._query)&&n.converter===t.converter}class J9{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new fF(this,"async_queue_retry"),this.Xc=()=>{const e=fS();e&&Be("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const t=fS();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=fS();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new uo;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,de.Z)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(e){if(!Xp(e))throw e;Be("AsyncQueue","Operation failed with retryable error: "+e)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const e=this.Gc.then(()=>(this.Hc=!0,t().catch(i=>{throw this.Wc=i,this.Hc=!1,Rr("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=e,e}enqueueAfterDelay(t,e,i){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const o=RF.createAndSchedule(this,t,e,i,s=>this.na(s));return this.zc.push(o),o}Zc(){this.Wc&&pt()}verifyOperationInProgress(){}sa(){var t=this;return(0,de.Z)(function*(){let e;do{e=t.Gc,yield e}while(e!==t.Gc)})()}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function C2(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(n)}class X9{constructor(){this._progressObserver={},this._taskCompletionResolver=new uo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Ni extends z1{constructor(t,e,i,o){super(t,e,i,o),this.type="firestore",this._queue=new J9,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||HZ(this),this._firestoreClient.terminate()}}function Pr(n){return n._firestoreClient||HZ(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function HZ(n){var t,e,i;const o=n._freezeSettings(),s=(d=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new Mz(n._databaseId,d,n._persistenceKey,(_=o).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,OZ(_.experimentalLongPollingOptions),_.useFetchStreams));var d,_;n._firestoreClient=new q9(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(e=o.cache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=o.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}function jZ(n,t,e){const i=new uo;return n.asyncQueue.enqueue((0,de.Z)(function*(){try{yield _S(n,e),yield f2(n,t),i.resolve()}catch(o){const s=o;if(!AZ(s))throw s;Vl("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function zZ(n){if(n._initialized||n._terminated)throw new Re(ge.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class rd{constructor(t){this._byteString=t}static fromBase64String(t){try{return new rd(ho.fromBase64String(t))}catch(e){throw new Re(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new rd(ho.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Uh{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Re(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class C_{constructor(t){this._methodName=t}}class CS{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Re(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Re(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Qt(this._lat,t._lat)||Qt(this._long,t._long)}}const u7=/^__.*__$/;class d7{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Nh(t,this.data,this.fieldMask,e,this.fieldTransforms):new e0(t,this.data,e,this.fieldTransforms)}}class $Z{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Nh(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function GZ(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt()}}class xS{constructor(t,e,i,o,s,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=o,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new xS(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),o=this.aa({path:i,la:!1});return o.fa(t),o}da(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),o=this.aa({path:i,la:!1});return o.ua(),o}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return TS(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(GZ(this.ca)&&u7.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class h7{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||B1(t)}ya(t,e,i,o=!1){return new xS({ca:t,methodName:e,ga:i,path:vr.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function x_(n){const t=n._freezeSettings(),e=B1(n._databaseId);return new h7(n._databaseId,!!t.ignoreUndefinedProperties,e)}function DS(n,t,e,i,o,s={}){const c=n.ya(s.merge||s.mergeFields?2:0,t,e,o);T2("Data must be an object, but it was:",c,i);const d=KZ(i,c);let p,_;if(s.merge)p=new ya(c.fieldMask),_=c.fieldTransforms;else if(s.mergeFields){const b=[];for(const E of s.mergeFields){const k=Y1(t,E,e);if(!c.contains(k))throw new Re(ge.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);JZ(b,k)||b.push(k)}p=new ya(b),_=c.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,_=c.fieldTransforms;return new d7(new Go(d),p,_)}class G1 extends C_{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof G1}}function YZ(n,t,e){return new xS({ca:3,ga:t.settings.ga,methodName:n._methodName,la:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class x2 extends C_{_toFieldTransform(t){return new E1(t.path,new Jb)}isEqual(t){return t instanceof x2}}class f7 extends C_{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=YZ(this,t,!0),i=this.pa.map(s=>D_(s,e)),o=new f_(i);return new E1(t.path,o)}isEqual(t){return this===t}}class p7 extends C_{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=YZ(this,t,!0),i=this.pa.map(s=>D_(s,e)),o=new p_(i);return new E1(t.path,o)}isEqual(t){return this===t}}class m7 extends C_{constructor(t,e){super(t),this.Ia=e}_toFieldTransform(t){const e=new Xb(t.serializer,B4(t.serializer,this.Ia));return new E1(t.path,e)}isEqual(t){return this===t}}function D2(n,t,e,i){const o=n.ya(1,t,e);T2("Data must be an object, but it was:",o,i);const s=[],c=Go.empty();em(i,(p,_)=>{const b=ES(t,p,e);_=(0,V.m9)(_);const E=o.da(b);if(_ instanceof G1)s.push(b);else{const k=D_(_,E);null!=k&&(s.push(b),c.set(b,k))}});const d=new ya(s);return new $Z(c,d,o.fieldTransforms)}function E2(n,t,e,i,o,s){const c=n.ya(1,t,e),d=[Y1(t,i,e)],p=[o];if(s.length%2!=0)throw new Re(ge.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<s.length;k+=2)d.push(Y1(t,s[k])),p.push(s[k+1]);const _=[],b=Go.empty();for(let k=d.length-1;k>=0;--k)if(!JZ(_,d[k])){const F=d[k];let q=p[k];q=(0,V.m9)(q);const K=c.da(F);if(q instanceof G1)_.push(F);else{const ee=D_(q,K);null!=ee&&(_.push(F),b.set(F,ee))}}const E=new ya(_);return new $Z(b,E,c.fieldTransforms)}function WZ(n,t,e,i=!1){return D_(e,n.ya(i?4:3,t))}function D_(n,t){if(QZ(n=(0,V.m9)(n)))return T2("Unsupported field value:",t,n),KZ(n,t);if(n instanceof C_)return function(e,i){if(!GZ(i.ca))throw i._a(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${e._methodName}() is not currently supported inside arrays`);const o=e._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,i){const o=[];let s=0;for(const c of e){let d=D_(c,i.wa(s));null==d&&(d={nullValue:"NULL_VALUE"}),o.push(d),s++}return{arrayValue:{values:o}}}(n,t)}return function(e,i){if(null===(e=(0,V.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return B4(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const o=$i.fromDate(e);return{timestampValue:n0(i.serializer,o)}}if(e instanceof $i){const o=new $i(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:n0(i.serializer,o)}}if(e instanceof CS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof rd)return{bytesValue:lV(i.serializer,e._byteString)};if(e instanceof Pi){const o=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(o))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:BN(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i._a(`Unsupported field value: ${bS(e)}`)}(n,t)}function KZ(n,t){const e={};return u4(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):em(n,(i,o)=>{const s=D_(o,t.ha(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function QZ(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof $i||n instanceof CS||n instanceof rd||n instanceof Pi||n instanceof C_)}function T2(n,t,e){if(!QZ(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=bS(e);throw t._a("an object"===i?n+" a custom object":n+" "+i)}var i}function Y1(n,t,e){if((t=(0,V.m9)(t))instanceof Uh)return t._internalPath;if("string"==typeof t)return ES(n,t);throw TS("Field path arguments must be of type string or ",n,!1,void 0,e)}const g7=new RegExp("[~\\*/\\[\\]]");function ES(n,t,e){if(t.search(g7)>=0)throw TS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Uh(...t.split("."))._internalPath}catch{throw TS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function TS(n,t,e,i,o){const s=i&&!i.isEmpty(),c=void 0!==o;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(s||c)&&(p+=" (found",s&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new Re(ge.INVALID_ARGUMENT,d+n+p)}function JZ(n,t){return n.some(e=>e.isEqual(t))}class W1{constructor(t,e,i,o,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=o,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Pi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new _7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(AS("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class _7 extends W1{data(){return super.data()}}function AS(n,t){return"string"==typeof t?ES(n,t):t instanceof Uh?t._internalPath:t._delegate._internalPath}function XZ(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Re(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class A2{}class K1 extends A2{}function fm(n,t,...e){let i=[];t instanceof A2&&i.push(t),i=i.concat(e),function(o){const s=o.filter(d=>d instanceof v0).length,c=o.filter(d=>d instanceof Q1).length;if(s>1||s>0&&c>0)throw new Re(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class Q1 extends K1{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Q1(t,e,i)}_apply(t){const e=this._parse(t);return iB(t._query,e),new Yo(t.firestore,t.converter,kN(t._query,e))}_parse(t){const e=x_(t.firestore);return function(o,s,c,d,p,_,b){let E;if(p.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new Re(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){nB(b,_);const k=[];for(const F of b)k.push(tB(d,o,F));E={arrayValue:{values:k}}}else E=tB(d,o,b)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||nB(b,_),E=WZ(c,"where",b,"in"===_||"not-in"===_);return xn.create(p,_,E)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class v0 extends A2{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new v0(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:ei.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,o){let s=i;const c=o.getFlattenedFilters();for(const d of c)iB(s,d),s=kN(s,d)}(t._query,e),new Yo(t.firestore,t.converter,kN(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class I2 extends K1{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new I2(t,e)}_apply(t){const e=function(i,o,s){if(null!==i.startAt)throw new Re(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Re(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Wb(o,s);return function(d,p){if(null===SN(d)){const _=zI(d);null!==_&&rB(0,_,p.field)}}(i,c),c}(t._query,this._field,this._direction);return new Yo(t.firestore,t.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Oh(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class IS extends K1{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new IS(t,e,i)}_apply(t){return new Yo(t.firestore,t.converter,$I(t._query,this._limit,this._limitType))}}class SS extends K1{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new SS(t,e,i)}_apply(t){const e=eB(t,this.type,this._docOrFields,this._inclusive);return new Yo(t.firestore,t.converter,(o=e,new Oh((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)));var i,o}}class MS extends K1{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new MS(t,e,i)}_apply(t){const e=eB(t,this.type,this._docOrFields,this._inclusive);return new Yo(t.firestore,t.converter,(o=e,new Oh((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)));var i,o}}function eB(n,t,e,i){if(e[0]=(0,V.m9)(e[0]),e[0]instanceof W1)return function(o,s,c,d,p){if(!d)throw new Re(ge.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const _=[];for(const b of h_(o))if(b.field.isKeyField())_.push(u_(s,d.key));else{const E=d.data.field(b.field);if(UI(E))throw new Re(ge.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===E){const k=b.field.canonicalString();throw new Re(ge.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${k}' (used as the orderBy) does not exist.`)}_.push(E)}return new sm(_,p)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const o=x_(n.firestore);return function(s,c,d,p,_,b){const E=s.explicitOrderBy;if(_.length>E.length)throw new Re(ge.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const k=[];for(let F=0;F<_.length;F++){const q=_[F];if(E[F].field.isKeyField()){if("string"!=typeof q)throw new Re(ge.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof q}`);if(!MN(s)&&-1!==q.indexOf("/"))throw new Re(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${q}' contains a slash.`);const K=s.path.child(Rn.fromString(q));if(!at.isDocumentKey(K))throw new Re(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${K}' is not because it contains an odd number of segments.`);const ee=new at(K);k.push(u_(c,ee))}else{const K=WZ(d,p,q);k.push(K)}}return new sm(k,b)}(n._query,n.firestore._databaseId,o,t,e,i)}}function tB(n,t,e){if("string"==typeof(e=(0,V.m9)(e))){if(""===e)throw new Re(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MN(t)&&-1!==e.indexOf("/"))throw new Re(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Rn.fromString(e));if(!at.isDocumentKey(i))throw new Re(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return u_(n,new at(i))}if(e instanceof Pi)return u_(n,e._key);throw new Re(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bS(e)}.`)}function nB(n,t){if(!Array.isArray(n)||0===n.length)throw new Re(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function iB(n,t){if(t.isInequality()){const i=zI(n),o=t.field;if(null!==i&&!i.isEqual(o))throw new Re(ge.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${o.toString()}'`);const s=SN(n);null!==s&&rB(0,o,s)}const e=function(i,o){for(const s of i)for(const c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Re(ge.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function rB(n,t,e){if(!e.isEqual(t))throw new Re(ge.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class S2{convertValue(t,e="none"){switch(rm(t)){case 0:return null;case 1:return t.booleanValue;case 2:return yr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Rh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw pt()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return em(t,(o,s)=>{i[o]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new CS(yr(t.latitude),yr(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=VI(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(g1(t));default:return null}}convertTimestamp(t){const e=tm(t);return new $i(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Rn.fromString(t);St(vV(i));const o=new nm(i.get(1),i.get(3)),s=new at(i.popFirst(5));return o.isEqual(e)||Rr(`Document ${s} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function kS(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class T7 extends S2{constructor(t){super(),this.firestore=t}convertBytes(t){return new rd(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Pi(this.firestore,null,e)}}class E_{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Vh extends W1{constructor(t,e,i,o,s,c){super(t,e,i,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new J1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(AS("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class J1 extends Vh{data(t={}){return super.data(t)}}class pm{constructor(t,e,i,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new E_(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new J1(this._firestore,this._userDataWriter,i.key,i,new E_(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Re(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new J1(i._firestore,i._userDataWriter,c.doc.key,c.doc,new E_(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||3!==c.type).map(c=>{const d=new J1(i._firestore,i._userDataWriter,c.doc.key,c.doc,new E_(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,_=-1;return 0!==c.type&&(p=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),_=s.indexOf(c.doc.key)),{type:I7(c.type),doc:d,oldIndex:p,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function I7(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt()}}function sB(n,t){return n instanceof Vh&&t instanceof Vh?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof pm&&t instanceof pm&&n._firestore===t._firestore&&w2(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class mm extends S2{constructor(t){super(),this.firestore=t}convertBytes(t){return new rd(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Pi(this.firestore,null,e)}}function aB(n,t,e){n=Dn(n,Pi);const i=Dn(n.firestore,Ni),o=kS(n.converter,t,e);return y0(i,[DS(x_(i),"setDoc",n._key,o,null!==n.converter,e).toMutation(n._key,Gi.none())])}function lB(n,t,e,...i){n=Dn(n,Pi);const o=Dn(n.firestore,Ni),s=x_(o);let c;return c="string"==typeof(t=(0,V.m9)(t))||t instanceof Uh?E2(s,"updateDoc",n._key,t,e,i):D2(s,"updateDoc",n._key,t),y0(o,[c.toMutation(n._key,Gi.exists(!0))])}function cB(n,...t){var e,i,o;n=(0,V.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||C2(t[c])||(s=t[c],c++);const d={includeMetadataChanges:s.includeMetadataChanges};if(C2(t[c])){const E=t[c];t[c]=null===(e=E.next)||void 0===e?void 0:e.bind(E),t[c+1]=null===(i=E.error)||void 0===i?void 0:i.bind(E),t[c+2]=null===(o=E.complete)||void 0===o?void 0:o.bind(E)}let p,_,b;if(n instanceof Pi)_=Dn(n.firestore,Ni),b=Qb(n._key.path),p={next:E=>{t[c]&&t[c](M2(_,n,E))},error:t[c+1],complete:t[c+2]};else{const E=Dn(n,Yo);_=Dn(E.firestore,Ni),b=E._query;const k=new mm(_);p={next:F=>{t[c]&&t[c](new pm(_,k,E,F))},error:t[c+1],complete:t[c+2]},XZ(n._query)}return function(E,k,F,q){const K=new gS(q),ee=new UF(k,K,F);return E.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return OF(yield _0(E),ee)})),()=>{K.Dc(),E.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return NF(yield _0(E),ee)}))}}(Pr(_),b,d,p)}function y0(n,t){return function(e,i){const o=new uo;return e.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function C9(n,t,e){return HF.apply(this,arguments)}(yield v2(e),i,o)})),o.promise}(Pr(n),t)}function M2(n,t,e){const i=e.docs.get(t._key),o=new mm(n);return new Vh(n,o,t._key,i,new E_(e.hasPendingWrites,e.fromCache),t.converter)}const $7={maxAttempts:5};class uB{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=x_(t)}set(t,e,i){this._verifyNotCommitted();const o=gm(t,this._firestore),s=kS(o.converter,e,i),c=DS(this._dataReader,"WriteBatch.set",o._key,s,null!==o.converter,i);return this._mutations.push(c.toMutation(o._key,Gi.none())),this}update(t,e,i,...o){this._verifyNotCommitted();const s=gm(t,this._firestore);let c;return c="string"==typeof(e=(0,V.m9)(e))||e instanceof Uh?E2(this._dataReader,"WriteBatch.update",s._key,e,i,o):D2(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(c.toMutation(s._key,Gi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=gm(t,this._firestore);return this._mutations=this._mutations.concat(new t0(e._key,Gi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gm(n,t){if((n=(0,V.m9)(n)).firestore!==t)throw new Re(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class G7 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=x_(t)}get(t){const e=gm(t,this._firestore),i=new T7(this._firestore);return this._transaction.lookup([e._key]).then(o=>{if(!o||1!==o.length)return pt();const s=o[0];if(s.isFoundDocument())return new W1(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new W1(this._firestore,i,e._key,null,e.converter);throw pt()})}set(t,e,i){const o=gm(t,this._firestore),s=kS(o.converter,e,i),c=DS(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,i);return this._transaction.set(o._key,c),this}update(t,e,i,...o){const s=gm(t,this._firestore);let c;return c="string"==typeof(e=(0,V.m9)(e))||e instanceof Uh?E2(this._dataReader,"Transaction.update",s._key,e,i,o):D2(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,c),this}delete(t){const e=gm(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=gm(t,this._firestore),i=new mm(this._firestore);return super.get(t).then(o=>new Vh(this._firestore,i,e._key,o._document,new E_(!1,!1),e.converter))}}function k2(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function hB(){if(typeof Uint8Array>"u")throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function fB(){if(!function Iz(){return typeof atob<"u"}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){zb=Mr.SDK_VERSION,(0,Mr._registerComponent)(new Ns.wA("firestore",(e,{instanceIdentifier:i,options:o})=>{const s=e.getProvider("app").getImmediate(),c=new Ni(new J8(e.getProvider("auth-internal")),new tz(e.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Re(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nm(d.options.projectId,p)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),(0,Mr.registerVersion)($6,"3.12.1",n),(0,Mr.registerVersion)($6,"3.12.1","esm2017")}();class X1{constructor(t){this._delegate=t}static fromBase64String(t){return fB(),new X1(rd.fromBase64String(t))}static fromUint8Array(t){return hB(),new X1(rd.fromUint8Array(t))}toBase64(){return fB(),this._delegate.toBase64()}toUint8Array(){return hB(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function R2(n){return function nG(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class iG{enableIndexedDbPersistence(t,e){return function t7(n,t){zZ(n=Dn(n,Ni));const e=Pr(n);if(e._uninitializedComponentsProvider)throw new Re(ge.FAILED_PRECONDITION,"SDK cache is already specified.");Vl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),o=new g0;return jZ(e,o,new d2(o,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function n7(n){zZ(n=Dn(n,Ni));const t=Pr(n);if(t._uninitializedComponentsProvider)throw new Re(ge.FAILED_PRECONDITION,"SDK cache is already specified.");Vl("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new g0;return jZ(t,i,new EZ(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function i7(n){if(n._initialized&&!n._terminated)throw new Re(ge.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new uo;return n._queue.enqueueAndForgetEvenWhileRestricted((0,de.Z)(function*(){try{yield(e=(0,de.Z)(function*(i){if(!$c.D())return Promise.resolve();const o=i+"main";yield $c.delete(o)}),function(i){return e.apply(this,arguments)})(nF(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class pB{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof nm||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Vl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function ZZ(n,t,e,i={}){var o;const s=(n=Dn(n,z1))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&Vl("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let c,d;if("string"==typeof i.mockUserToken)c=i.mockUserToken,d=Io.MOCK_USER;else{c=(0,V.Sg)(i.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Re(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Io(p)}n._authCredentials=new Q8(new G6(c,d))}}(this._delegate,t,e,i)}enableNetwork(){return function o7(n){return function H9(n){return n.asyncQueue.enqueue((0,de.Z)(function*(){const t=yield IZ(n),e=yield SZ(n);return t.setNetworkEnabled(!0),function(i){const o=ut(i);return o.vu.delete(0),q1(o)}(e)}))}(Pr(n=Dn(n,Ni)))}(this._delegate)}disableNetwork(){return function s7(n){return function j9(n){return n.asyncQueue.enqueue((0,de.Z)(function*(){const t=yield IZ(n),e=yield SZ(n);return t.setNetworkEnabled(!1),(i=(0,de.Z)(function*(o){const s=ut(o);s.vu.add(0),yield c0(s),s.bu.set("Offline")}),function(o){return i.apply(this,arguments)})(e);var i}))}(Pr(n=Dn(n,Ni)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,NZ("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function r7(n){return function(t){const e=new uo;return t.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function T9(n,t){return YF.apply(this,arguments)}(yield v2(t),e)})),e.promise}(Pr(n=Dn(n,Ni)))}(this._delegate)}onSnapshotsInSync(t){return function L7(n,t){return function G9(n,t){const e=new gS(t);return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return i=yield _0(n),o=e,ut(i).ku.add(o),void o.next();var i,o})),()=>{e.Dc(),n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return i=yield _0(n),o=e,void ut(i).ku.delete(o);var i,o}))}}(Pr(n=Dn(n,Ni)),C2(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new b0(this,BZ(this._delegate,t))}catch(e){throw Ys(e,"collection()","Firestore.collection()")}}doc(t){try{return new Zl(this,wS(this._delegate,t))}catch(e){throw Ys(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ws(this,function Q9(n,t){if(n=Dn(n,z1),b2("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Re(ge.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Yo(n,null,(e=t,new Oh(Rn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Ys(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function Y7(n,t,e){n=Dn(n,Ni);const i=Object.assign(Object.assign({},$7),e);return function(o){if(o.maxAttempts<1)throw new Re(ge.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,c){const d=new uo;return o.asyncQueue.enqueueAndForget((0,de.Z)(function*(){const p=yield function MZ(n){return vS(n).then(t=>t.datastore)}(o);new B9(o.asyncQueue,p,c,s,d).run()})),d.promise}(Pr(n),o=>t(new G7(n,o)),i)}(this._delegate,e=>t(new mB(this,e)))}batch(){return Pr(this._delegate),new gB(new uB(this._delegate,t=>y0(this._delegate,t)))}loadBundle(t){return function a7(n,t){const e=Pr(n=Dn(n,Ni)),i=new X9;return function Y9(n,t,e,i){const o=function(s,c){let d;return d="string"==typeof s?eV().encode(s):s,p=function(p,_){if(p instanceof Uint8Array)return TZ(p,_);if(p instanceof ArrayBuffer)return TZ(new Uint8Array(p),_);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new V9(p,c);var p}(e,B1(t));n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){!function L9(n,t,e){const i=ut(n);var o;(o=(0,de.Z)(function*(s,c,d){try{const p=yield c.getMetadata();if(yield function(k,F){const q=ut(k),K=Or(F.createTime);return q.persistence.runTransaction("hasNewerBundle","readonly",ee=>q.qs.getBundleMetadata(ee,F.id)).then(ee=>!!ee&&ee.createTime.compareTo(K)>=0)}(s.localStore,p))return yield c.close(),d._completeWith({taskState:"Success",documentsLoaded:(k=p).totalDocuments,bytesLoaded:k.totalBytes,totalDocuments:k.totalDocuments,totalBytes:k.totalBytes}),Promise.resolve(new Set);d._updateProgress(gZ(p));const _=new g9(p,s.localStore,c.serializer);let b=yield c.bc();for(;b;){const k=yield _.zu(b);k&&d._updateProgress(k),b=yield c.bc()}const E=yield _.complete();return yield Lh(s,E.Ju,void 0),yield function(k,F){const q=ut(k);return q.persistence.runTransaction("Save bundle","readwrite",K=>q.qs.saveBundleMetadata(K,F))}(s.localStore,p),d._completeWith(E.progress),Promise.resolve(E.Hu)}catch(p){return Vl("SyncEngine",`Loading bundle failed with ${p}`),d._failWith(p),Promise.resolve(new Set)}var k}),function(s,c,d){return o.apply(this,arguments)})(i,t,e).then(o=>{i.sharedClientState.notifyBundleLoaded(o)})}(yield v2(n),o,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function l7(n,t){return function W9(n,t){return n.asyncQueue.enqueue((0,de.Z)(function*(){return function(e,i){const o=ut(e);return o.persistence.runTransaction("Get named query","readonly",s=>o.qs.getNamedQuery(s,i))}(yield yS(n),t)}))}(Pr(n=Dn(n,Ni)),t).then(e=>e?new Yo(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Ws(this,e):null)}}class RS extends S2{constructor(t){super(),this.firestore=t}convertBytes(t){return new X1(new rd(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Zl.forKey(e,this.firestore,null)}}class mB{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new RS(t)}get(t){const e=A_(t);return this._delegate.get(e).then(i=>new eD(this._firestore,new Vh(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const o=A_(t);return i?(k2("Transaction.set",i),this._delegate.set(o,e,i)):this._delegate.set(o,e),this}update(t,e,i,...o){const s=A_(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...o),this}delete(t){const e=A_(t);return this._delegate.delete(e),this}}class gB{constructor(t){this._delegate=t}set(t,e,i){const o=A_(t);return i?(k2("WriteBatch.set",i),this._delegate.set(o,e,i)):this._delegate.set(o,e),this}update(t,e,i,...o){const s=A_(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...o),this}delete(t){const e=A_(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class T_{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new J1(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new tD(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=T_.INSTANCES;let o=i.get(t);o||(o=new WeakMap,i.set(t,o));let s=o.get(e);return s||(s=new T_(t,new RS(t),e),o.set(e,s)),s}}T_.INSTANCES=new WeakMap;class Zl{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new RS(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Zl(e,new Pi(e._delegate,i,new at(t)))}static forKey(t,e,i){return new Zl(e,new Pi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new b0(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new b0(this.firestore,BZ(this._delegate,t))}catch(e){throw Ys(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,V.m9)(t))instanceof Pi&&qZ(this._delegate,t)}set(t,e){e=k2("DocumentReference.set",e);try{return e?aB(this._delegate,t,e):aB(this._delegate,t)}catch(i){throw Ys(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?lB(this._delegate,t):lB(this._delegate,t,e,...i)}catch(o){throw Ys(o,"updateDoc()","DocumentReference.update()")}}delete(){return function N7(n){return y0(Dn(n.firestore,Ni),[new t0(n._key,Gi.none())])}(this._delegate)}onSnapshot(...t){const e=_B(t),i=vB(t,o=>new eD(this.firestore,new Vh(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return cB(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function M7(n){n=Dn(n,Pi);const t=Dn(n.firestore,Ni),e=Pr(t),i=new mm(t);return function z9(n,t){const e=new uo;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return(i=(0,de.Z)(function*(o,s,c){try{const d=yield function(p,_){const b=ut(p);return b.persistence.runTransaction("read document","readonly",E=>b.localDocuments.getDocument(E,_))}(o,s);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new Re(ge.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const p=h0(d,`Failed to get document '${s} from cache`);c.reject(p)}}),function(o,s,c){return i.apply(this,arguments)})(yield yS(n),t,e);var i})),e.promise}(e,n._key).then(o=>new Vh(t,i,n._key,o,new E_(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function k7(n){n=Dn(n,Pi);const t=Dn(n.firestore,Ni);return kZ(Pr(t),n._key,{source:"server"}).then(e=>M2(t,n,e))}(this._delegate):function S7(n){n=Dn(n,Pi);const t=Dn(n.firestore,Ni);return kZ(Pr(t),n._key).then(e=>M2(t,n,e))}(this._delegate),e.then(i=>new eD(this.firestore,new Vh(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Zl(this.firestore,this._delegate.withConverter(t?T_.getInstance(this.firestore,t):null))}}function Ys(n,t,e){return n.message=n.message.replace(t,e),n}function _B(n){for(const t of n)if("object"==typeof t&&!R2(t))return t;return{}}function vB(n,t){var e,i;let o;return o=R2(n[0])?n[0]:R2(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{o.next&&o.next(t(s))},error:null===(e=o.error)||void 0===e?void 0:e.bind(o),complete:null===(i=o.complete)||void 0===i?void 0:i.bind(o)}}class eD{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Zl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return sB(this._delegate,t._delegate)}}class tD extends eD{data(t){const e=this._delegate.data(t);return function W8(n,t){n||pt()}(void 0!==e),e}}class Ws{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new RS(t)}where(t,e,i){try{return new Ws(this.firestore,fm(this._delegate,function v7(n,t,e){const i=t,o=AS("where",n);return Q1._create(o,i,e)}(t,e,i)))}catch(o){throw Ys(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Ws(this.firestore,fm(this._delegate,function y7(n,t="asc"){const e=t,i=AS("orderBy",n);return I2._create(i,e)}(t,e)))}catch(i){throw Ys(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ws(this.firestore,fm(this._delegate,function b7(n){return UZ("limit",n),IS._create("limit",n,"F")}(t)))}catch(e){throw Ys(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Ws(this.firestore,fm(this._delegate,function w7(n){return UZ("limitToLast",n),IS._create("limitToLast",n,"L")}(t)))}catch(e){throw Ys(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ws(this.firestore,fm(this._delegate,function C7(...n){return SS._create("startAt",n,!0)}(...t)))}catch(e){throw Ys(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ws(this.firestore,fm(this._delegate,function x7(...n){return SS._create("startAfter",n,!1)}(...t)))}catch(e){throw Ys(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ws(this.firestore,fm(this._delegate,function D7(...n){return MS._create("endBefore",n,!1)}(...t)))}catch(e){throw Ys(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ws(this.firestore,fm(this._delegate,function E7(...n){return MS._create("endAt",n,!0)}(...t)))}catch(e){throw Ys(e,"endAt()","Query.endAt()")}}isEqual(t){return w2(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function O7(n){n=Dn(n,Yo);const t=Dn(n.firestore,Ni),e=Pr(t),i=new mm(t);return function $9(n,t){const e=new uo;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return(i=(0,de.Z)(function*(o,s,c){try{const d=yield cS(o,s,!0),p=new yZ(s,d.ir),_=p.sc(d.documents),b=p.applyChanges(_,!1);c.resolve(b.snapshot)}catch(d){const p=h0(d,`Failed to execute query '${s} against cache`);c.reject(p)}}),function(o,s,c){return i.apply(this,arguments)})(yield yS(n),t,e);var i})),e.promise}(e,n._query).then(o=>new pm(t,i,n,o))}(this._delegate):"server"===t?.source?function P7(n){n=Dn(n,Yo);const t=Dn(n.firestore,Ni),e=Pr(t),i=new mm(t);return RZ(e,n._query,{source:"server"}).then(o=>new pm(t,i,n,o))}(this._delegate):function R7(n){n=Dn(n,Yo);const t=Dn(n.firestore,Ni),e=Pr(t),i=new mm(t);return XZ(n._query),RZ(e,n._query).then(o=>new pm(t,i,n,o))}(this._delegate),e.then(i=>new O2(this.firestore,new pm(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=_B(t),i=vB(t,o=>new O2(this.firestore,new pm(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return cB(this._delegate,e,i)}withConverter(t){return new Ws(this.firestore,this._delegate.withConverter(t?T_.getInstance(this.firestore,t):null))}}class oG{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new tD(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class O2{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Ws(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new tD(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new oG(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new tD(this._firestore,i))})}isEqual(t){return sB(this._delegate,t._delegate)}}class b0 extends Ws{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Zl(this.firestore,t):null}doc(t){try{return new Zl(this.firestore,void 0===t?wS(this._delegate):wS(this._delegate,t))}catch(e){throw Ys(e,"doc()","CollectionReference.doc()")}}add(t){return function F7(n,t){const e=Dn(n.firestore,Ni),i=wS(n),o=kS(n.converter,t);return y0(e,[DS(x_(n.firestore),"addDoc",i._key,o,null!==n.converter,{}).toMutation(i._key,Gi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Zl(this.firestore,e))}isEqual(t){return qZ(this._delegate,t._delegate)}withConverter(t){return new b0(this.firestore,this._delegate.withConverter(t?T_.getInstance(this.firestore,t):null))}}function A_(n){return Dn(n,Pi)}class P2{constructor(...t){this._delegate=new Uh(...t)}static documentId(){return new P2(vr.keyField().canonicalString())}isEqual(t){return(t=(0,V.m9)(t))instanceof Uh&&this._delegate._internalPath.isEqual(t._internalPath)}}class I_{constructor(t){this._delegate=t}static serverTimestamp(){const t=function K7(){return new x2("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new I_(t)}static delete(){const t=function W7(){return new G1("deleteField")}();return t._methodName="FieldValue.delete",new I_(t)}static arrayUnion(...t){const e=function Q7(...n){return new f7("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new I_(e)}static arrayRemove(...t){const e=function J7(...n){return new p7("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new I_(e)}static increment(t){const e=function X7(n){return new m7("increment",n)}(t);return e._methodName="FieldValue.increment",new I_(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const sG={Firestore:pB,GeoPoint:CS,Timestamp:$i,Blob:X1,Transaction:mB,WriteBatch:gB,DocumentReference:Zl,DocumentSnapshot:eD,Query:Ws,QueryDocumentSnapshot:tD,QuerySnapshot:O2,CollectionReference:b0,FieldPath:P2,FieldValue:I_,setLogLevel:function rG(n){!function Y8(n){Qp.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function yB(n,t){return function cG(n,t=Qd.z){return new Kn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function N2(n,t){return yB(n,t).pipe((0,Ke.U)(e=>({payload:e,type:"query"})))}function OS(n,t){return N2(n,t).pipe(ga(void 0),AP(),(0,Ke.U)(([e,i])=>{const o=i.payload.docChanges(),s=o.map(c=>({type:c.type,payload:c}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,d)=>{const p=o.find(b=>b.doc.ref.isEqual(c.ref)),_=e?.payload.docs.find(b=>b.ref.isEqual(c.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(c.metadata)||!p&&_&&JSON.stringify(_.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:c}})}),s}))}function bB(n,t,e){return OS(n,e).pipe(Jd((i,o)=>function dG(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function hG(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return F2(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return F2(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return F2(n,t.oldIndex,1)}return n}(n,i))}),n}(i,o.map(s=>s.payload),t),[]),(0,rg.x)(),(0,Ke.U)(i=>i.map(o=>({type:o.type,payload:o}))))}function F2(n,t,e,...i){const o=n.slice();return o.splice(t,e,...i),o}function wB(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function lG(n){(function aG(n,t){n.INTERNAL.registerComponent(new Ns.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),o=e.getProvider("firestore").getImmediate();return t(i,o)},"PUBLIC").setServiceProps(Object.assign({},sG)))})(n,(t,e)=>new pB(t,e,new iG)),n.registerVersion("@firebase/firestore-compat","0.3.10")}(tw.Z);class CB{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=OS(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Ke.U)(i=>i.filter(o=>t.indexOf(o.type)>-1)))),e.pipe(ga(void 0),AP(),jr(([i,o])=>o.length>0||!i),(0,Ke.U)(([i,o])=>o),Wt.iC)}auditTrail(t){return this.stateChanges(t).pipe(Jd((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=wB(t);return bB(this.query,e,this.afs.schedulers.outsideAngular).pipe(Wt.iC)}valueChanges(t={}){return N2(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Wt.iC)}get(t){return(0,_n.D)(this.query.get(t)).pipe(Wt.iC)}add(t){return this.ref.add(t)}doc(t){return new xB(this.ref.doc(t),this.afs)}}class xB{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:o,query:s}=DB(i,e);return new CB(o,s,this.afs)}snapshotChanges(){return function uG(n,t){return yB(n,t).pipe(ga(void 0),AP(),(0,Ke.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Wt.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Ke.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,_n.D)(this.ref.get(t)).pipe(Wt.iC)}}class fG{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?OS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),jr(e=>e.length>0),Wt.iC):OS(this.query,this.afs.schedulers.outsideAngular).pipe(Wt.iC)}auditTrail(t){return this.stateChanges(t).pipe(Jd((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=wB(t);return bB(this.query,e,this.afs.schedulers.outsideAngular).pipe(Wt.iC)}valueChanges(t={}){return N2(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.U)(i=>i.payload.docs.map(o=>t.idField?Object.assign({[t.idField]:o.id},o.data()):o.data())),Wt.iC)}get(t){return(0,_n.D)(this.query.get(t)).pipe(Wt.iC)}}const pG=new r.OlP("angularfire2.enableFirestorePersistence"),mG=new r.OlP("angularfire2.firestore.persistenceSettings"),gG=new r.OlP("angularfire2.firestore.settings"),_G=new r.OlP("angularfire2.firestore.use-emulator");function DB(n,t=(e=>e)){return{query:t(n),ref:n}}let Ka=(()=>{class n{constructor(e,i,o,s,c,d,p,_,b,E,k,F,q,K,ee,Oe,ze){this.schedulers=p;const He=(0,fr.on)(e,d,i),Je=b;E&&GC(He,d,k,q,K,ee,F,Oe),[this.firestore,this.persistenceEnabled$]=(0,fr.cc)(`${He.name}.firestore`,"AngularFirestore",He.name,()=>{const Nt=d.runOutsideAngular(()=>He.firestore());if(s&&Nt.settings(s),Je&&Nt.useEmulator(...Je),o&&!No(c)){const Vt=()=>{try{return(0,_n.D)(Nt.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(En){return typeof console<"u"&&console.warn(En),(0,ft.of)(!1)}};return[Nt,d.runOutsideAngular(Vt)]}return[Nt,(0,ft.of)(!1)]},[s,Je,o])}collection(e,i){let o;o="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:c}=DB(o,i),d=this.schedulers.ngZone.run(()=>s);return new CB(d,c,this)}collectionGroup(e,i){const o=i||(c=>c),s=this.firestore.collectionGroup(e);return new fG(o(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const o=this.schedulers.ngZone.run(()=>i);return new xB(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(fr.Dh),r.LFG(fr.xv,8),r.LFG(pG,8),r.LFG(gG,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(Wt.HU),r.LFG(mG,8),r.LFG(_G,8),r.LFG(db,8),r.LFG(xh,8),r.LFG(sb,8),r.LFG(ab,8),r.LFG(lb,8),r.LFG(cb,8),r.LFG(ub,8),r.LFG(Ch,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Zh=(()=>{class n{constructor(e){this.db=e,this.dbPath="/users",this.lastId=1,this.usersRef=e.collection(this.dbPath)}getAll(){return this.db.collection("users",e=>e.where("state","==","Activo").where("status","==",!0).orderBy("id","asc"))}getusrbyEmail(e){return this.db.collection("users",i=>i.where("state","==","Activo").where("status","==",!0).where("email","==",e))}getperType(e){return this.db.collection("users",i=>i.where("state","==","Activo").where("status","==",!0).where("user_type","==",e).orderBy("id","asc"))}getNumberOfRecords(){return this.db.collection("users").ref.get().then(e=>e.size)}getNextId(){var e=this;return(0,de.Z)(function*(){try{const i=yield e.getNumberOfRecords();e.lastId=i}catch(i){console.error("Error al obtener la cantidad de registros:",i)}e.lastId++})()}create(e){var i=this;return(0,de.Z)(function*(){try{yield i.getNextId();const o=i.lastId.toString();e.id=o;const s=i.db.collection("users").doc();e.uid=s.ref.id;const d={uid:e.uid,id:e.id,...e,profile_picture:e.profile_picture||null};yield s.set(d)}catch(o){throw console.error("Error al crear el usuario:",o),o}})()}update(e){return this.usersRef.doc(e.uid).update(e)}delete(e,i,o){return this.usersRef.doc(e).update({state:"Eliminado",status:!1,lastUpdate:o,lastUpdateUser:i})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Ka))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yr=(()=>{class n{constructor(e,i,o,s){this.afAuth=e,this.auth=i,this.usrservices=o,this.db=s,this.userMod=new Lb,this.currentDate=new Date,this.lastId=1,this.user$=new co.X(null),this.user=null,Lj(this.auth,c=>{this.user$.next(c)})}getNumberOfRecords(){return this.db.collection("users").ref.get().then(e=>e.size)}getNextId(){var e=this;return(0,de.Z)(function*(){try{const i=yield e.getNumberOfRecords();e.lastId=i}catch(i){console.error("Error al obtener la cantidad de registros:",i)}e.lastId++})()}resetPassword(e){var i=this;return(0,de.Z)(function*(){try{return i.afAuth.sendPasswordResetEmail(e)}catch(o){console.log(o)}})()}register({email:e,password:i,name:o,phone:s,address:c,country:d,city:p}){var _=this;return Nj(this.auth,e,i).then(function(){var b=(0,de.Z)(function*(E){yield _.getNextId();const k=_.lastId.toString();return _.db.collection("users").doc(E.user.uid).set({registration_date:_.currentDate,lastUpdate_date:_.currentDate,lastUpdate:_.currentDate,status:!0,state:"Activo",email:e,password:i,name:o,tlf:s,wapp:s,address:c,country:d,city:p,uid:E.user.uid,profile_picture:"",id:k})});return function(E){return b.apply(this,arguments)}}())}login({email:e,password:i}){return Uj(this.auth,e,i)}loginWithGoogle(){return Vj(this.auth,new Wu.V)}logout(){return this.user$.next(null),Zj(this.auth)}getUserObservable(){return this.user$.asObservable()}getUserTypeObservable(e){return this.db.doc(`users/${e}`).valueChanges().pipe((0,Ke.U)(i=>i?.user_type||"Cliente"))}getUserData(){return(0,ft.of)(this.auth.currentUser)}getUserName2(e){return this.db.collection("users").doc(e).get().pipe((0,Ke.U)(i=>i.exists?i.data():null))}getUserName(e){return this.db.collection("users").doc(e).get().pipe((0,Ke.U)(i=>(this.structUser=i.exists?i.data():null,this.structUser?i.data():null)))}getUserFullName(e){return this.db.collection("users").doc(e).get().pipe((0,Ke.U)(i=>i.exists?i.data().name+" "+i.data().lastname:null))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(db),r.LFG(Bx),r.LFG(Zh),r.LFG(Ka))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vG(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"h3",4),r._uU(4,"DASHBOARD"),r.qZA()(),r.TgZ(5,"div",5)(6,"button",6),r.NdJ("click",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.onClick())}),r._uU(7,"Salir"),r.qZA()()(),r.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"h4",13),r._uU(15,"Proyectos Propuestos"),r.qZA(),r.TgZ(16,"p",14),r._uU(17,"Rendimiento de la \xfaltima temporada"),r.qZA()(),r.TgZ(18,"div",15)(19,"div",16)(20,"i",17),r._uU(21,"access_time"),r.qZA(),r._uU(22," Hace 4 minutos "),r.qZA()()()(),r.TgZ(23,"div",10)(24,"div",11)(25,"div",12)(26,"h4",13),r._uU(27,"Proyectos Ejecutados"),r.qZA(),r.TgZ(28,"p",14),r._uU(29,"Rendimiento de la \xfaltima temporada"),r.qZA()(),r.TgZ(30,"div",15)(31,"div",16)(32,"i",17),r._uU(33,"access_time"),r.qZA(),r._uU(34," Hace 4 minutos "),r.qZA()()()(),r.TgZ(35,"div",18)(36,"div",11)(37,"div",12)(38,"h4",13),r._uU(39,"Ingresos por mes"),r.qZA(),r.TgZ(40,"p",14)(41,"span",19),r._UZ(42,"i",20),r._uU(43," 55% "),r.qZA(),r._uU(44," Al dia de hoy"),r.qZA()(),r.TgZ(45,"div",15)(46,"div",16)(47,"i",17),r._uU(48,"access_time"),r.qZA(),r._uU(49," Hace 4 minutos "),r.qZA()()()(),r.TgZ(50,"div",18)(51,"div",11)(52,"div",12)(53,"h4",13),r._uU(54,"Perdidas"),r.qZA(),r.TgZ(55,"p",14)(56,"span",19),r._UZ(57,"i",20),r._uU(58," 55% "),r.qZA(),r._uU(59,"Al dia de hoy"),r.qZA()(),r.TgZ(60,"div",15)(61,"div",16)(62,"i",17),r._uU(63,"access_time"),r.qZA(),r._uU(64," Hace 4 minutos "),r.qZA()()()(),r.TgZ(65,"div",18)(66,"div",11)(67,"div",12)(68,"h4",13),r._uU(69,"Leads"),r.qZA(),r.TgZ(70,"p",14),r._uU(71,"Por regi\xf3n"),r.qZA()(),r.TgZ(72,"div",15)(73,"div",16)(74,"i",17),r._uU(75,"access_time"),r.qZA(),r._uU(76," Hace 2 minutos "),r.qZA()()()()(),r.TgZ(77,"div",21)(78,"div",22)(79,"div",23)(80,"div",24)(81,"div",25)(82,"div",26)(83,"span",27),r._uU(84,"Proyectos recientes:"),r.qZA(),r.TgZ(85,"ul",28)(86,"li",29)(87,"a",30)(88,"i",17),r._uU(89,"bug_report"),r.qZA(),r._uU(90," Problemas "),r._UZ(91,"div",31),r.qZA()(),r.TgZ(92,"li",29)(93,"a",32)(94,"i",17),r._uU(95,"code"),r.qZA(),r._uU(96," Website "),r._UZ(97,"div",31),r.qZA()(),r.TgZ(98,"li",29)(99,"a",33)(100,"i",17),r._uU(101,"cloud"),r.qZA(),r._uU(102," Server "),r._UZ(103,"div",31),r.qZA()()()()()(),r.TgZ(104,"div",12)(105,"div",34)(106,"div",35)(107,"table",36)(108,"tbody")(109,"tr")(110,"td")(111,"div",37)(112,"label",38),r._UZ(113,"input",39),r.TgZ(114,"span",40),r._UZ(115,"span",41),r.qZA()()()(),r.TgZ(116,"td"),r._uU(117,"Es importante definir un tema espec\xedfico y delimitado para evitar dispersarse en diferentes direcciones."),r.qZA(),r.TgZ(118,"td",42)(119,"button",43)(120,"i",17),r._uU(121,"edit"),r.qZA()(),r.TgZ(122,"button",44)(123,"i",17),r._uU(124,"close"),r.qZA()()()(),r.TgZ(125,"tr")(126,"td")(127,"div",37)(128,"label",38),r._UZ(129,"input",45),r.TgZ(130,"span",40),r._UZ(131,"span",41),r.qZA()()()(),r.TgZ(132,"td"),r._uU(133,"Dificultades en la investigaci\xf3n"),r.qZA(),r.TgZ(134,"td",42)(135,"button",43)(136,"i",17),r._uU(137,"edit"),r.qZA()(),r.TgZ(138,"button",44)(139,"i",17),r._uU(140,"close"),r.qZA()()()(),r.TgZ(141,"tr")(142,"td")(143,"div",37)(144,"label",38),r._UZ(145,"input",45),r.TgZ(146,"span",40),r._UZ(147,"span",41),r.qZA()()()(),r.TgZ(148,"td"),r._uU(149,"Problemas de estructura y organizaci\xf3n: La falta de una estructura clara y una organizaci\xf3n adecuada pueden dificultar la redacci\xf3n de la tesis. "),r.qZA(),r.TgZ(150,"td",42)(151,"button",43)(152,"i",17),r._uU(153,"edit"),r.qZA()(),r.TgZ(154,"button",44)(155,"i",17),r._uU(156,"close"),r.qZA()()()(),r.TgZ(157,"tr")(158,"td")(159,"div",37)(160,"label",38),r._UZ(161,"input",39),r.TgZ(162,"span",40),r._UZ(163,"span",41),r.qZA()()()(),r.TgZ(164,"td"),r._uU(165,"Problemas de redacci\xf3n y estilo"),r.qZA(),r.TgZ(166,"td",42)(167,"button",43)(168,"i",17),r._uU(169,"edit"),r.qZA()(),r.TgZ(170,"button",44)(171,"i",17),r._uU(172,"close"),r.qZA()()()()()()(),r.TgZ(173,"div",46)(174,"table",36)(175,"tbody")(176,"tr")(177,"td")(178,"div",37)(179,"label",38),r._UZ(180,"input",39),r.TgZ(181,"span",40),r._UZ(182,"span",41),r.qZA()()()(),r.TgZ(183,"td"),r._uU(184,"Flooded: One year later, assessing what was lost and what was found when a ravaging rain swept through metro Detroit "),r.qZA(),r.TgZ(185,"td",42)(186,"button",43)(187,"i",17),r._uU(188,"edit"),r.qZA()(),r.TgZ(189,"button",44)(190,"i",17),r._uU(191,"close"),r.qZA()()()(),r.TgZ(192,"tr")(193,"td")(194,"div",37)(195,"label",38),r._UZ(196,"input",45),r.TgZ(197,"span",40),r._UZ(198,"span",41),r.qZA()()()(),r.TgZ(199,"td"),r._uU(200,'Sign contract for "What are conference organizers afraid of?"'),r.qZA(),r.TgZ(201,"td",42)(202,"button",43)(203,"i",17),r._uU(204,"edit"),r.qZA()(),r.TgZ(205,"button",44)(206,"i",17),r._uU(207,"close"),r.qZA()()()()()()(),r.TgZ(208,"div",47)(209,"table",36)(210,"tbody")(211,"tr")(212,"td")(213,"div",37)(214,"label",38),r._UZ(215,"input",45),r.TgZ(216,"span",40),r._UZ(217,"span",41),r.qZA()()()(),r.TgZ(218,"td"),r._uU(219,"Lines From Great Russian Literature? Or E-mails From My Boss?"),r.qZA(),r.TgZ(220,"td",42)(221,"button",43)(222,"i",17),r._uU(223,"edit"),r.qZA()(),r.TgZ(224,"button",44)(225,"i",17),r._uU(226,"close"),r.qZA()()()(),r.TgZ(227,"tr")(228,"td")(229,"div",37)(230,"label",38),r._UZ(231,"input",39),r.TgZ(232,"span",40),r._UZ(233,"span",41),r.qZA()()()(),r.TgZ(234,"td"),r._uU(235,"Flooded: One year later, assessing what was lost and what was found when a ravaging rain swept through metro Detroit "),r.qZA(),r.TgZ(236,"td",42)(237,"button",43)(238,"i",17),r._uU(239,"edit"),r.qZA()(),r.TgZ(240,"button",44)(241,"i",17),r._uU(242,"close"),r.qZA()()()(),r.TgZ(243,"tr")(244,"td")(245,"div",37)(246,"label",38),r._UZ(247,"input",39),r.TgZ(248,"span",40),r._UZ(249,"span",41),r.qZA()()()(),r.TgZ(250,"td"),r._uU(251,'Sign contract for "What are conference organizers afraid of?"'),r.qZA(),r.TgZ(252,"td",42)(253,"button",43)(254,"i",17),r._uU(255,"edit"),r.qZA()(),r.TgZ(256,"button",44)(257,"i",17),r._uU(258,"close"),r.qZA()()()()()()()()()()(),r.TgZ(259,"div",22)(260,"div",23)(261,"div",48)(262,"h4",13),r._uU(263,"Estad\xedsticas de profesores"),r.qZA(),r.TgZ(264,"p",14),r._uU(265,"Al 15 de septiembre de 2023"),r.qZA()(),r.TgZ(266,"div",49)(267,"table",50)(268,"thead",51)(269,"th"),r._uU(270,"ID"),r.qZA(),r.TgZ(271,"th"),r._uU(272,"Nombre"),r.qZA(),r.TgZ(273,"th"),r._uU(274,"Ingresos"),r.qZA(),r.TgZ(275,"th"),r._uU(276,"Pais"),r.qZA()(),r.TgZ(277,"tbody")(278,"tr")(279,"td"),r._uU(280,"1"),r.qZA(),r.TgZ(281,"td"),r._uU(282,"Dakota Rice"),r.qZA(),r.TgZ(283,"td"),r._uU(284,"$36,738"),r.qZA(),r.TgZ(285,"td"),r._uU(286,"Niger"),r.qZA()(),r.TgZ(287,"tr")(288,"td"),r._uU(289,"2"),r.qZA(),r.TgZ(290,"td"),r._uU(291,"Minerva Hooper"),r.qZA(),r.TgZ(292,"td"),r._uU(293,"$23,789"),r.qZA(),r.TgZ(294,"td"),r._uU(295,"Cura\xe7ao"),r.qZA()(),r.TgZ(296,"tr")(297,"td"),r._uU(298,"3"),r.qZA(),r.TgZ(299,"td"),r._uU(300,"Sage Rodriguez"),r.qZA(),r.TgZ(301,"td"),r._uU(302,"$56,142"),r.qZA(),r.TgZ(303,"td"),r._uU(304,"Netherlands"),r.qZA()(),r.TgZ(305,"tr")(306,"td"),r._uU(307,"4"),r.qZA(),r.TgZ(308,"td"),r._uU(309,"Philip Chaney"),r.qZA(),r.TgZ(310,"td"),r._uU(311,"$38,735"),r.qZA(),r.TgZ(312,"td"),r._uU(313,"Korea, South"),r.qZA()()()()()()()()()()()}}let yG=(()=>{class n{constructor(e,i){this.loginService=e,this.router=i,this.displayframe=!1}ngOnInit(){this.loginService.getUserObservable().subscribe(e=>{e&&this.loginService.getUserTypeObservable(e.uid).subscribe(i=>{this.displayframeOpt(i)})})}displayframeOpt(e){e&&("Admin"==e?this.displayframe=!0:this.router.navigate(["/main"]))}onClick(){this.loginService.logout().then(()=>{this.router.navigate(["/login"])}).catch(e=>console.log(e))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Yr),r.Y36(a))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-dashboard"]],decls:1,vars:1,consts:[["class","register-container bg-light rounded",4,"ngIf"],[1,"register-container","bg-light","rounded"],[1,"row","px-3"],[1,"col-11"],[1,"text-left","fw-bold"],[1,"col-1","text-end","pt-2"],[1,"btn","btn-outline-danger","btn-custom",3,"click"],[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-3"],[1,"card","card-chart"],[1,"card-body"],[1,"card-title"],[1,"card-category"],[1,"card-footer"],[1,"stats"],[1,"material-icons"],[1,"col-md-2"],[1,"text-success"],[1,"fa","fa-long-arrow-up"],[1,"row",2,"margin-top","15px"],[1,"col-lg-6","col-md-12"],[1,"card"],[1,"card-header","card-header-tabs","card-header-primary"],[1,"nav-tabs-navigation"],[1,"nav-tabs-wrapper"],[1,"nav-tabs-title"],["data-tabs","tabs",1,"nav","nav-tabs"],[1,"nav-item"],["mat-button","","href","#profile","data-toggle","tab",1,"nav-link","active"],[1,"ripple-container"],["mat-button","","href","#messages","data-toggle","tab",1,"nav-link"],["mat-button","","href","#settings","data-toggle","tab",1,"nav-link"],[1,"tab-content"],["id","profile",1,"tab-pane","active"],[1,"table"],[1,"form-check"],[1,"form-check-label"],["type","checkbox","value","","checked","",1,"form-check-input"],[1,"form-check-sign"],[1,"check"],[1,"td-actions","text-right"],["mat-raised-button","","type","button","matTooltip","Edit Task",1,"btn","btn-primary","btn-link","btn-sm","btn-just-icon"],["mat-raised-button","","type","button","matTooltip","Remove",1,"btn","btn-danger","btn-link","btn-sm","btn-just-icon"],["type","checkbox","value","",1,"form-check-input"],["id","messages",1,"tab-pane"],["id","settings",1,"tab-pane"],[1,"card-header","card-header-warning"],[1,"card-body","table-responsive"],[1,"table","table-hover"],[1,"text-warning2"]],template:function(e,i){1&e&&r.YNc(0,vG,314,0,"div",0),2&e&&r.Q6J("ngIf",i.displayframe)},dependencies:[Un],styles:[".btn-custom[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.75rem;line-height:1;border-radius:.2rem}.stats[_ngcontent-%COMP%]{display:flex;align-items:center}.text-warning2[_ngcontent-%COMP%]{color:#dc3545}"]}),n})();function bG(n,t){1&n&&(r.TgZ(0,"span",26),r._uU(1," El "),r.TgZ(2,"strong"),r._uU(3,"correo"),r.qZA(),r._uU(4," es requerido "),r.qZA())}function wG(n,t){1&n&&(r.TgZ(0,"span",26),r._uU(1," El "),r.TgZ(2,"strong"),r._uU(3,"correo"),r.qZA(),r._uU(4," es inv\xe1lido "),r.qZA())}function CG(n,t){1&n&&(r.TgZ(0,"span",26),r._uU(1," El "),r.TgZ(2,"strong"),r._uU(3,"correo"),r.qZA(),r._uU(4," es inv\xe1lido "),r.qZA())}function xG(n,t){1&n&&(r.TgZ(0,"span",26),r._uU(1," El "),r.TgZ(2,"strong"),r._uU(3,"correo"),r.qZA(),r._uU(4," ya esta en uso "),r.qZA())}function DG(n,t){1&n&&(r.TgZ(0,"span",26)(1,"strong"),r._uU(2,"Contrase\xf1a"),r.qZA(),r._uU(3," incorrecta "),r.qZA())}function EG(n,t){1&n&&(r.TgZ(0,"span",26),r._uU(1," La "),r.TgZ(2,"strong"),r._uU(3,"Contrase\xf1a"),r.qZA(),r._uU(4," es requerida "),r.qZA())}function TG(n,t){1&n&&(r.TgZ(0,"span",26),r._uU(1," La "),r.TgZ(2,"strong"),r._uU(3,"Contrase\xf1a"),r.qZA(),r._uU(4," debe tener al menos 6 caracteres "),r.qZA())}const AG=function(n,t){return{"fa-eye":n,"fa-eye-slash":t}};let IG=(()=>{class n{togglePasswordVisibility(){this.showPassword=!this.showPassword}constructor(e,i){this.loginService=e,this.router=i,this.showPassword=!1,this.formReg=new Ps({email:new yo(""),password:new yo(""),name:new yo(""),phone:new yo(""),address:new yo(""),country:new yo(""),city:new yo("")})}ngOnInit(){}onSubmit(){const e=(0,Wu.o)();(0,Wu.x)(e,function(){var i=(0,de.Z)(function*(o){o?yield o.getIdToken():console.log("No user")});return function(o){return i.apply(this,arguments)}}()),this.loginService.register(this.formReg.value).then(i=>{this.loginService.logout(),this.router.navigate(["/login"])}).catch(i=>{const o=i.code;let s=i.message;"auth/wrong-password"===o?this.formReg.setErrors({wrongPassword:!0}):"auth/user-not-found"===o?this.formReg.setErrors({userNotFound:!0}):"auth/missing-password"===o?this.formReg.setErrors({missingPassword:!0}):"auth/invalid-email"===o?this.formReg.setErrors({invalidEmail:!0}):"auth/weak-password"===o?this.formReg.setErrors({weakPassword:!0}):"auth/email-already-in-use"===o&&this.formReg.setErrors({emailalreadyinuse:!0}),console.log(s)})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Yr),r.Y36(a))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-register"]],decls:52,vars:13,consts:[[1,"register-container"],[2,"text-align","center","width","100%"],["src","../../../assets/img/logo.png","alt","Login",1,"mt-3","mx-auto","d-block"],[1,"mb-4"],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"input-group","mb-3"],["id","basic-addon1",1,"input-group-text"],["src","assets/img/en.png","width","16","height","16"],["type","text","placeholder","Email","formControlName","email",1,"form-control"],["class","text-danger errorLabel",4,"ngIf"],[1,"password-field-container"],["src","assets/img/cerrar.png","width","16","height","16"],["placeholder","Contrase\xf1a","formControlName","password","id","passwordInput",1,"form-control",3,"type"],[1,"toggle-password","fas",3,"ngClass","mouseover","mouseout"],["src","assets/img/usuario.png","width","18","height","16"],["type","text","placeholder","Nombre","formControlName","name",1,"form-control"],["src","assets/img/voltear-el-telefono.png","width","16","height","16"],["type","text","placeholder","N\xfamero de tel\xe9fono","formControlName","phone",1,"form-control"],["src","assets/img/marcador.png","width","16","height","16"],["type","text","readonly","readonly","placeholder","Direcci\xf3n","formControlName","address",1,"form-control",2,"background-color","rgba(250, 244, 244, 0.856)"],["src","assets/img/bandera.png","width","16","height","16"],["type","text","placeholder","Pa\xeds","formControlName","country",1,"form-control"],["src","assets/img/construccion-de-casas.png","width","16","height","16"],["type","text","placeholder","Ciudad","formControlName","city",1,"form-control"],["type","submit",1,"btn2"],[1,"text-danger","errorLabel"]],template:function(e,i){if(1&e&&(r.TgZ(0,"div",0)(1,"div",1),r._UZ(2,"img",2),r.TgZ(3,"h3",3),r._uU(4,"Registro de usuario"),r.qZA()(),r.TgZ(5,"form",4),r.NdJ("ngSubmit",function(){return i.onSubmit()}),r.TgZ(6,"div",5)(7,"div",6)(8,"span",7),r._UZ(9,"img",8),r.qZA(),r._UZ(10,"input",9),r.qZA(),r.YNc(11,bG,5,0,"span",10),r.YNc(12,wG,5,0,"span",10),r.YNc(13,CG,5,0,"span",10),r.YNc(14,xG,5,0,"span",10),r.qZA(),r.TgZ(15,"div",5)(16,"div",11)(17,"div",6)(18,"span",7),r._UZ(19,"img",12),r.qZA(),r._UZ(20,"input",13),r.qZA(),r.TgZ(21,"i",14),r.NdJ("mouseover",function(){return i.togglePasswordVisibility()})("mouseout",function(){return i.togglePasswordVisibility()}),r.qZA(),r.YNc(22,DG,4,0,"span",10),r.YNc(23,EG,5,0,"span",10),r.YNc(24,TG,5,0,"span",10),r.qZA()(),r.TgZ(25,"div",5)(26,"div",6)(27,"span",7),r._UZ(28,"img",15),r.qZA(),r._UZ(29,"input",16),r.qZA()(),r.TgZ(30,"div",5)(31,"div",6)(32,"span",7),r._UZ(33,"img",17),r.qZA(),r._UZ(34,"input",18),r.qZA()(),r.TgZ(35,"div",5)(36,"div",6)(37,"span",7),r._UZ(38,"img",19),r.qZA(),r._UZ(39,"input",20),r.qZA()(),r.TgZ(40,"div",5)(41,"div",6)(42,"span",7),r._UZ(43,"img",21),r.qZA(),r._UZ(44,"input",22),r.qZA()(),r.TgZ(45,"div",5)(46,"div",6)(47,"span",7),r._UZ(48,"img",23),r.qZA(),r._UZ(49,"input",24),r.qZA()(),r.TgZ(50,"button",25),r._uU(51,"Enviar"),r.qZA()()()),2&e){let o,s;r.xp6(5),r.Q6J("formGroup",i.formReg),r.xp6(6),r.Q6J("ngIf",(null==(o=i.formReg.get("email"))?null:o.hasError("required"))&&(null==(o=i.formReg.get("email"))?null:o.touched)),r.xp6(1),r.Q6J("ngIf",(null==(s=i.formReg.get("email"))?null:s.hasError("email"))&&(null==(s=i.formReg.get("email"))?null:s.touched)),r.xp6(1),r.Q6J("ngIf",i.formReg.hasError("invalidEmail")),r.xp6(1),r.Q6J("ngIf",i.formReg.hasError("emailalreadyinuse")),r.xp6(6),r.s9C("type",i.showPassword?"text":"password"),r.xp6(1),r.Q6J("ngClass",r.WLB(10,AG,i.showPassword,!i.showPassword)),r.xp6(1),r.Q6J("ngIf",i.formReg.hasError("wrongPassword")),r.xp6(1),r.Q6J("ngIf",i.formReg.hasError("missingPassword")),r.xp6(1),r.Q6J("ngIf",i.formReg.hasError("weakPassword"))}},dependencies:[Gn,Un,Il,qi,vi,as,Mu,qf],styles:[".register-container[_ngcontent-%COMP%]{max-width:800px;padding:20px;border:1px solid #ccc;border-radius:5px;text-align:right}.btn2[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;border:none;padding:10px 20px;cursor:pointer;transition:background-color .3s;width:150px;border-radius:10px}.btn2[_ngcontent-%COMP%]:hover{background-color:#343a40}.password-field[_ngcontent-%COMP%]{position:relative}.toggle-password[_ngcontent-%COMP%]{margin-left:5px;right:10px;float:left;cursor:pointer}.password-field-container[_ngcontent-%COMP%]{display:flex;align-items:center}.password-field-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1}"]}),n})();function SG(n,t){1&n&&(r.TgZ(0,"span",16),r._uU(1," El "),r.TgZ(2,"strong"),r._uU(3,"correo"),r.qZA(),r._uU(4," es requerido "),r.qZA())}function MG(n,t){1&n&&(r.TgZ(0,"span",16),r._uU(1," El "),r.TgZ(2,"strong"),r._uU(3,"correo"),r.qZA(),r._uU(4," es inv\xe1lido "),r.qZA())}function kG(n,t){1&n&&(r.TgZ(0,"span",16),r._uU(1," El "),r.TgZ(2,"strong"),r._uU(3,"correo"),r.qZA(),r._uU(4," es inv\xe1lido "),r.qZA())}function RG(n,t){1&n&&(r.TgZ(0,"span",16)(1,"strong"),r._uU(2,"Usuario"),r.qZA(),r._uU(3," no encontrado "),r.qZA())}function OG(n,t){1&n&&(r.TgZ(0,"span",16)(1,"strong"),r._uU(2,"Cuenta"),r.qZA(),r._uU(3," deshabilitada "),r.qZA())}function PG(n,t){1&n&&(r.TgZ(0,"span",16),r._uU(1," La "),r.TgZ(2,"strong"),r._uU(3,"contrase\xf1a"),r.qZA(),r._uU(4," es requerida "),r.qZA())}function NG(n,t){1&n&&(r.TgZ(0,"span",16)(1,"strong"),r._uU(2,"Contrase\xf1a"),r.qZA(),r._uU(3," incorrecta "),r.qZA())}function FG(n,t){1&n&&(r.TgZ(0,"span",16),r._uU(1," La "),r.TgZ(2,"strong"),r._uU(3,"Contrase\xf1a"),r.qZA(),r._uU(4," es requerida "),r.qZA())}const LG=function(){return["/passwd-reset"]};let UG=(()=>{class n{constructor(e,i,o){this.loginService=e,this.userService=i,this.router=o,this.formLogin=new Ps({email:new yo,password:new yo})}ngOnInit(){}onSubmit(){this.formLogin.valid&&this.loginService.login({email:this.formLogin.value.email,password:this.formLogin.value.password}).then(o=>{this.router.navigate(["/main"])}).catch(o=>{const s=o.code;let c=o.message;"auth/wrong-password"===s?this.formLogin.setErrors({wrongPassword:!0}):"auth/user-not-found"===s?this.formLogin.setErrors({userNotFound:!0}):"auth/missing-password"===s?this.formLogin.setErrors({missingPassword:!0}):"auth/invalid-email"===s?this.formLogin.setErrors({invalidEmail:!0}):"auth/user-disabled"===s&&this.formLogin.setErrors({accountdisabled:!0}),console.log(c)})}loginGoogle(){this.loginService.loginWithGoogle().then(e=>{this.router.navigate(["/dashboard"])}).catch(e=>console.log(e))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Yr),r.Y36(Zh),r.Y36(a))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-login"]],decls:30,vars:11,consts:[[1,"login-container"],[2,"text-align","center","width","100%"],["src","../../../assets/img/logo.png","alt","Login",1,"mt-3","mx-auto","d-block"],[1,"mb-4"],[1,"login-form",3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"input-group","mb-3"],["id","basic-addon1",1,"input-group-text"],["src","assets/img/en.png","width","16","height","16"],["required","","type","email","placeholder","Email","formControlName","email",1,"form-control"],["class","text-danger errorLabel",4,"ngIf"],["src","assets/img/cerrar.png","width","16","height","16"],["type","password","placeholder","Contrase\xf1a","formControlName","password",1,"form-control"],["type","submit",1,"btn2"],[1,"form-group","mt-3"],[3,"routerLink"],[1,"text-danger","errorLabel"]],template:function(e,i){if(1&e&&(r.TgZ(0,"div",0)(1,"div",1),r._UZ(2,"img",2),r.TgZ(3,"h3",3),r._uU(4,"Inicia sesi\xf3n para acceder a tu cuenta"),r.qZA()(),r.TgZ(5,"form",4),r.NdJ("ngSubmit",function(){return i.onSubmit()}),r.TgZ(6,"div",5)(7,"div",6)(8,"span",7),r._UZ(9,"img",8),r.qZA(),r._UZ(10,"input",9),r.qZA(),r.YNc(11,SG,5,0,"span",10),r.YNc(12,MG,5,0,"span",10),r.YNc(13,kG,5,0,"span",10),r.YNc(14,RG,4,0,"span",10),r.YNc(15,OG,4,0,"span",10),r.qZA(),r.TgZ(16,"div",5)(17,"div",6)(18,"span",7),r._UZ(19,"img",11),r.qZA(),r._UZ(20,"input",12),r.qZA(),r.YNc(21,PG,5,0,"span",10),r.YNc(22,NG,4,0,"span",10),r.YNc(23,FG,5,0,"span",10),r.qZA(),r.TgZ(24,"button",13),r._uU(25,"Iniciar sesi\xf3n"),r.qZA()(),r.TgZ(26,"div",14)(27,"p")(28,"a",15),r._uU(29," Recuperar contrse\xf1a "),r.qZA()()()()),2&e){let o,s,c;r.xp6(5),r.Q6J("formGroup",i.formLogin),r.xp6(6),r.Q6J("ngIf",(null==(o=i.formLogin.get("email"))?null:o.hasError("required"))&&(null==(o=i.formLogin.get("email"))?null:o.touched)),r.xp6(1),r.Q6J("ngIf",(null==(s=i.formLogin.get("email"))?null:s.hasError("email"))&&(null==(s=i.formLogin.get("email"))?null:s.touched)),r.xp6(1),r.Q6J("ngIf",i.formLogin.hasError("invalidEmail")),r.xp6(1),r.Q6J("ngIf",i.formLogin.hasError("userNotFound")),r.xp6(1),r.Q6J("ngIf",i.formLogin.hasError("accountdisabled")),r.xp6(6),r.Q6J("ngIf",(null==(c=i.formLogin.get("password"))?null:c.hasError("required"))&&(null==(c=i.formLogin.get("password"))?null:c.touched)),r.xp6(1),r.Q6J("ngIf",i.formLogin.hasError("wrongPassword")),r.xp6(1),r.Q6J("ngIf",i.formLogin.hasError("missingPassword")),r.xp6(5),r.Q6J("routerLink",r.DdM(10,LG))}},dependencies:[Un,u,Il,qi,vi,as,cs,Mu,qf],styles:[".login-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;border:1px solid #ccc;border-radius:5px}.btn2[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;border:none;padding:10px 20px;cursor:pointer;transition:background-color .3s;width:150px;border-radius:10px}.btn2[_ngcontent-%COMP%]:hover{background-color:#343a40}"]}),n})();const L2=(0,Ke.U)(n=>!!n);let VG=(()=>{class n{constructor(e,i){this.router=e,this.auth=i,this.canActivate=(o,s)=>{const c=o.data.authGuardPipe||(()=>L2);return Pj(this.auth).pipe(zr(1),c(o,s),(0,Ke.U)(d=>"boolean"==typeof d?d:Array.isArray(d)?this.router.createUrlTree(d):this.router.parseUrl(d)))}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(a),r.LFG(Bx))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const vs=n=>({canActivate:[VG],data:{authGuardPipe:n}}),ys=n=>(0,bA.z)(L2,(0,Ke.U)(t=>t||n)),BG=["chatBody"];function qG(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"li")(1,"div",19)(2,"button",20),r.NdJ("click",function(){const s=r.CHM(e).$implicit,c=r.oxw(3);return r.KtG(c.viewchat(s.uid))}),r._uU(3),r.qZA()()()}if(2&n){const e=t.$implicit;r.xp6(3),r.AsE("",e.name," ",e.lastname,"")}}function HG(n,t){if(1&n&&(r.TgZ(0,"div",13)(1,"div",14)(2,"div",15),r._uU(3," CONVERSACIONES "),r.qZA(),r.TgZ(4,"div",16)(5,"ul",17),r.YNc(6,qG,4,2,"li",18),r.qZA()()()()),2&n){const e=r.oxw(2);r.xp6(6),r.Q6J("ngForOf",e.usuariosConMensajes)}}const jG=function(n,t){return{"current-user-message":n,"other-user-message":t}};function zG(n,t){if(1&n&&(r.TgZ(0,"div",21)(1,"div",22),r._uU(2),r._UZ(3,"br"),r.TgZ(4,"span",23)(5,"strong"),r._uU(6),r.qZA(),r._uU(7),r.qZA()()()),2&n){const e=t.$implicit,i=r.oxw(2);r.xp6(1),r.Q6J("ngClass",r.WLB(4,jG,e.senderUid===i.currentUserUid,e.senderUid!==i.currentUserUid)),r.xp6(1),r.hij(" ",e.message," "),r.xp6(4),r.hij("",e.sendersName,"."),r.xp6(1),r.hij(" ",e.formattedTimestamp,"")}}const EB=function(n,t){return{marginPadding:n,"":t}};function $G(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",1),r.YNc(1,HG,7,1,"div",2),r.TgZ(2,"div",3)(3,"div",4)(4,"div",5),r._uU(5),r.qZA(),r.TgZ(6,"div",6,7),r.YNc(8,zG,8,7,"div",8),r.qZA(),r.TgZ(9,"div",9)(10,"div",10)(11,"textarea",11),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.newMessage=o)})("keydown.enter",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.sendMessage())}),r._uU(12,"                "),r.qZA(),r.TgZ(13,"button",12),r.NdJ("click",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.sendMessage())}),r._uU(14,"Enviar"),r.qZA()()()()()()}if(2&n){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",e.panelUsr),r.xp6(1),r.Q6J("ngClass",r.WLB(6,EB,!1!==e.panelUsr,!1===e.panelUsr)),r.xp6(1),r.Q6J("ngClass",r.WLB(9,EB,!1!==e.panelUsr,!1===e.panelUsr)),r.xp6(2),r.hij(" CHAT - ",e.tituloPrd," "),r.xp6(3),r.Q6J("ngForOf",e.chatMessages),r.xp6(3),r.Q6J("ngModel",e.newMessage)}}let V2,GG=(()=>{class n{constructor(e,i,o,s,c){this.router=e,this.route=i,this.firestore=o,this.loginService=s,this.userService=c,this.panelUsr=!1,this.usuariosConMensajes=[],this.user=new Lb,this.currentUserUid=null,this.currentUserEmail=null,this.sendersName="Usuario",this.chatMessages=[],this.newMessage="",this.tituloPrd="ADMINISTRACI\xd3N",this.displayframe=!1,this.currentUserUid="uid_del_usuario_actual",this.receiveUserUid="USUARIOADMIN"}ngOnInit(){this.loginService.user$.subscribe(e=>{this.currentUserUid=e?e.uid:null,this.currentUserEmail=e?e.email:null,null!=this.currentUserEmail&&this.userService.getusrbyEmail(this.currentUserEmail.toString()).valueChanges().subscribe(i=>{if(i[0]){this.user=i[0];let o="";this.user.uid&&(o=this.user.uid),"Admin"==this.user.user_type?(this.panelUsr=!0,this.receiveUserUid="",this.currentUserUid="USUARIOADMIN",this.sendersName="Admin",this.getUsuariosConMensajes().subscribe(s=>{this.usuariosConMensajes=s})):(this.panelUsr=!1,this.receiveUserUid="USUARIOADMIN",this.user.name&&(this.sendersName=this.user.name),this.viewChatMessage(o))}})}),this.loginService.getUserObservable().subscribe(e=>{e&&this.loginService.getUserTypeObservable(e.uid).subscribe(i=>{this.displayframeOpt(i)})})}displayframeOpt(e){e&&("Admin"==e||"Asistente"==e?this.displayframe=!0:this.router.navigate(["/main"]))}getUsuariosConMensajes(){const e=this.firestore.collection("chats",s=>s.where("uidProject","==","AyudaAdmin"));return qc([e.valueChanges({idField:"id"}).pipe((0,Ke.U)(s=>s.map(c=>c.senderUid)),(0,Ke.U)(s=>[...new Set(s)]),(0,Ke.U)(s=>s.filter(c=>null!=c&&""!==c))),e.valueChanges({idField:"id"}).pipe((0,Ke.U)(s=>s.map(c=>c.receiverUid)),(0,Ke.U)(s=>[...new Set(s)]),(0,Ke.U)(s=>s.filter(c=>null!=c&&""!==c)))]).pipe(Mi(([s,c])=>{const d=[...s,...c];return d.length>0?this.firestore.collection("users",p=>p.where("uid","in",d)).valueChanges():[]}))}ngAfterViewInit(){this.scrollToBottom()}sendMessage(){this.newMessage&&this.firestore.collection("chats").add({senderUid:this.currentUserUid,receiverUid:this.receiveUserUid,message:this.newMessage,timestamp:$C.Z.firestore.FieldValue.serverTimestamp(),uidProject:"AyudaAdmin",sendersName:this.sendersName,status:"E"}).then(()=>{this.newMessage=""}).catch(e=>{console.error("Error al enviar el mensaje:",e)})}scrollToBottom(){setTimeout(()=>{this.chatBody&&(this.chatBody.nativeElement.scrollTop=this.chatBody.nativeElement.scrollHeight)},0)}viewchat(e){this.viewChatMessage(e)}viewChatMessage(e){null!=this.currentUserEmail?this.userService.getusrbyEmail(this.currentUserEmail.toString()).valueChanges().subscribe(i=>{i[0]&&(this.user=i[0],"Admin"==this.user.user_type?(this.receiveUserUid=e,this.currentUserUid="USUARIOADMIN"):(this.receiveUserUid="USUARIOADMIN",this.currentUserUid=e),this.firestore.collection("chats",o=>o.where("senderUid","in",[this.currentUserUid,this.receiveUserUid]).where("receiverUid","in",[this.currentUserUid,this.receiveUserUid]).where("uidProject","==","AyudaAdmin").orderBy("timestamp")).valueChanges().subscribe(o=>{this.chatMessages=o.map(s=>{const d=s.timestamp?.toDate()?.toLocaleString("es-VE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return{...s,formattedTimestamp:d}}),this.scrollToBottom()}))}):console.log("Error al recuperar los datos")}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(a),r.Y36(zs),r.Y36(Ka),r.Y36(Yr),r.Y36(Zh))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-admincontact"]],viewQuery:function(e,i){if(1&e&&r.Gf(BG,5),2&e){let o;r.iGM(o=r.CRH())&&(i.chatBody=o.first)}},decls:1,vars:1,consts:[["class","row",4,"ngIf"],[1,"row"],["class","col-sm-3 col-md-3 col-lg-3 col-xl-3","style","margin-right: 0px; padding-right: 0px;",4,"ngIf"],[1,"col-sm-6","col-md-6","col-lg-6","col-xl-6",3,"ngClass"],[1,"card",3,"ngClass"],[1,"card-header"],[1,"card-body"],["chatBody",""],["class","msmcontent",4,"ngFor","ngForOf"],[1,"card-footer"],[1,"input-group","mb-3"],["rows","2","wrap","hard","placeholder","Escribe un mensaje","aria-label","Escribe un mensaje","aria-describedby","button-addon2",1,"form-control",2,"resize","none",3,"ngModel","ngModelChange","keydown.enter"],["type","button","id","button-addon2",1,"btn","btn-outline-secondary",3,"click"],[1,"col-sm-3","col-md-3","col-lg-3","col-xl-3",2,"margin-right","0px","padding-right","0px"],[1,"card",2,"margin-right","0px","padding-right","0px"],[1,"card-header-2"],[1,"card-body",2,"list-style","none","padding-left","0px","padding-right","0px","background-color","white"],[2,"list-style","none","padding-left","0px"],[4,"ngFor","ngForOf"],[1,"d-grid","gap-2","mb-1"],["type","button",1,"btn","btn-light","text-start",3,"click"],[1,"msmcontent"],[2,"overflow","hidden",3,"ngClass"],[1,"smstime",2,"float","right"]],template:function(e,i){1&e&&r.YNc(0,$G,15,12,"div",0),2&e&&r.Q6J("ngIf",i.displayframe)},dependencies:[Gn,cr,Un,qi,vi,ha],styles:[".card[_ngcontent-%COMP%]{margin-top:5px;margin-left:5px;max-width:600px;min-width:250px;display:flex;flex-direction:column;justify-content:space-between;height:100%}.card-header[_ngcontent-%COMP%]{font-weight:500;background-color:#edf0f2e9;color:#dc3545;height:60px;display:flex;align-items:center;justify-content:left;border-bottom-color:#dc3545}.card-header-2[_ngcontent-%COMP%]{font-weight:500;background-color:#ffffffe9;height:60px;display:flex;align-items:center;border-bottom:1px solid #dc3545;padding-left:15px}.card-body[_ngcontent-%COMP%]{height:300px;overflow-y:scroll;scroll-behavior:smooth;background-color:#f7f7f1;scrollbar-width:thin;scrollbar-color:transparent transparent}.card-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.card-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:transparent}.msmcontent[_ngcontent-%COMP%]{display:block;text-align:right}.current-user-message[_ngcontent-%COMP%]{background-color:#ccf7ff;color:#2b2e2e;font-size:14px;margin:3px;padding:5px 10px;border-top-left-radius:15px;border-bottom-right-radius:15px;text-align:left;display:inline-block}.other-user-message[_ngcontent-%COMP%]{background-color:#f8e9fb;color:#2b2e2e;font-size:14px;margin:3px;padding:5px 10px;border-top-right-radius:15px;border-bottom-left-radius:15px;text-align:right;display:inline-block}.card-footer[_ngcontent-%COMP%]{display:flex}input[type=text][_ngcontent-%COMP%]{flex:1;margin-right:10px}.smstime[_ngcontent-%COMP%]{font-size:x-small;color:#010918}.marginPadding[_ngcontent-%COMP%]{margin-left:0;padding-left:0}"]}),n})();class U2{constructor(){this.country="",this.city=""}}try{V2=typeof Intl<"u"&&Intl.v8BreakIterator}catch{V2=!1}let w0,br=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Jc(n){return n===cl}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!V2)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.Lbi))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const TB=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function AB(){if(w0)return w0;if("object"!=typeof document||!document)return w0=new Set(TB),w0;let n=document.createElement("input");return w0=new Set(TB.filter(t=>(n.setAttribute("type",t),n.type===t))),w0}let nD,S_,Z2;function Bh(n){return function YG(){if(null==nD&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>nD=!0}))}finally{nD=nD||!1}return nD}()?n:!!n.capture}function WG(){if(null==S_){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return S_=!1,S_;if("scrollBehavior"in document.documentElement.style)S_=!0;else{const n=Element.prototype.scrollTo;S_=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return S_}function IB(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function _m(n){return n.composedPath?n.composedPath()[0]:n.target}function B2(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Bl(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function q2(n,t=Qd.z){return(0,Sr.e)((e,i)=>{let o=null,s=null,c=null;const d=()=>{if(o){o.unsubscribe(),o=null;const _=s;s=null,i.next(_)}};function p(){const _=c+n,b=t.now();if(b<_)return o=this.schedule(void 0,_-b),void i.add(o);d()}e.subscribe((0,bn.x)(i,_=>{s=_,c=t.now(),o||(o=t.schedule(p,n),i.add(o))},()=>{d(),i.complete()},void 0,()=>{s=o=null}))})}function MB(n){return jr((t,e)=>n<=e)}function Ei(n){return(0,Sr.e)((t,e)=>{(0,Zo.Xf)(n).subscribe((0,bn.x)(e,()=>e.complete(),pv.Z)),!e.closed&&t.subscribe(e)})}function Pn(n){return null!=n&&"false"!=`${n}`}function bm(n,t=0){return kB(n)?Number(n):t}function kB(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function US(n){return Array.isArray(n)?n:[n]}function Wr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function wm(n){return n instanceof r.SBq?n.nativeElement:n}let lY=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[lY]}),n})();const OB=new Set;let M_,cY=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):dY}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function uY(n,t){if(!OB.has(n))try{M_||(M_=document.createElement("style"),t&&(M_.nonce=t),M_.setAttribute("type","text/css"),document.head.appendChild(M_)),M_.sheet&&(M_.sheet.insertRule(`@media ${n} {body{ }}`,0),OB.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(br),r.LFG(r.Ojb,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dY(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let hY=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new $t.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return PB(US(e)).some(o=>this._registerQuery(o).mql.matches)}observe(e){let s=qc(PB(US(e)).map(c=>this._registerQuery(c).observable));return s=Hg(s.pipe(zr(1)),s.pipe(MB(1),q2(0))),s.pipe((0,Ke.U)(c=>{const d={matches:!1,breakpoints:{}};return c.forEach(({matches:p,query:_})=>{d.matches=d.matches||p,d.breakpoints[_]=p}),d}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new Kn.y(c=>{const d=p=>this._zone.run(()=>c.next(p));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(ga(i),(0,Ke.U)(({matches:c})=>({query:e,matches:c})),Ei(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(cY),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function PB(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function FB(n,t,e){const i=VS(n,t);i.some(o=>o.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))}function H2(n,t,e){const o=VS(n,t).filter(s=>s!=e.trim());o.length?n.setAttribute(t,o.join(" ")):n.removeAttribute(t)}function VS(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const LB="cdk-describedby-message",ZS="cdk-describedby-host";let j2=0,UB=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+j2++,this._document=e,this._id=(0,r.f3M)(r.AFp)+"-"+j2++}describe(e,i,o){if(!this._canBeDescribed(e,i))return;const s=z2(i,o);"string"!=typeof i?(VB(i,this._id),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,o),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,i,o){if(!i||!this._isElementNode(e))return;const s=z2(i,o);if(this._isElementDescribedByMessage(e,s)&&this._removeMessageReference(e,s),"string"==typeof i){const c=this._messageRegistry.get(s);c&&0===c.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${ZS}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(ZS);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const o=this._document.createElement("div");VB(o,this._id),o.textContent=e,i&&o.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(o),this._messageRegistry.set(z2(e,i),{messageElement:o,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();const o=this._document.createElement("div");o.style.visibility="hidden",o.classList.add(e),o.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&o.setAttribute("platform","server"),this._document.body.appendChild(o),this._messagesContainer=o}_removeCdkDescribedByReferenceIds(e){const i=VS(e,"aria-describedby").filter(o=>0!=o.indexOf(LB));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const o=this._messageRegistry.get(i);FB(e,"aria-describedby",o.messageElement.id),e.setAttribute(ZS,this._id),o.referenceCount++}_removeMessageReference(e,i){const o=this._messageRegistry.get(i);o.referenceCount--,H2(e,"aria-describedby",o.messageElement.id),e.removeAttribute(ZS)}_isElementDescribedByMessage(e,i){const o=VS(e,"aria-describedby"),s=this._messageRegistry.get(i),c=s&&s.messageElement.id;return!!c&&-1!=o.indexOf(c)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const o=null==i?"":`${i}`.trim(),s=e.getAttribute("aria-label");return!(!o||s&&s.trim()===o)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(he),r.LFG(br))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function z2(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function VB(n,t){n.id||(n.id=`${LB}-${t}-${j2++}`)}class fY{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new $t.x,this._typeaheadSubscription=xi.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new $t.x,this.change=new $t.x,t instanceof r.n_E&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const o=e.toArray().indexOf(this._activeItem);o>-1&&o!==this._activeItemIndex&&(this._activeItemIndex=o)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,$r.b)(e=>this._pressedLetters.push(e)),q2(t),jr(()=>this._pressedLetters.length>0),(0,Ke.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let o=1;o<i.length+1;o++){const s=(this._activeItemIndex+o)%i.length,c=i[s];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,o=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&o){this.setNextItemActive();break}return;case 38:if(this._vertical&&o){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&o){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&o){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&o){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&o){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&o){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&o){const s=this._activeItemIndex+this._pageUpAndDown.delta,c=this._getItemsArray().length;this._setActiveItemByIndex(s<c?s:c-1,-1);break}return;default:return void((o||Bl(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const o=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[o]))return void this.setActiveItem(o)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof r.n_E?this._items.toArray():this._items}}class pY extends fY{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}let mY=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function _Y(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function gY(n){try{return n.frameElement}catch{return null}}(function EY(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===BB(i)||!this.isVisible(i)))return!1;let o=e.nodeName.toLowerCase(),s=BB(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===o||"object"===o||this._platform.WEBKIT&&this._platform.IOS&&!function xY(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===o?!!e.hasAttribute("controls")&&-1!==s:"video"===o?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function DY(n){return!function yY(n){return function wY(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function vY(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function bY(n){return function CY(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||ZB(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(br))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZB(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function BB(n){if(!ZB(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class TY{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,o,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const o=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(o)return o}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const o=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(o)return o}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(zr(1)).subscribe(t)}}let AY=(()=>{class n{constructor(e,i,o){this._checker=e,this._ngZone=i,this._document=o}create(e,i=!1){return new TY(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(mY),r.LFG(r.R0b),r.LFG(he))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IY=(()=>{class n{get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=Pn(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=Pn(e)}constructor(e,i,o){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=IB(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(AY),r.Y36(he))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[r.TTD]}),n})();function qB(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function HB(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const SY=new r.OlP("cdk-input-modality-detector-options"),MY={ignoreKeys:[18,17,224,91,16]},D0=Bh({passive:!0,capture:!0});let kY=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,o,s){this._platform=e,this._mostRecentTarget=null,this._modality=new co.X(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(d=>d===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=_m(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(qB(c)?"keyboard":"mouse"),this._mostRecentTarget=_m(c))},this._onTouchstart=c=>{HB(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=_m(c))},this._options={...MY,...s},this.modalityDetected=this._modality.pipe(MB(1)),this.modalityChanged=this.modalityDetected.pipe((0,rg.x)()),e.isBrowser&&i.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,D0),o.addEventListener("mousedown",this._onMousedown,D0),o.addEventListener("touchstart",this._onTouchstart,D0)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,D0),document.removeEventListener("mousedown",this._onMousedown,D0),document.removeEventListener("touchstart",this._onTouchstart,D0))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(br),r.LFG(r.R0b),r.LFG(he),r.LFG(SY,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const RY=new r.OlP("liveAnnouncerElement",{providedIn:"root",factory:function OY(){return null}}),PY=new r.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let NY=0,FY=(()=>{class n{constructor(e,i,o,s){this._ngZone=i,this._defaultOptions=s,this._document=o,this._liveElement=e||this._createLiveElement()}announce(e,...i){const o=this._defaultOptions;let s,c;return 1===i.length&&"number"==typeof i[0]?c=i[0]:[s,c]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=o&&o.politeness?o.politeness:"polite"),null==c&&o&&(c=o.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(d=>this._currentResolve=d)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),o=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return o.classList.add(e),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),o.id="cdk-live-announcer-"+NY++,this._document.body.appendChild(o),o}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<i.length;o++){const s=i[o],c=s.getAttribute("aria-owns");c?-1===c.indexOf(e)&&s.setAttribute("aria-owns",c+" "+e):s.setAttribute("aria-owns",e)}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(RY,8),r.LFG(r.R0b),r.LFG(he),r.LFG(PY,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const LY=new r.OlP("cdk-focus-monitor-default-options"),BS=Bh({passive:!0,capture:!0});let qS=(()=>{class n{constructor(e,i,o,s,c){this._ngZone=e,this._platform=i,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new $t.x,this._rootNodeFocusAndBlurListener=d=>{for(let _=_m(d);_;_=_.parentElement)"focus"===d.type?this._onFocus(d,_):this._onBlur(d,_)},this._document=s,this._detectionMode=c?.detectionMode||0}monitor(e,i=!1){const o=wm(e);if(!this._platform.isBrowser||1!==o.nodeType)return(0,ft.of)();const s=function QG(n){if(function KG(){if(null==Z2){const n=typeof document<"u"?document.head:null;Z2=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Z2}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(o)||this._getDocument(),c=this._elementInfo.get(o);if(c)return i&&(c.checkChildren=!0),c.subject;const d={checkChildren:i,subject:new $t.x,rootNode:s};return this._elementInfo.set(o,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){const i=wm(e),o=this._elementInfo.get(i);o&&(o.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(o))}focusVia(e,i,o){const s=wm(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([d,p])=>this._originChanged(d,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const o=this._elementInfo.get(i),s=_m(e);!o||!o.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),o)}_onBlur(e,i){const o=this._elementInfo.get(i);!o||o.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(o,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,o=this._rootNodeFocusListenerCount.get(i)||0;o||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,BS),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,BS)}),this._rootNodeFocusListenerCount.set(i,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ei(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const o=this._rootNodeFocusListenerCount.get(i);o>1?this._rootNodeFocusListenerCount.set(i,o-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,BS),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,BS),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,o){this._setClasses(e,i),this._emitOrigin(o,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((o,s)=>{(s===e||o.checkChildren&&s.contains(e))&&i.push([s,o])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:o}=this._inputModalityDetector;if("mouse"!==o||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let c=0;c<s.length;c++)if(s[c].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.R0b),r.LFG(br),r.LFG(kY),r.LFG(he,8),r.LFG(LY,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UY=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new r.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(qS))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),n})();const zB="cdk-high-contrast-black-on-white",$B="cdk-high-contrast-white-on-black",$2="cdk-high-contrast-active";let GB=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,r.f3M)(hY).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,o=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove($2,zB,$B),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add($2,zB):2===i&&e.add($2,$B)}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(br),r.LFG(he))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YB=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(GB))},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[RB]}),n})();const VY=new r.OlP("cdk-dir-doc",{providedIn:"root",factory:function ZY(){return(0,r.f3M)(he)}}),BY=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ad=(()=>{class n{constructor(e){this.value="ltr",this.change=new r.vpe,e&&(this.value=function qY(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?BY.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(VY,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();const HY=["text"];function jY(n,t){if(1&n&&r._UZ(0,"mat-pseudo-checkbox",6),2&n){const e=r.oxw();r.Q6J("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function zY(n,t){if(1&n&&r._UZ(0,"mat-pseudo-checkbox",7),2&n){const e=r.oxw();r.Q6J("disabled",e.disabled)}}function $Y(n,t){if(1&n&&(r.TgZ(0,"span",8),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.hij("(",e.group.label,")")}}const GY=[[["mat-icon"]],"*"],YY=["mat-icon","*"];let WY=(()=>{class n{}return n.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",n.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",n.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",n.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",n})(),KY=(()=>{class n{}return n.COMPLEX="375ms",n.ENTERING="225ms",n.EXITING="195ms",n})();const JY=new r.OlP("mat-sanity-checks",{providedIn:"root",factory:function QY(){return!0}});let ko=(()=>{class n{constructor(e,i,o){this._sanityChecks=i,this._document=o,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!B2()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(GB),r.LFG(JY,8),r.LFG(he))},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[oD,oD]}),n})();function sD(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=Pn(t)}constructor(...t){super(...t),this._disabled=!1}}}function QB(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function JB(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Pn(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function XY(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?bm(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function XB(n){return class extends n{updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}function e5(n){return class extends n{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new Kn.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}const t5=new r.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function eW(){return(0,r.f3M)(r.soG)}});class Wo{constructor(){this._localeChanges=new $t.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),o=this.isValid(e);return i&&o?!this.compareDate(t,e):i==o}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const k_=new r.OlP("mat-date-formats"),tW=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function G2(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let nW=(()=>{class n extends Wo{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return G2(12,o=>this._format(i,new Date(2017,o,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return G2(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return G2(7,o=>this._format(i,new Date(2017,0,o+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,o){let s=this._createDateWithOverflow(e,i,o);return s.getMonth(),s}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const o=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(o,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let o=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(o)!=((this.getMonth(e)+i)%12+12)%12&&(o=this._createDateWithOverflow(this.getYear(o),this.getMonth(o),0)),o}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(tW.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,o){const s=new Date;return s.setFullYear(e,i,o),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const o=new Date;return o.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),o.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(o)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(t5,8),r.LFG(br))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const iW={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let rW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[{provide:Wo,useClass:nW}]}),n})(),n5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[{provide:k_,useValue:iW}],imports:[rW]}),n})(),r5=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class oW{constructor(t,e,i,o=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=o,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const o5=Bh({passive:!0,capture:!0});class sW{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=_m(t);e&&this._events.get(t.type)?.forEach((i,o)=>{(o===e||o.contains(e))&&i.forEach(s=>s.handleEvent(t))})}}addHandler(t,e,i,o){const s=this._events.get(e);if(s){const c=s.get(i);c?c.add(o):s.set(i,new Set([o]))}else this._events.set(e,new Map([[i,new Set([o])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,o5)})}removeHandler(t,e,i){const o=this._events.get(t);if(!o)return;const s=o.get(e);s&&(s.delete(i),0===s.size&&o.delete(e),0===o.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,o5)))}}const s5={enterDuration:225,exitDuration:150},a5=Bh({passive:!0,capture:!0}),l5=["mousedown","touchstart"],c5=["mouseup","mouseleave","touchend","touchcancel"];class E0{constructor(t,e,i,o){this._target=t,this._ngZone=e,this._platform=o,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=wm(i))}fadeInRipple(t,e,i={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...s5,...i.animation};i.centered&&(t=o.left+o.width/2,e=o.top+o.height/2);const c=i.radius||function lW(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),o=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+o*o)}(t,e,o),d=t-o.left,p=e-o.top,_=s.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=d-c+"px",b.style.top=p-c+"px",b.style.height=2*c+"px",b.style.width=2*c+"px",null!=i.color&&(b.style.backgroundColor=i.color),b.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(b);const E=window.getComputedStyle(b),F=E.transitionDuration,q="none"===E.transitionProperty||"0s"===F||"0s, 0s"===F||0===o.width&&0===o.height,K=new oW(this,b,i,q);b.style.transform="scale3d(1, 1, 1)",K.state=0,i.persistent||(this._mostRecentTransientRipple=K);let ee=null;return!q&&(_||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Oe=()=>this._finishRippleTransition(K),ze=()=>this._destroyRipple(K);b.addEventListener("transitionend",Oe),b.addEventListener("transitioncancel",ze),ee={onTransitionEnd:Oe,onTransitionCancel:ze}}),this._activeRipples.set(K,ee),(q||!_)&&this._finishRippleTransition(K),K}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...s5,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=wm(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,l5.forEach(i=>{E0._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{c5.forEach(e=>{this._triggerElement.addEventListener(e,this,a5)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=qB(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!HB(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(l5.forEach(e=>E0._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&c5.forEach(e=>t.removeEventListener(e,this,a5)))}}E0._eventManager=new sW;const u5=new r.OlP("mat-ripple-global-options");let d5=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,o,s,c){this._elementRef=e,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new E0(this,i,e,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,o){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...o}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(br),r.Y36(u5,8),r.Y36(r.QbO,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),h5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[ko,ko]}),n})(),cW=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.QbO,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(e,i){2&e&&r.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("mat-pseudo-checkbox-minimal","minimal"===i.appearance)("mat-pseudo-checkbox-full","full"===i.appearance)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0}),n})(),uW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[ko]}),n})();const f5=new r.OlP("MAT_OPTION_PARENT_COMPONENT"),p5=new r.OlP("MatOptgroup");let dW=0;class hW{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let fW=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Pn(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,i,o,s){this._element=e,this._changeDetectorRef=i,this._parent=o,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+dW++,this.onSelectionChange=new r.vpe,this._stateChanges=new $t.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const o=this._getHostElement();"function"==typeof o.focus&&o.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Bl(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new hW(this,e))}}return n.\u0275fac=function(e){r.$Z()},n.\u0275dir=r.lG2({type:n,viewQuery:function(e,i){if(1&e&&r.Gf(HY,7),2&e){let o;r.iGM(o=r.CRH())&&(i._text=o.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),m5=(()=>{class n extends fW{constructor(e,i,o,s){super(e,i,o,s)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(f5,8),r.Y36(p5,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(e,i){1&e&&r.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&e&&(r.Ikx("id",i.id),r.uIk("aria-selected",i.selected)("aria-disabled",i.disabled.toString()),r.ekj("mdc-list-item--selected",i.selected)("mat-mdc-option-multiple",i.multiple)("mat-mdc-option-active",i.active)("mdc-list-item--disabled",i.disabled))},exportAs:["matOption"],features:[r.qOj],ngContentSelectors:YY,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(r.F$t(GY),r.YNc(0,jY,1,2,"mat-pseudo-checkbox",0),r.Hsn(1),r.TgZ(2,"span",1,2),r.Hsn(4,1),r.qZA(),r.YNc(5,zY,1,1,"mat-pseudo-checkbox",3),r.YNc(6,$Y,2,1,"span",4),r._UZ(7,"div",5)),2&e&&(r.Q6J("ngIf",i.multiple),r.xp6(5),r.Q6J("ngIf",!i.multiple&&i.selected&&!i.hideSingleSelectionIndicator),r.xp6(1),r.Q6J("ngIf",i.group&&i.group._inert),r.xp6(1),r.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[d5,Un,cW],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),g5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[h5,Vi,ko,uW]}),n})();const gW=["mat-button",""],_W=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],vW=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],bW=["mat-icon-button",""],wW=["*"],_5={capture:!0},v5=["focus","click","mouseenter","touchstart"],lD="mat-button-ripple-uninitialized";let CW=(()=>{class n{constructor(){this._document=(0,r.f3M)(he,{optional:!0}),this._animationMode=(0,r.f3M)(r.QbO,{optional:!0}),this._globalRippleOptions=(0,r.f3M)(u5,{optional:!0}),this._platform=(0,r.f3M)(br),this._ngZone=(0,r.f3M)(r.R0b),this._onInteraction=e=>{if(e.target===this._document)return;const o=e.target.closest(`[${lD}]`);o&&(o.removeAttribute(lD),this._appendRipple(o))},this._ngZone.runOutsideAngular(()=>{for(const e of v5)this._document?.addEventListener(e,this._onInteraction,_5)})}ngOnDestroy(){for(const e of v5)this._document?.removeEventListener(e,this._onInteraction,_5)}_appendRipple(e){if(!this._document)return;const i=this._document.createElement("span");i.classList.add("mat-mdc-button-ripple");const o=new xW(e,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);o.rippleConfig.centered=e.hasAttribute("mat-icon-button"),new E0(o,this._ngZone,i,this._platform).setupTriggerEvents(e),e.append(i)}_createMatRipple(e){if(!this._document)return;e.querySelector(".mat-mdc-button-ripple")?.remove(),e.removeAttribute(lD);const i=this._document.createElement("span");i.classList.add("mat-mdc-button-ripple");const o=new d5(new r.SBq(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=e,e.append(i),o}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class xW{constructor(t,e,i){this._button=t,this._globalRippleOptions=e,this._setRippleConfig(e,i)}_setRippleConfig(t,e){this.rippleConfig=t||{},"NoopAnimations"===e&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const DW=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],EW=QB(sD(JB(class{constructor(n){this._elementRef=n}})));let y5=(()=>{class n extends EW{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(e){this._ripple=e}constructor(e,i,o,s){super(e),this._platform=i,this._ngZone=o,this._animationMode=s,this._focusMonitor=(0,r.f3M)(qS),this._rippleLoader=(0,r.f3M)(CW),this._isFab=!1;const c=e.nativeElement.classList;for(const d of DW)this._hasHostAttributes(d.selector)&&d.mdcClasses.forEach(p=>{c.add(p)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}}return n.\u0275fac=function(e){r.$Z()},n.\u0275dir=r.lG2({type:n,features:[r.qOj,r.TTD]}),n})(),b5=(()=>{class n extends y5{constructor(e,i,o,s){super(e,i,o,s)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(br),r.Y36(r.R0b),r.Y36(r.QbO,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(e,i){2&e&&(r.uIk("disabled",i.disabled||null),r.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.qOj],attrs:gW,ngContentSelectors:vW,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(r.F$t(_W),r._UZ(0,"span",0),r.Hsn(1),r.TgZ(2,"span",1),r.Hsn(3,1),r.qZA(),r.Hsn(4,2),r._UZ(5,"span",2)(6,"span",3)),2&e&&r.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Y2=(()=>{class n extends y5{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(e,i,o,s){super(e,i,o,s)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(br),r.Y36(r.R0b),r.Y36(r.QbO,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(e,i){2&e&&(r.uIk("disabled",i.disabled||null),r.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.qOj],attrs:bW,ngContentSelectors:wW,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(r.F$t(),r._UZ(0,"span",0),r.Hsn(1),r._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),w5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[ko,h5,ko]}),n})();var IW=U(1144);const SW=["addListener","removeListener"],MW=["addEventListener","removeEventListener"],kW=["on","off"];function W2(n,t,e,i){if((0,Ho.m)(e)&&(i=e,e=void 0),i)return W2(n,t,e).pipe(Cl(i));const[o,s]=function PW(n){return(0,Ho.m)(n.addEventListener)&&(0,Ho.m)(n.removeEventListener)}(n)?MW.map(c=>d=>n[c](t,d,e)):function RW(n){return(0,Ho.m)(n.addListener)&&(0,Ho.m)(n.removeListener)}(n)?SW.map(C5(n,t)):function OW(n){return(0,Ho.m)(n.on)&&(0,Ho.m)(n.off)}(n)?kW.map(C5(n,t)):[];if(!o&&(0,IW.z)(n))return(0,Do.z)(c=>W2(c,t,e))((0,Zo.Xf)(n));if(!o)throw new TypeError("Invalid event target");return new Kn.y(c=>{const d=(...p)=>c.next(1<p.length?p:p[0]);return o(d),()=>s(d)})}function C5(n,t){return e=>i=>n[e](t,i)}var x5=U(4408);const cD={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=cD;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const o=t(s=>{e=void 0,n(s)});return new xi.w0(()=>e?.(o))},requestAnimationFrame(...n){const{delegate:t}=cD;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=cD;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var D5=U(7565);new class FW extends D5.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;t=t||i.shift();do{if(o=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,o){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw o}}}(class NW extends x5.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=cD.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var o;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(o=s[s.length-1])||void 0===o?void 0:o.id)!==e&&(cD.cancelAnimationFrame(e),t._scheduled=void 0)}});let K2,UW=1;const HS={};function E5(n){return n in HS&&(delete HS[n],!0)}const VW={setImmediate(n){const t=UW++;return HS[t]=!0,K2||(K2=Promise.resolve()),K2.then(()=>E5(t)&&n()),t},clearImmediate(n){E5(n)}},{setImmediate:ZW,clearImmediate:BW}=VW,jS={setImmediate(...n){const{delegate:t}=jS;return(t?.setImmediate||ZW)(...n)},clearImmediate(n){const{delegate:t}=jS;return(t?.clearImmediate||BW)(n)},delegate:void 0};new class HW extends D5.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;t=t||i.shift();do{if(o=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,o){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw o}}}(class qW extends x5.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=jS.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var o;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(o=s[s.length-1])||void 0===o?void 0:o.id)!==e&&(jS.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});var $W=U(3532);function T5(n,t=Qd.z){return function zW(n){return(0,Sr.e)((t,e)=>{let i=!1,o=null,s=null,c=!1;const d=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const _=o;o=null,e.next(_)}c&&e.complete()},p=()=>{s=null,c&&e.complete()};t.subscribe((0,bn.x)(e,_=>{i=!0,o=_,s||(0,Zo.Xf)(n(_)).subscribe(s=(0,bn.x)(e,d,p))},()=>{c=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>function YW(n=0,t,e=Qd.P){let i=-1;return null!=t&&((0,$W.K)(t)?e=t:i=t),new Kn.y(o=>{let s=function GW(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let c=0;return e.schedule(function(){o.closed||(o.next(c++),0<=i?this.schedule(void 0,i):o.complete())},s)})}(n,t))}let A5=(()=>{class n{constructor(e,i,o){this._ngZone=e,this._platform=i,this._scrolled=new $t.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Kn.y(i=>{this._globalSubscription||this._addGlobalListener();const o=e>0?this._scrolled.pipe(T5(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,ft.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const o=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(jr(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let o=wm(i),s=e.getElementRef().nativeElement;do{if(o==s)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>W2(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.R0b),r.LFG(br),r.LFG(he,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zS=(()=>{class n{constructor(e,i,o){this._platform=e,this._change=new $t.x,this._changeListener=s=>{this._change.next(s)},this._document=o,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),o=e.documentElement,s=o.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||o.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||o.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(T5(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(br),r.LFG(r.R0b),r.LFG(he,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})(),Q2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[oD,uD,oD,uD]}),n})();class J2{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class $S extends J2{constructor(t,e,i,o,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=o,this.projectableNodes=s}}class I5 extends J2{constructor(t,e,i,o){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=o}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class JW extends J2{constructor(t){super(),this.element=t instanceof r.SBq?t.nativeElement:t}}class S5{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof $S?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof I5?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof JW?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class XW extends S5{constructor(t,e,i,o,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=o,this.attachDomPortal=c=>{const d=c.element,p=this._document.createComment("dom-portal");d.parentNode.insertBefore(p,d),this.outletElement.appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(d,p)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let o;return t.viewContainerRef?(o=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>o.destroy())):(o=i.create(t.injector||this._defaultInjector||r.zs3.NULL),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=t,o}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(o=>this.outletElement.appendChild(o)),i.detectChanges(),this.setDisposeFn(()=>{let o=e.indexOf(i);-1!==o&&e.remove(o)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let M5=(()=>{class n extends S5{constructor(e,i,o){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new r.vpe,this.attachDomPortal=s=>{const c=s.element,d=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(d,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(c,d)})},this._document=o}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),c=i.createComponent(s,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=e,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r._Vd),r.Y36(r.s_b),r.Y36(he))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.qOj]}),n})(),k5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();const R5=WG();class eK{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Wr(-this._previousScrollPosition.left),t.style.top=Wr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,o=this._document.body.style,s=i.scrollBehavior||"",c=o.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),R5&&(i.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),R5&&(i.scrollBehavior=s,o.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class tK{constructor(t,e,i,o){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(jr(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class O5{enable(){}disable(){}attach(){}}function X2(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function P5(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class nK{constructor(t,e,i,o){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=o,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:o}=this._viewportRuler.getViewportSize();X2(e,[{width:i,height:o,bottom:o,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let iK=(()=>{class n{constructor(e,i,o,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=o,this.noop=()=>new O5,this.close=c=>new tK(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new eK(this._viewportRuler,this._document),this.reposition=c=>new nK(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(A5),r.LFG(zS),r.LFG(r.R0b),r.LFG(he))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class eL{constructor(t){if(this.scrollStrategy=new O5,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class rK{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let N5=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(he))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oK=(()=>{class n extends N5{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=o=>{const s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){const d=s[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(he),r.LFG(r.R0b,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sK=(()=>{class n extends N5{constructor(e,i,o){super(e),this._platform=i,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=_m(s)},this._clickListener=s=>{const c=_m(s),d="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let _=p.length-1;_>-1;_--){const b=p[_];if(b._outsidePointerEvents.observers.length<1||!b.hasAttached())continue;if(b.overlayElement.contains(c)||b.overlayElement.contains(d))break;const E=b._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>E.next(s)):E.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(he),r.LFG(br),r.LFG(r.R0b,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),F5=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||B2()){const o=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}const i=this._document.createElement("div");i.classList.add(e),B2()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(he),r.LFG(br))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class aK{constructor(t,e,i,o,s,c,d,p,_,b=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=o,this._ngZone=s,this._keyboardDispatcher=c,this._document=d,this._location=p,this._outsideClickDispatcher=_,this._animationsDisabled=b,this._backdropElement=null,this._backdropClick=new $t.x,this._attachments=new $t.x,this._detachments=new $t.x,this._locationChanges=xi.w0.EMPTY,this._backdropClickHandler=E=>this._backdropClick.next(E),this._backdropTransitionendHandler=E=>{this._disposeBackdrop(E.target)},this._keydownEvents=new $t.x,this._outsidePointerEvents=new $t.x,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(zr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Wr(this._config.width),t.height=Wr(this._config.height),t.minWidth=Wr(this._config.minWidth),t.minHeight=Wr(this._config.minHeight),t.maxWidth=Wr(this._config.maxWidth),t.maxHeight=Wr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const o=US(e||[]).filter(s=>!!s);o.length&&(i?t.classList.add(...o):t.classList.remove(...o))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Ei((0,us.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const L5="cdk-overlay-connected-position-bounding-box",lK=/([A-Za-z%]+)$/;class U5{get positions(){return this._preferredPositions}constructor(t,e,i,o,s){this._viewportRuler=e,this._document=i,this._platform=o,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new $t.x,this._resizeSubscription=xi.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(L5),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,o=this._containerRect,s=[];let c;for(let d of this._preferredPositions){let p=this._getOriginPoint(t,o,d),_=this._getOverlayPoint(p,e,d),b=this._getOverlayFit(_,e,i,d);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,p);this._canFitWithFlexibleDimensions(b,_,i)?s.push({position:d,origin:p,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(p,d)}):(!c||c.overlayFit.visibleArea<b.visibleArea)&&(c={overlayFit:b,overlayPoint:_,originPoint:p,position:d,overlayRect:e})}if(s.length){let d=null,p=-1;for(const _ of s){const b=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);b>p&&(p=b,d=_)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&R_(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(L5),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let o,s;if("center"==i.originX)o=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,d=this._isRtl()?t.left:t.right;o="start"==i.originX?c:d}return e.left<0&&(o-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:o,y:s}}_getOverlayPoint(t,e,i){let o,s;return o="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+o,y:t.y+s}}_getOverlayFit(t,e,i,o){const s=Z5(e);let{x:c,y:d}=t,p=this._getOffset(o,"x"),_=this._getOffset(o,"y");p&&(c+=p),_&&(d+=_);let k=0-d,F=d+s.height-i.height,q=this._subtractOverflows(s.width,0-c,c+s.width-i.width),K=this._subtractOverflows(s.height,k,F),ee=q*K;return{visibleArea:ee,isCompletelyWithinViewport:s.width*s.height===ee,fitsInViewportVertically:K===s.height,fitsInViewportHorizontally:q==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const o=i.bottom-e.y,s=i.right-e.x,c=V5(this._overlayRef.getConfig().minHeight),d=V5(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=c&&c<=o)&&(t.fitsInViewportHorizontally||null!=d&&d<=s)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const o=Z5(e),s=this._viewportRect,c=Math.max(t.x+o.width-s.width,0),d=Math.max(t.y+o.height-s.height,0),p=Math.max(s.top-i.top-t.y,0),_=Math.max(s.left-i.left-t.x,0);let b=0,E=0;return b=o.width<=s.width?_||-c:t.x<this._viewportMargin?s.left-i.left-t.x:0,E=o.height<=s.height?p||-d:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:b,y:E},{x:t.x+b,y:t.y+E}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),o=new rK(t,i);this._positionChanges.next(o)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,o=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${o}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,o=this._isRtl();let s,c,d,b,E,k;if("top"===e.overlayY)c=t.y,s=i.height-c+this._viewportMargin;else if("bottom"===e.overlayY)d=i.height-t.y+2*this._viewportMargin,s=i.height-d+this._viewportMargin;else{const F=Math.min(i.bottom-t.y+i.top,t.y),q=this._lastBoundingBoxSize.height;s=2*F,c=t.y-F,s>q&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.y-q/2)}if("end"===e.overlayX&&!o||"start"===e.overlayX&&o)k=i.width-t.x+this._viewportMargin,b=t.x-this._viewportMargin;else if("start"===e.overlayX&&!o||"end"===e.overlayX&&o)E=t.x,b=i.right-t.x;else{const F=Math.min(i.right-t.x+i.left,t.x),q=this._lastBoundingBoxSize.width;b=2*F,E=t.x-F,b>q&&!this._isInitialRender&&!this._growAfterOpen&&(E=t.x-q/2)}return{top:c,left:E,bottom:d,right:k,width:b,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;o.height=Wr(i.height),o.top=Wr(i.top),o.bottom=Wr(i.bottom),o.width=Wr(i.width),o.left=Wr(i.left),o.right=Wr(i.right),o.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",o.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(o.maxHeight=Wr(s)),c&&(o.maxWidth=Wr(c))}this._lastBoundingBoxSize=i,R_(this._boundingBox.style,o)}_resetBoundingBoxStyles(){R_(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){R_(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},o=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(o){const b=this._viewportRuler.getViewportScrollPosition();R_(i,this._getExactOverlayY(e,t,b)),R_(i,this._getExactOverlayX(e,t,b))}else i.position="static";let d="",p=this._getOffset(e,"x"),_=this._getOffset(e,"y");p&&(d+=`translateX(${p}px) `),_&&(d+=`translateY(${_}px)`),i.transform=d.trim(),c.maxHeight&&(o?i.maxHeight=Wr(c.maxHeight):s&&(i.maxHeight="")),c.maxWidth&&(o?i.maxWidth=Wr(c.maxWidth):s&&(i.maxWidth="")),R_(this._pane.style,i)}_getExactOverlayY(t,e,i){let o={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?o.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":o.top=Wr(s.y),o}_getExactOverlayX(t,e,i){let c,o={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),c=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===c?o.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":o.left=Wr(s.x),o}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:P5(t,i),isOriginOutsideView:X2(t,i),isOverlayClipped:P5(e,i),isOverlayOutsideView:X2(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,o)=>i-Math.max(o,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&US(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function R_(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function V5(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(lK);return e&&"px"!==e?null:parseFloat(t)}return n||null}function Z5(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const B5="cdk-global-overlay-wrapper";class cK{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(B5),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:o,height:s,maxWidth:c,maxHeight:d}=i,p=!("100%"!==o&&"100vw"!==o||c&&"100%"!==c&&"100vw"!==c),_=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d),b=this._xPosition,E=this._xOffset,k="rtl"===this._overlayRef.getConfig().direction;let F="",q="",K="";p?K="flex-start":"center"===b?(K="center",k?q=E:F=E):k?"left"===b||"end"===b?(K="flex-end",F=E):("right"===b||"start"===b)&&(K="flex-start",q=E):"left"===b||"start"===b?(K="flex-start",F=E):("right"===b||"end"===b)&&(K="flex-end",q=E),t.position=this._cssPosition,t.marginLeft=p?"0":F,t.marginTop=_?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=p?"0":q,e.justifyContent=K,e.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(B5),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let uK=(()=>{class n{constructor(e,i,o,s){this._viewportRuler=e,this._document=i,this._platform=o,this._overlayContainer=s}global(){return new cK}flexibleConnectedTo(e){return new U5(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(zS),r.LFG(he),r.LFG(br),r.LFG(F5))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dK=0,Cm=(()=>{class n{constructor(e,i,o,s,c,d,p,_,b,E,k,F){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=d,this._ngZone=p,this._document=_,this._directionality=b,this._location=E,this._outsideClickDispatcher=k,this._animationsModuleType=F}create(e){const i=this._createHostElement(),o=this._createPaneElement(i),s=this._createPortalOutlet(o),c=new eL(e);return c.direction=c.direction||this._directionality.value,new aK(s,i,o,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+dK++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(r.z2F)),new XW(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(iK),r.LFG(F5),r.LFG(r._Vd),r.LFG(uK),r.LFG(oK),r.LFG(r.zs3),r.LFG(r.R0b),r.LFG(he),r.LFG(ad),r.LFG(Xe),r.LFG(sK),r.LFG(r.QbO,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hK=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],q5=new r.OlP("cdk-connected-overlay-scroll-strategy");let tL=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),n})(),H5=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Pn(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Pn(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Pn(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Pn(e)}get push(){return this._push}set push(e){this._push=Pn(e)}constructor(e,i,o,s,c){this._overlay=e,this._dir=c,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=xi.w0.EMPTY,this._attachSubscription=xi.w0.EMPTY,this._detachSubscription=xi.w0.EMPTY,this._positionSubscription=xi.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new r.vpe,this.positionChange=new r.vpe,this.attach=new r.vpe,this.detach=new r.vpe,this.overlayKeydown=new r.vpe,this.overlayOutsideClick=new r.vpe,this._templatePortal=new I5(i,o),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=hK);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Bl(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new eL({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof tL?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function QW(n,t=!1){return(0,Sr.e)((e,i)=>{let o=0;e.subscribe((0,bn.x)(i,s=>{const c=n(s,o++);(c||t)&&i.next(s),!c&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Cm),r.Y36(r.Rgc),r.Y36(r.s_b),r.Y36(q5),r.Y36(ad,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[r.TTD]}),n})();const pK={provide:q5,deps:[Cm],useFactory:function fK(n){return()=>n.scrollStrategies.reposition()}};let nL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[Cm,pK],imports:[oD,k5,Q2,Q2]}),n})();class mK{constructor(t){this._box=t,this._destroyed=new $t.x,this._resizeSubject=new $t.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new Kn.y(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(jr(e=>e.some(i=>i.target===t)),MT({bufferSize:1,refCount:!0}),Ei(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let gK=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=(0,r.f3M)(r.R0b)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,i){const o=i?.box||"content-box";return this._observers.has(o)||this._observers.set(o,new mK(o)),this._observers.get(o).observe(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class j5{}class _K{}const qh="*";function Qa(n,t){return{type:7,name:n,definitions:t,options:{}}}function fo(n,t=null){return{type:4,styles:t,timings:n}}function z5(n,t=null){return{type:2,steps:n,options:t}}function yn(n){return{type:6,styles:n,offset:null}}function Kr(n,t,e){return{type:0,name:n,styles:t,options:e}}function T0(n){return{type:5,steps:n}}function Nr(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function $5(n=null){return{type:9,options:n}}function G5(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function Y5(n){Promise.resolve().then(n)}class dD{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Y5(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class W5{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,o=0;const s=this.players.length;0==s?Y5(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++o==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,d)=>Math.max(c,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const o=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(o)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const iL="!",vK=["notch"],yK=["matFormFieldNotchedOutline",""],bK=["*"],wK=["textField"],CK=["iconPrefixContainer"],xK=["textPrefixContainer"];function DK(n,t){1&n&&r._UZ(0,"span",19)}function EK(n,t){if(1&n&&(r.TgZ(0,"label",17),r.Hsn(1,1),r.YNc(2,DK,1,0,"span",18),r.qZA()),2&n){const e=r.oxw(2);r.Q6J("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),r.uIk("for",e._control.id)("aria-owns",e._control.id),r.xp6(2),r.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required)}}function TK(n,t){if(1&n&&r.YNc(0,EK,3,6,"label",16),2&n){const e=r.oxw();r.Q6J("ngIf",e._hasFloatingLabel())}}function AK(n,t){1&n&&r._UZ(0,"div",20)}function IK(n,t){}function SK(n,t){if(1&n&&r.YNc(0,IK,0,0,"ng-template",22),2&n){r.oxw(2);const e=r.MAs(1);r.Q6J("ngTemplateOutlet",e)}}function MK(n,t){if(1&n&&(r.TgZ(0,"div",21),r.YNc(1,SK,1,1,"ng-template",9),r.qZA()),2&n){const e=r.oxw();r.Q6J("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),r.xp6(1),r.Q6J("ngIf",!e._forceDisplayInfixLabel())}}function kK(n,t){1&n&&(r.TgZ(0,"div",23,24),r.Hsn(2,2),r.qZA())}function RK(n,t){1&n&&(r.TgZ(0,"div",25,26),r.Hsn(2,3),r.qZA())}function OK(n,t){}function PK(n,t){if(1&n&&r.YNc(0,OK,0,0,"ng-template",22),2&n){r.oxw();const e=r.MAs(1);r.Q6J("ngTemplateOutlet",e)}}function NK(n,t){1&n&&(r.TgZ(0,"div",27),r.Hsn(1,4),r.qZA())}function FK(n,t){1&n&&(r.TgZ(0,"div",28),r.Hsn(1,5),r.qZA())}function LK(n,t){1&n&&r._UZ(0,"div",29)}function UK(n,t){if(1&n&&(r.TgZ(0,"div",30),r.Hsn(1,6),r.qZA()),2&n){const e=r.oxw();r.Q6J("@transitionMessages",e._subscriptAnimationState)}}function VK(n,t){if(1&n&&(r.TgZ(0,"mat-hint",34),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.Q6J("id",e._hintLabelId),r.xp6(1),r.Oqu(e.hintLabel)}}function ZK(n,t){if(1&n&&(r.TgZ(0,"div",31),r.YNc(1,VK,2,2,"mat-hint",32),r.Hsn(2,7),r._UZ(3,"div",33),r.Hsn(4,8),r.qZA()),2&n){const e=r.oxw();r.Q6J("@transitionMessages",e._subscriptAnimationState),r.xp6(1),r.Q6J("ngIf",e.hintLabel)}}const BK=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],qK=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let GS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["mat-label"]]}),n})();const HK=new r.OlP("MatError");let jK=0,rL=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+jK++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,i){2&e&&(r.Ikx("id",i.id),r.uIk("align",null),r.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const zK=new r.OlP("MatPrefix"),K5=new r.OlP("MatSuffix");let oL=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[r._Bn([{provide:K5,useExisting:n}])]}),n})();const Q5=new r.OlP("FloatingLabelParent");let J5=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,r.f3M)(gK),this._ngZone=(0,r.f3M)(r.R0b),this._parent=(0,r.f3M)(Q5),this._resizeSubscription=new xi.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function $K(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}}),n})();const X5="mdc-line-ripple--active",YS="mdc-line-ripple--deactivating";let eq=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=o=>{const s=this._elementRef.nativeElement.classList,c=s.contains(YS);"opacity"===o.propertyName&&c&&s.remove(X5,YS)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(YS),e.add(X5)}deactivate(){this._elementRef.nativeElement.classList.add(YS)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.R0b))},n.\u0275dir=r.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),tq=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.R0b))},n.\u0275cmp=r.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(e,i){if(1&e&&r.Gf(vK,5),2&e){let o;r.iGM(o=r.CRH())&&(i._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("mdc-notched-outline--notched",i.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:yK,ngContentSelectors:bK,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(e,i){1&e&&(r.F$t(),r._UZ(0,"div",0),r.TgZ(1,"div",1,2),r.Hsn(3),r.qZA(),r._UZ(4,"div",3))},encapsulation:2,changeDetection:0}),n})();const GK={transitionMessages:Qa("transitionMessages",[Kr("enter",yn({opacity:1,transform:"translateY(0%)"})),Nr("void => enter",[yn({opacity:0,transform:"translateY(-5px)"}),fo("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let sL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n}),n})();const WS=new r.OlP("MatFormField"),YK=new r.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let nq=0,KS=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Pn(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,o,s,c,d,p,_){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=o,this._dir=s,this._platform=c,this._defaults=d,this._animationMode=p,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+nq++,this._hintLabelId="mat-mdc-hint-"+nq++,this._subscriptAnimationState="",this._destroyed=new $t.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,d&&(d.appearance&&(this.appearance=d.appearance),this._hideRequiredMarker=!!d?.hideRequiredMarker,d.color&&(this.color=d.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Ei(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,us.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ei(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Ei(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,o=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),o&&e.push(o.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,c=o?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+c}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(r.R0b),r.Y36(ad),r.Y36(br),r.Y36(YK,8),r.Y36(r.QbO,8),r.Y36(he))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,o){if(1&e&&(r.Suo(o,GS,5),r.Suo(o,GS,7),r.Suo(o,sL,5),r.Suo(o,zK,5),r.Suo(o,K5,5),r.Suo(o,HK,5),r.Suo(o,rL,5)),2&e){let s;r.iGM(s=r.CRH())&&(i._labelChildNonStatic=s.first),r.iGM(s=r.CRH())&&(i._labelChildStatic=s.first),r.iGM(s=r.CRH())&&(i._formFieldControl=s.first),r.iGM(s=r.CRH())&&(i._prefixChildren=s),r.iGM(s=r.CRH())&&(i._suffixChildren=s),r.iGM(s=r.CRH())&&(i._errorChildren=s),r.iGM(s=r.CRH())&&(i._hintChildren=s)}},viewQuery:function(e,i){if(1&e&&(r.Gf(wK,5),r.Gf(CK,5),r.Gf(xK,5),r.Gf(J5,5),r.Gf(tq,5),r.Gf(eq,5)),2&e){let o;r.iGM(o=r.CRH())&&(i._textField=o.first),r.iGM(o=r.CRH())&&(i._iconPrefixContainer=o.first),r.iGM(o=r.CRH())&&(i._textPrefixContainer=o.first),r.iGM(o=r.CRH())&&(i._floatingLabel=o.first),r.iGM(o=r.CRH())&&(i._notchedOutline=o.first),r.iGM(o=r.CRH())&&(i._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(e,i){2&e&&r.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r._Bn([{provide:WS,useExisting:n},{provide:Q5,useExisting:n}])],ngContentSelectors:qK,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(e,i){1&e&&(r.F$t(BK),r.YNc(0,TK,1,1,"ng-template",null,0,r.W1O),r.TgZ(2,"div",1,2),r.NdJ("click",function(s){return i._control.onContainerClick(s)}),r.YNc(4,AK,1,0,"div",3),r.TgZ(5,"div",4),r.YNc(6,MK,2,2,"div",5),r.YNc(7,kK,3,0,"div",6),r.YNc(8,RK,3,0,"div",7),r.TgZ(9,"div",8),r.YNc(10,PK,1,1,"ng-template",9),r.Hsn(11),r.qZA(),r.YNc(12,NK,2,0,"div",10),r.YNc(13,FK,2,0,"div",11),r.qZA(),r.YNc(14,LK,1,0,"div",12),r.qZA(),r.TgZ(15,"div",13),r.YNc(16,UK,2,1,"div",14),r.YNc(17,ZK,5,2,"div",15),r.qZA()),2&e&&(r.xp6(2),r.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),r.xp6(2),r.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),r.xp6(2),r.Q6J("ngIf",i._hasOutline()),r.xp6(1),r.Q6J("ngIf",i._hasIconPrefix),r.xp6(1),r.Q6J("ngIf",i._hasTextPrefix),r.xp6(2),r.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),r.xp6(2),r.Q6J("ngIf",i._hasTextSuffix),r.xp6(1),r.Q6J("ngIf",i._hasIconSuffix),r.xp6(1),r.Q6J("ngIf",!i._hasOutline()),r.xp6(1),r.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),r.Q6J("ngSwitch",i._getDisplayedMessages()),r.xp6(1),r.Q6J("ngSwitchCase","error"),r.xp6(1),r.Q6J("ngSwitchCase","hint"))},dependencies:[Un,sl,Ds,ol,rL,J5,tq,eq],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[GK.transitionMessages]},changeDetection:0}),n})(),hD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[ko,Vi,RB,ko]}),n})();class QK{}function aL(n){return n&&"function"==typeof n.connect&&!(n instanceof jg)}class oq{applyChanges(t,e,i,o,s){t.forEachOperation((c,d,p)=>{let _,b;if(null==c.previousIndex){const E=i(c,d,p);_=e.createEmbeddedView(E.templateRef,E.context,E.index),b=1}else null==p?(e.remove(d),b=3):(_=e.get(d),e.move(_,p),b=2);s&&s({context:_?.context,operation:b,record:c})})}detach(){}}class JK{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,o){this._multiple=t,this._emitChanges=i,this.compareWith=o,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new $t.x,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const o=this._hasQueuedChanges();return this._emitChangeEvent(),o}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let e of this._selection)if(this.compareWith(t,e))return e;return t}return t}}const fD=new r.OlP("_ViewRepeater"),XK=["trigger"],eQ=["panel"];function tQ(n,t){if(1&n&&(r.TgZ(0,"span",10),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.placeholder)}}function nQ(n,t){if(1&n&&(r.TgZ(0,"span",14),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Oqu(e.triggerValue)}}function iQ(n,t){1&n&&r.Hsn(0,0,["*ngSwitchCase","true"])}function rQ(n,t){if(1&n&&(r.TgZ(0,"span",11),r.YNc(1,nQ,2,1,"span",12),r.YNc(2,iQ,1,0,"ng-content",13),r.qZA()),2&n){const e=r.oxw();r.Q6J("ngSwitch",!!e.customTrigger),r.xp6(2),r.Q6J("ngSwitchCase",!0)}}function oQ(n,t){if(1&n){const e=r.EpF();r.O4$(),r.kcU(),r.TgZ(0,"div",15,16),r.NdJ("@transformPanel.done",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s._panelDoneAnimatingStream.next(o.toState))})("keydown",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s._handleKeydown(o))}),r.Hsn(2,1),r.qZA()}if(2&n){const e=r.oxw();r.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),r.Q6J("ngClass",e.panelClass)("@transformPanel","showing"),r.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const sQ=[[["mat-select-trigger"]],"*"],aQ=["mat-select-trigger","*"],lQ={transformPanelWrap:Qa("transformPanelWrap",[Nr("* => void",G5("@transformPanel",[$5()],{optional:!0}))]),transformPanel:Qa("transformPanel",[Kr("void",yn({opacity:0,transform:"scale(1, 0.8)"})),Nr("void => showing",fo("120ms cubic-bezier(0, 0, 0.2, 1)",yn({opacity:1,transform:"scale(1, 1)"}))),Nr("* => void",fo("100ms linear",yn({opacity:0})))])};let aq=0;const lq=new r.OlP("mat-select-scroll-strategy"),uQ=new r.OlP("MAT_SELECT_CONFIG"),dQ={provide:lq,deps:[Cm],useFactory:function cQ(n){return()=>n.scrollStrategies.reposition()}},hQ=new r.OlP("MatSelectTrigger");class fQ{constructor(t,e){this.source=t,this.value=e}}const pQ=JB(XY(sD(XB(class{constructor(n,t,e,i,o){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=o,this.stateChanges=new $t.x}}))));let mQ=(()=>{class n extends pQ{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(_c.required)??!1}set required(e){this._required=Pn(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Pn(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Pn(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=bm(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,i,o,s,c,d,p,_,b,E,k,F,q,K){super(c,s,p,_,E),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=o,this._dir=d,this._parentFormField=b,this._liveAnnouncer=q,this._defaultOptions=K,this._panelOpen=!1,this._compareWith=(ee,Oe)=>ee===Oe,this._uid="mat-select-"+aq++,this._triggerAriaLabelledBy=null,this._destroy=new $t.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+aq++,this._panelDoneAnimatingStream=new $t.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=JC(()=>{const ee=this.options;return ee?ee.changes.pipe(ga(ee),Mi(()=>(0,us.T)(...ee.map(Oe=>Oe.onSelectionChange)))):this._ngZone.onStable.pipe(zr(1),Mi(()=>this.optionSelectionChanges))}),this.openedChange=new r.vpe,this._openedStream=this.openedChange.pipe(jr(ee=>ee),(0,Ke.U)(()=>{})),this._closedStream=this.openedChange.pipe(jr(ee=>!ee),(0,Ke.U)(()=>{})),this.selectionChange=new r.vpe,this.valueChange=new r.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=K?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=K.typeaheadDebounceInterval),this._scrollStrategyFactory=F,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(k)||0,this.id=this.id}ngOnInit(){this._selectionModel=new JK(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,rg.x)(),Ei(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Ei(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(ga(null),Ei(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const o=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?o.setAttribute("aria-labelledby",e):o.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const i=`${this.id}-panel`;this._trackedModal&&H2(this._trackedModal,"aria-owns",i),FB(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(H2(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,o=40===i||38===i||37===i||39===i,s=13===i||32===i,c=this._keyManager;if(!c.isTyping()&&s&&!Bl(e)||(this.multiple||e.altKey)&&o)e.preventDefault(),this.open();else if(!this.multiple){const d=this.selected;c.onKeydown(e);const p=this.selected;p&&d!==p&&this._liveAnnouncer.announce(p.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,o=e.keyCode,s=40===o||38===o,c=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(c||13!==o&&32!==o||!i.activeItem||Bl(e))if(!c&&this._multiple&&65===o&&e.ctrlKey){e.preventDefault();const d=this.options.some(p=>!p.disabled&&!p.selected);this.options.forEach(p=>{p.disabled||(d?p.select():p.deselect())})}else{const d=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==d&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(zr(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(o=>{if(this._selectionModel.isSelected(o))return!1;try{return null!=o.value&&this._compareWith(o.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_skipPredicate(e){return e.disabled}_initKeyManager(){this._keyManager=new pY(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,us.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Ei(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,us.T)(...this.options.map(i=>i._stateChanges)).pipe(Ei(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){const o=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(o!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),o!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,o)=>this.sortComparator?this.sortComparator(i,o,e):e.indexOf(i)-e.indexOf(o)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(o=>o.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(zS),r.Y36(r.sBO),r.Y36(r.R0b),r.Y36(r5),r.Y36(r.SBq),r.Y36(ad,8),r.Y36(qr,8),r.Y36(Mu,8),r.Y36(WS,8),r.Y36(da,10),r.$8M("tabindex"),r.Y36(lq),r.Y36(FY),r.Y36(uQ,8))},n.\u0275dir=r.lG2({type:n,viewQuery:function(e,i){if(1&e&&(r.Gf(XK,5),r.Gf(eQ,5),r.Gf(H5,5)),2&e){let o;r.iGM(o=r.CRH())&&(i.trigger=o.first),r.iGM(o=r.CRH())&&(i.panel=o.first),r.iGM(o=r.CRH())&&(i._overlayDir=o.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[r.qOj,r.TTD]}),n})(),gQ=(()=>{class n extends mQ{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=e=>!this.panelOpen&&e.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Ei(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(e){const i=this.options.toArray()[e];if(i){const o=this.panel.nativeElement,s=function pW(n,t,e){if(e.length){let i=t.toArray(),o=e.toArray(),s=0;for(let c=0;c<n+1;c++)i[c].group&&i[c].group===o[s]&&s++;return s}return 0}(e,this.options,this.optionGroups),c=i._getHostElement();o.scrollTop=0===e&&1===s?0:function mW(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}(c.offsetTop,c.offsetHeight,o.scrollTop,o.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new fQ(this,e)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof tL?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=Pn(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,o){if(1&e&&(r.Suo(o,hQ,5),r.Suo(o,m5,5),r.Suo(o,p5,5)),2&e){let s;r.iGM(s=r.CRH())&&(i.customTrigger=s.first),r.iGM(s=r.CRH())&&(i.options=s),r.iGM(s=r.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(e,i){1&e&&r.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(r.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),r.ekj("mat-mdc-select-disabled",i.disabled)("mat-mdc-select-invalid",i.errorState)("mat-mdc-select-required",i.required)("mat-mdc-select-empty",i.empty)("mat-mdc-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[r._Bn([{provide:sL,useExisting:n},{provide:f5,useExisting:n}]),r.qOj],ngContentSelectors:aQ,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(r.F$t(sQ),r.TgZ(0,"div",0,1),r.NdJ("click",function(){return i.toggle()}),r.TgZ(3,"div",2),r.YNc(4,tQ,2,1,"span",3),r.YNc(5,rQ,3,2,"span",4),r.qZA(),r.TgZ(6,"div",5)(7,"div",6),r.O4$(),r.TgZ(8,"svg",7),r._UZ(9,"path",8),r.qZA()()()(),r.YNc(10,oQ,3,9,"ng-template",9),r.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const o=r.MAs(1);r.xp6(3),r.Q6J("ngSwitch",i.empty),r.uIk("id",i._valueId),r.xp6(1),r.Q6J("ngSwitchCase",!0),r.xp6(1),r.Q6J("ngSwitchCase",!1),r.xp6(5),r.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",i._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i._overlayWidth)}},dependencies:[Gn,Ds,ol,Xh,H5,tL],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[lQ.transformPanel]},changeDetection:0}),n})(),_Q=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[dQ],imports:[Vi,nL,g5,ko,uD,hD,g5,ko]}),n})();const vQ=["tooltip"],cq=new r.OlP("mat-tooltip-scroll-strategy"),wQ={provide:cq,deps:[Cm],useFactory:function bQ(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},xQ=new r.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function CQ(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),uq="tooltip-panel",dq=Bh({passive:!0});let SQ=(()=>{class n{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=Pn(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Pn(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=bm(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=bm(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,i,o,s,c,d,p,_,b,E,k,F){this._overlay=e,this._elementRef=i,this._scrollDispatcher=o,this._viewContainerRef=s,this._ngZone=c,this._platform=d,this._ariaDescriber=p,this._focusMonitor=_,this._dir=E,this._defaultOptions=k,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new $t.x,this._scrollStrategy=b,this._document=F,k&&(this._showDelay=k.showDelay,this._hideDelay=k.hideDelay,k.position&&(this.position=k.position),k.positionAtOrigin&&(this.positionAtOrigin=k.positionAtOrigin),k.touchGestures&&(this.touchGestures=k.touchGestures)),E.change.pipe(Ei(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Ei(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,o])=>{e.removeEventListener(i,o,dq)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const o=this._createOverlay(i);this._detach(),this._portal=this._portal||new $S(this._tooltipComponent,this._viewContainerRef);const s=this._tooltipInstance=o.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(Ei(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&s._origin instanceof r.SBq)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),o=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return o.positionChanges.pipe(Ei(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${uq}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Ei(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Ei(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Ei(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&27===s.keyCode&&!Bl(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,o=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset({...o.main,...s.main}),this._addOffset({...o.fallback,...s.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let o;"above"==i||"below"==i?o={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?o={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(o={originX:"end",originY:"center"});const{x:s,y:c}=this._invertPosition(o.originX,o.originY);return{main:o,fallback:{originX:s,originY:c}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let o;"above"==i?o={overlayX:"center",overlayY:"bottom"}:"below"==i?o={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?o={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(o={overlayX:"start",overlayY:"center"});const{x:s,y:c}=this._invertPosition(o.overlayX,o.overlayY);return{main:o,fallback:{overlayX:s,overlayY:c}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(zr(1),Ei(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:o,originY:s}=e;let c;if(c="center"===i?this._dir&&"rtl"===this._dir.value?"end"===o?"left":"right":"start"===o?"left":"right":"bottom"===i&&"top"===s?"above":"below",c!==this._currentPosition){const d=this._overlayRef;if(d){const p=`${this._cssClassPrefix}-${uq}-`;d.removePanelClass(p+this._currentPosition),d.addPanelClass(p+c)}this._currentPosition=c}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(i=e),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const i=e.targetTouches?.[0],o=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,o),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const o=i.relatedTarget;(!o||!this._overlayRef?.overlayElement.contains(o))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,o])=>{this._elementRef.nativeElement.addEventListener(i,o,dq)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),o=this._elementRef.nativeElement;i!==o&&!o.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,o=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(o.userSelect=o.msUserSelect=o.webkitUserSelect=o.MozUserSelect="none"),("on"===e||!i.draggable)&&(o.webkitUserDrag="none"),o.touchAction="none",o.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){r.$Z()},n.\u0275dir=r.lG2({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),MQ=(()=>{class n extends SQ{constructor(e,i,o,s,c,d,p,_,b,E,k,F){super(e,i,o,s,c,d,p,_,b,E,k,F),this._tooltipComponent=RQ,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const o=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=o?-8:8:"end"===e.originX&&(e.offsetX=o?8:-8),e}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Cm),r.Y36(r.SBq),r.Y36(A5),r.Y36(r.s_b),r.Y36(r.R0b),r.Y36(br),r.Y36(UB),r.Y36(qS),r.Y36(cq),r.Y36(ad,8),r.Y36(xQ,8),r.Y36(he))},n.\u0275dir=r.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("mat-mdc-tooltip-disabled",i.disabled)},exportAs:["matTooltip"],features:[r.qOj]}),n})(),kQ=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new $t.x,this._animationsDisabled="NoopAnimations"===i}show(e){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,o=this._showAnimation,s=this._hideAnimation;if(i.classList.remove(e?s:o),i.classList.add(e?o:s),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const c=getComputedStyle(i);("0s"===c.getPropertyValue("animation-duration")||"none"===c.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.sBO),r.Y36(r.QbO,8))},n.\u0275dir=r.lG2({type:n}),n})(),RQ=(()=>{class n extends kQ{constructor(e,i,o){super(e,o),this._elementRef=i,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.QbO,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&r.Gf(vQ,7),2&e){let o;r.iGM(o=r.CRH())&&(i._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&r.NdJ("mouseleave",function(s){return i._handleMouseLeave(s)}),2&e&&r.Udp("zoom",i.isVisible()?1:null)},features:[r.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0,1),r.NdJ("animationend",function(s){return i._handleAnimationEnd(s)}),r.TgZ(2,"div",2),r._uU(3),r.qZA()()),2&e&&(r.ekj("mdc-tooltip--multiline",i._isMultiline),r.Q6J("ngClass",i.tooltipClass),r.xp6(3),r.Oqu(i.message))},dependencies:[Gn],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),n})(),OQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[wQ],imports:[YB,Vi,nL,ko,ko,uD]}),n})();function PQ(n,t){if(1&n&&(r.TgZ(0,"mat-option",19),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.Q6J("value",e),r.xp6(1),r.hij(" ",e," ")}}function NQ(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"mat-form-field",16)(1,"mat-select",17),r.NdJ("selectionChange",function(o){r.CHM(e);const s=r.oxw(2);return r.KtG(s._changePageSize(o.value))}),r.YNc(2,PQ,2,2,"mat-option",18),r.qZA()()}if(2&n){const e=r.oxw(2);r.Q6J("appearance",e._formFieldAppearance)("color",e.color),r.xp6(1),r.Q6J("value",e.pageSize)("disabled",e.disabled)("aria-labelledby",e._pageSizeLabelId)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering),r.xp6(1),r.Q6J("ngForOf",e._displayedPageSizeOptions)}}function FQ(n,t){if(1&n&&(r.TgZ(0,"div",20),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Oqu(e.pageSize)}}function LQ(n,t){if(1&n&&(r.TgZ(0,"div",12)(1,"div",13),r._uU(2),r.qZA(),r.YNc(3,NQ,3,8,"mat-form-field",14),r.YNc(4,FQ,2,1,"div",15),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.s9C("id",e._pageSizeLabelId),r.xp6(1),r.hij(" ",e._intl.itemsPerPageLabel," "),r.xp6(1),r.Q6J("ngIf",e._displayedPageSizeOptions.length>1),r.xp6(1),r.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function UQ(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",21),r.NdJ("click",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.firstPage())}),r.O4$(),r.TgZ(1,"svg",7),r._UZ(2,"path",22),r.qZA()()}if(2&n){const e=r.oxw();r.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),r.uIk("aria-label",e._intl.firstPageLabel)}}function VQ(n,t){if(1&n){const e=r.EpF();r.O4$(),r.kcU(),r.TgZ(0,"button",23),r.NdJ("click",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.lastPage())}),r.O4$(),r.TgZ(1,"svg",7),r._UZ(2,"path",24),r.qZA()()}if(2&n){const e=r.oxw();r.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),r.uIk("aria-label",e._intl.lastPageLabel)}}let QS=(()=>{class n{constructor(){this.changes=new $t.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,o)=>{if(0==o||0==i)return`0 of ${o}`;const s=e*i;return`${s+1} \u2013 ${s<(o=Math.max(o,0))?Math.min(s+i,o):s+i} of ${o}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const BQ={provide:QS,deps:[[new r.FiY,new r.tp0,QS]],useFactory:function ZQ(n){return n||new QS}},HQ=new r.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),jQ=sD(e5(class{}));let zQ=(()=>{class n extends jQ{get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(bm(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=bm(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(bm(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>bm(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=Pn(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=Pn(e)}constructor(e,i,o){if(super(),this._intl=e,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new r.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),o){const{pageSize:s,pageSizeOptions:c,hidePageSize:d,showFirstLastButtons:p}=o;null!=s&&(this._pageSize=s),null!=c&&(this._pageSizeOptions=c),null!=d&&(this._hidePageSize=d),null!=p&&(this._showFirstLastButtons=p)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const o=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(o)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return n.\u0275fac=function(e){r.$Z()},n.\u0275dir=r.lG2({type:n,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[r.qOj]}),n})(),$Q=0,ql=(()=>{class n extends zQ{constructor(e,i,o){super(e,i,o),this._pageSizeLabelId="mat-paginator-page-size-label-"+$Q++,this._formFieldAppearance=o?.formFieldAppearance||"outline"}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(QS),r.Y36(r.sBO),r.Y36(HQ,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[r.qOj],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size",4,"ngIf"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label",3,"id"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-mdc-paginator-page-size-value",4,"ngIf"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"div",1),r.YNc(2,LQ,5,4,"div",2),r.TgZ(3,"div",3)(4,"div",4),r._uU(5),r.qZA(),r.YNc(6,UQ,3,5,"button",5),r.TgZ(7,"button",6),r.NdJ("click",function(){return i.previousPage()}),r.O4$(),r.TgZ(8,"svg",7),r._UZ(9,"path",8),r.qZA()(),r.kcU(),r.TgZ(10,"button",9),r.NdJ("click",function(){return i.nextPage()}),r.O4$(),r.TgZ(11,"svg",7),r._UZ(12,"path",10),r.qZA()(),r.YNc(13,VQ,3,5,"button",11),r.qZA()()()),2&e&&(r.xp6(2),r.Q6J("ngIf",!i.hidePageSize),r.xp6(3),r.hij(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),r.xp6(1),r.Q6J("ngIf",i.showFirstLastButtons),r.xp6(1),r.Q6J("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),r.uIk("aria-label",i._intl.previousPageLabel),r.xp6(3),r.Q6J("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),r.uIk("aria-label",i._intl.nextPageLabel),r.xp6(3),r.Q6J("ngIf",i.showFirstLastButtons))},dependencies:[cr,Un,Y2,KS,gQ,m5,MQ],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),hq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[BQ],imports:[Vi,w5,_Q,OQ]}),n})();const GQ=["mat-sort-header",""];function YQ(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",3),r.NdJ("@arrowPosition.start",function(){r.CHM(e);const o=r.oxw();return r.KtG(o._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){r.CHM(e);const o=r.oxw();return r.KtG(o._disableViewStateAnimation=!1)}),r._UZ(1,"div",4),r.TgZ(2,"div",5),r._UZ(3,"div",6)(4,"div",7)(5,"div",8),r.qZA()()}if(2&n){const e=r.oxw();r.Q6J("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),r.xp6(2),r.Q6J("@indicator",e._getArrowDirectionState()),r.xp6(1),r.Q6J("@leftPointer",e._getArrowDirectionState()),r.xp6(1),r.Q6J("@rightPointer",e._getArrowDirectionState())}}const WQ=["*"],fq=new r.OlP("MAT_SORT_DEFAULT_OPTIONS"),KQ=e5(sD(class{}));let Ja=(()=>{class n extends KQ{get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Pn(e)}constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new $t.x,this.start="asc",this._direction="",this.sortChange=new r.vpe}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let o=function QQ(n,t){let e=["asc","desc"];return"desc"==n&&e.reverse(),t||e.push(""),e}(e.start||this.start,e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),s=o.indexOf(this.direction)+1;return s>=o.length&&(s=0),o[s]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(fq,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[r.qOj,r.TTD]}),n})();const xm=KY.ENTERING+" "+WY.STANDARD_CURVE,A0={indicator:Qa("indicator",[Kr("active-asc, asc",yn({transform:"translateY(0px)"})),Kr("active-desc, desc",yn({transform:"translateY(10px)"})),Nr("active-asc <=> active-desc",fo(xm))]),leftPointer:Qa("leftPointer",[Kr("active-asc, asc",yn({transform:"rotate(-45deg)"})),Kr("active-desc, desc",yn({transform:"rotate(45deg)"})),Nr("active-asc <=> active-desc",fo(xm))]),rightPointer:Qa("rightPointer",[Kr("active-asc, asc",yn({transform:"rotate(45deg)"})),Kr("active-desc, desc",yn({transform:"rotate(-45deg)"})),Nr("active-asc <=> active-desc",fo(xm))]),arrowOpacity:Qa("arrowOpacity",[Kr("desc-to-active, asc-to-active, active",yn({opacity:1})),Kr("desc-to-hint, asc-to-hint, hint",yn({opacity:.54})),Kr("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",yn({opacity:0})),Nr("* => asc, * => desc, * => active, * => hint, * => void",fo("0ms")),Nr("* <=> *",fo(xm))]),arrowPosition:Qa("arrowPosition",[Nr("* => desc-to-hint, * => desc-to-active",fo(xm,T0([yn({transform:"translateY(-25%)"}),yn({transform:"translateY(0)"})]))),Nr("* => hint-to-desc, * => active-to-desc",fo(xm,T0([yn({transform:"translateY(0)"}),yn({transform:"translateY(25%)"})]))),Nr("* => asc-to-hint, * => asc-to-active",fo(xm,T0([yn({transform:"translateY(25%)"}),yn({transform:"translateY(0)"})]))),Nr("* => hint-to-asc, * => active-to-asc",fo(xm,T0([yn({transform:"translateY(0)"}),yn({transform:"translateY(-25%)"})]))),Kr("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",yn({transform:"translateY(0)"})),Kr("hint-to-desc, active-to-desc, desc",yn({transform:"translateY(-25%)"})),Kr("hint-to-asc, active-to-asc, asc",yn({transform:"translateY(25%)"}))]),allowChildren:Qa("allowChildren",[Nr("* <=> *",[G5("@*",$5(),{optional:!0})])])};let JS=(()=>{class n{constructor(){this.changes=new $t.x}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const XQ={provide:JS,deps:[[new r.FiY,new r.tp0,JS]],useFactory:function JQ(n){return n||new JS}},eJ=sD(class{});let I0=(()=>{class n extends eJ{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Pn(e)}constructor(e,i,o,s,c,d,p,_){super(),this._intl=e,this._changeDetectorRef=i,this._sort=o,this._columnDef=s,this._focusMonitor=c,this._elementRef=d,this._ariaDescriber=p,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",_?.arrowPosition&&(this.arrowPosition=_?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const i=!!e;i!==this._showIndicatorHint&&(this._setIndicatorHintVisible(i),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,e)),this._sortActionDescription=e}_handleStateChanges(){this._rerenderSubscription=(0,us.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(JS),r.Y36(r.sBO),r.Y36(Ja,8),r.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),r.Y36(qS),r.Y36(r.SBq),r.Y36(UB,8),r.Y36(fq,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(e,i){1&e&&r.NdJ("click",function(){return i._handleClick()})("keydown",function(s){return i._handleKeydown(s)})("mouseenter",function(){return i._setIndicatorHintVisible(!0)})("mouseleave",function(){return i._setIndicatorHintVisible(!1)}),2&e&&(r.uIk("aria-sort",i._getAriaSortAttribute()),r.ekj("mat-sort-header-disabled",i._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[r.qOj],attrs:GQ,ngContentSelectors:WQ,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(e,i){1&e&&(r.F$t(),r.TgZ(0,"div",0)(1,"div",1),r.Hsn(2),r.qZA(),r.YNc(3,YQ,6,6,"div",2),r.qZA()),2&e&&(r.ekj("mat-sort-header-sorted",i._isSorted())("mat-sort-header-position-before","before"===i.arrowPosition),r.uIk("tabindex",i._isDisabled()?null:0)("role",i._isDisabled()?null:"button"),r.xp6(3),r.Q6J("ngIf",i._renderArrow()))},dependencies:[Un],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[A0.indicator,A0.leftPointer,A0.rightPointer,A0.arrowOpacity,A0.arrowPosition,A0.allowChildren]},changeDetection:0}),n})(),pq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[XQ],imports:[Vi,ko]}),n})();const tJ=[[["caption"]],[["colgroup"],["col"]]],nJ=["caption","colgroup, col"];function lL(n){return class extends n{get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Pn(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}}}const S0=new r.OlP("CDK_TABLE");let M0=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),k0=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),XS=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class sJ{}const aJ=lL(sJ);let Hh=(()=>{class n extends aJ{get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=Pn(e),this._hasStickyChanged=i!==this._stickyEnd}constructor(e){super(),this._table=e,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(S0,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,o){if(1&e&&(r.Suo(o,M0,5),r.Suo(o,k0,5),r.Suo(o,XS,5)),2&e){let s;r.iGM(s=r.CRH())&&(i.cell=s.first),r.iGM(s=r.CRH())&&(i.headerCell=s.first),r.iGM(s=r.CRH())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[r._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),r.qOj]}),n})();class cL{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let dL=(()=>{class n extends cL{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const o=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===o||"treegrid"===o?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Hh),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[r.qOj]}),n})();class gq{constructor(){this.tasks=[],this.endTasks=[]}}const hL=new r.OlP("_COALESCED_STYLE_SCHEDULER");let _q=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new $t.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new gq,this._getScheduleObservable().pipe(Ei(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new gq;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,_n.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(zr(1))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.R0b))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),fL=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof pD?e.headerCell.template:this instanceof mD?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc),r.Y36(r.ZZ4))},n.\u0275dir=r.lG2({type:n,features:[r.TTD]}),n})();class lJ extends fL{}const cJ=lL(lJ);let pD=(()=>{class n extends cJ{constructor(e,i,o){super(e,i),this._table=o}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc),r.Y36(r.ZZ4),r.Y36(S0,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[r.qOj,r.TTD]}),n})();class uJ extends fL{}const dJ=lL(uJ);let mD=(()=>{class n extends dJ{constructor(e,i,o){super(e,i),this._table=o}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc),r.Y36(r.ZZ4),r.Y36(S0,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[r.qOj,r.TTD]}),n})(),eM=(()=>{class n extends fL{constructor(e,i,o){super(e,i),this._table=o}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc),r.Y36(r.ZZ4),r.Y36(S0,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[r.qOj]}),n})(),jh=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),pL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&r.GkF(0,0)},dependencies:[jh],encapsulation:2}),n})(),gL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&r.GkF(0,0)},dependencies:[jh],encapsulation:2}),n})(),tM=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc))},n.\u0275dir=r.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const vq=["top","bottom","left","right"];class hJ{constructor(t,e,i,o,s=!0,c=!0,d){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=o,this._isBrowser=s,this._needsPositionStickyOnElement=c,this._positionListener=d,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const o of t)if(o.nodeType===o.ELEMENT_NODE){i.push(o);for(let s=0;s<o.children.length;s++)i.push(o.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const o of i)this._removeStickyStyle(o,e)})}updateStickyColumns(t,e,i,o=!0){if(!t.length||!this._isBrowser||!e.some(k=>k)&&!i.some(k=>k))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=t[0],c=s.children.length,d=this._getCellWidths(s,o),p=this._getStickyStartColumnPositions(d,e),_=this._getStickyEndColumnPositions(d,i),b=e.lastIndexOf(!0),E=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const k="rtl"===this.direction,F=k?"right":"left",q=k?"left":"right";for(const K of t)for(let ee=0;ee<c;ee++){const Oe=K.children[ee];e[ee]&&this._addStickyStyle(Oe,F,p[ee],ee===b),i[ee]&&this._addStickyStyle(Oe,q,_[ee],ee===E)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===b?[]:d.slice(0,b+1).map((K,ee)=>e[ee]?K:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===E?[]:d.slice(E).map((K,ee)=>i[ee+E]?K:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const o="bottom"===i?t.slice().reverse():t,s="bottom"===i?e.slice().reverse():e,c=[],d=[],p=[];for(let b=0,E=0;b<o.length;b++){if(!s[b])continue;c[b]=E;const k=o[b];p[b]=this._isNativeHtmlTable?Array.from(k.children):[k];const F=k.getBoundingClientRect().height;E+=F,d[b]=F}const _=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let b=0;b<o.length;b++){if(!s[b])continue;const E=c[b],k=b===_;for(const F of p[b])this._addStickyStyle(F,i,E,k)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:d,offsets:c,elements:p}):this._positionListener?.stickyFooterRowsUpdated({sizes:d,offsets:c,elements:p})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(o=>!o)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const o of e)t.style[o]="",t.classList.remove(this._borderCellCss[o]);vq.some(o=>-1===e.indexOf(o)&&t.style[o])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,o){t.classList.add(this._stickCellCss),o&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const o of vq)t.style[o]&&(i+=e[o]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],o=t.children;for(let s=0;s<o.length;s++)i.push(o[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let o=0;for(let s=0;s<t.length;s++)e[s]&&(i[s]=o,o+=t[s]);return i}_getStickyEndColumnPositions(t,e){const i=[];let o=0;for(let s=t.length;s>0;s--)e[s]&&(i[s]=o,o+=t[s]);return i}}const _L=new r.OlP("CDK_SPL");let nM=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),iM=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),rM=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),oM=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),sM=(()=>{class n{get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Pn(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Pn(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,i,o,s,c,d,p,_,b,E,k,F){this._differs=e,this._changeDetectorRef=i,this._elementRef=o,this._dir=c,this._platform=p,this._viewRepeater=_,this._coalescedStyleScheduler=b,this._viewportRuler=E,this._stickyPositioningListener=k,this._ngZone=F,this._onDestroy=new $t.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new r.vpe,this.viewChange=new co.X({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=d,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Ei(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),aL(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(o,s,c)=>this._getEmbeddedViewArgs(o.item,c),o=>o.item.data,o=>{1===o.operation&&o.context&&this._renderCellTemplateForItem(o.record.item.rowDef,o.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(o=>{i.get(o.currentIndex).context.$implicit=o.item.data}),this._updateNoDataRow(),this._ngZone&&r.R0b.isInAngularZone()?this._ngZone.onStable.pipe(zr(1),Ei(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),o=this._elementRef.nativeElement.querySelector("thead");o&&(o.style.display=e.length?"":"none");const s=this._headerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,s,"top"),this._headerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),o=this._elementRef.nativeElement.querySelector("tfoot");o&&(o.style.display=e.length?"":"none");const s=this._footerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),o=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...o],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((s,c)=>{this._addStickyColumnStyles([s],this._headerRowDefs[c])}),this._rowDefs.forEach(s=>{const c=[];for(let d=0;d<i.length;d++)this._renderRows[d].rowDef===s&&c.push(i[d]);this._addStickyColumnStyles(c,s)}),o.forEach((s,c)=>{this._addStickyColumnStyles([s],this._footerRowDefs[c])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let o=0;o<this._data.length;o++){let s=this._data[o];const c=this._getRenderRowsForData(s,o,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let d=0;d<c.length;d++){let p=c[d];const _=this._cachedRenderRowsMap.get(p.data);_.has(p.rowDef)?_.get(p.rowDef).push(p):_.set(p.rowDef,[p]),e.push(p)}}return e}_getRenderRowsForData(e,i,o){return this._getRowDefs(e,i).map(c=>{const d=o&&o.has(c)?o.get(c):[];if(d.length){const p=d.shift();return p.dataIndex=i,p}return{data:e,rowDef:c,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),aM(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=aM(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=aM(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=aM(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(c,d)=>c||!!d.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const o=this._headerRowDefs.reduce(e,!1);o&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(e,!1);return s&&this._forceRenderFooterRows(),i||o||s}_switchDataSource(e){this._data=[],aL(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;aL(this.dataSource)?e=this.dataSource.connect(this):_A(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,ft.of)(this.dataSource)),this._renderChangeSubscription=e.pipe(Ei(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const o=Array.from(i.columns||[]).map(d=>this._columnDefsByName.get(d)),s=o.map(d=>d.sticky),c=o.map(d=>d.stickyEnd);this._stickyStyler.updateStickyColumns(e,s,c,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let o=0;o<e.viewContainer.length;o++){const s=e.viewContainer.get(o);i.push(s.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let o=[];if(this.multiTemplateDataRows)o=this._rowDefs.filter(s=>!s.when||s.when(i,e));else{let s=this._rowDefs.find(c=>c.when&&c.when(i,e))||this._defaultRowDef;s&&o.push(s)}return o}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,o,s={}){const c=e.viewContainer.createEmbeddedView(i.template,s,o);return this._renderCellTemplateForItem(i,s),c}_renderCellTemplateForItem(e,i){for(let o of this._getCellTemplates(e))jh.mostRecentCellOutlet&&jh.mostRecentCellOutlet._viewContainer.createEmbeddedView(o,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,o=e.length;i<o;i++){const c=e.get(i).context;c.count=o,c.first=0===i,c.last=i===o-1,c.even=i%2==0,c.odd=!c.even,this.multiTemplateDataRows?(c.dataIndex=this._renderRows[i].dataIndex,c.renderIndex=i):c.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const o=this._columnDefsByName.get(i);return e.extractCellTemplate(o)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const o of i){const s=this._document.createElement(o.tag);s.setAttribute("role","rowgroup");for(const c of o.outlets)s.appendChild(c.elementRef.nativeElement);e.appendChild(s)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,o)=>i||o.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new hJ(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,ft.of)()).pipe(Ei(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const o=this._noDataRowOutlet.viewContainer;if(i){const s=o.createEmbeddedView(e.templateRef),c=s.rootNodes[0];1===s.rootNodes.length&&c?.nodeType===this._document.ELEMENT_NODE&&(c.setAttribute("role","row"),c.classList.add(e._contentClassName))}else o.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.ZZ4),r.Y36(r.sBO),r.Y36(r.SBq),r.$8M("role"),r.Y36(ad,8),r.Y36(he),r.Y36(br),r.Y36(fD),r.Y36(hL),r.Y36(zS),r.Y36(_L,12),r.Y36(r.R0b,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,o){if(1&e&&(r.Suo(o,tM,5),r.Suo(o,Hh,5),r.Suo(o,eM,5),r.Suo(o,pD,5),r.Suo(o,mD,5)),2&e){let s;r.iGM(s=r.CRH())&&(i._noDataRow=s.first),r.iGM(s=r.CRH())&&(i._contentColumnDefs=s),r.iGM(s=r.CRH())&&(i._contentRowDefs=s),r.iGM(s=r.CRH())&&(i._contentHeaderRowDefs=s),r.iGM(s=r.CRH())&&(i._contentFooterRowDefs=s)}},viewQuery:function(e,i){if(1&e&&(r.Gf(nM,7),r.Gf(iM,7),r.Gf(rM,7),r.Gf(oM,7)),2&e){let o;r.iGM(o=r.CRH())&&(i._rowOutlet=o.first),r.iGM(o=r.CRH())&&(i._headerRowOutlet=o.first),r.iGM(o=r.CRH())&&(i._footerRowOutlet=o.first),r.iGM(o=r.CRH())&&(i._noDataRowOutlet=o.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[r._Bn([{provide:S0,useExisting:n},{provide:fD,useClass:oq},{provide:hL,useClass:_q},{provide:_L,useValue:null}])],ngContentSelectors:nJ,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(r.F$t(tJ),r.Hsn(0),r.Hsn(1,1),r.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[nM,iM,rM,oM],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function aM(n,t){return n.concat(Array.from(t))}let pJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[Q2]}),n})();const mJ=[[["caption"]],[["colgroup"],["col"]]],gJ=["caption","colgroup, col"];let O_=(()=>{class n extends sM{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("mdc-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[r._Bn([{provide:sM,useExisting:n},{provide:S0,useExisting:n},{provide:hL,useClass:_q},{provide:fD,useClass:oq},{provide:_L,useValue:null}]),r.qOj],ngContentSelectors:gJ,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(r.F$t(mJ),r.Hsn(0),r.Hsn(1,1),r.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[nM,iM,rM,oM],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child>.mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),n})(),Dm=(()=>{class n extends M0{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["","matCellDef",""]],features:[r._Bn([{provide:M0,useExisting:n}]),r.qOj]}),n})(),Em=(()=>{class n extends k0{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[r._Bn([{provide:k0,useExisting:n}]),r.qOj]}),n})(),Tm=(()=>{class n extends Hh{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[r._Bn([{provide:Hh,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),r.qOj]}),n})(),Am=(()=>{class n extends dL{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[r.qOj]}),n})(),P_=(()=>{class n extends pD{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[r._Bn([{provide:pD,useExisting:n}]),r.qOj]}),n})(),N_=(()=>{class n extends eM{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[r._Bn([{provide:eM,useExisting:n}]),r.qOj]}),n})(),F_=(()=>{class n extends pL{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[r._Bn([{provide:pL,useExisting:n}]),r.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&r.GkF(0,0)},dependencies:[jh],encapsulation:2}),n})(),L_=(()=>{class n extends gL{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[r._Bn([{provide:gL,useExisting:n}]),r.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&r.GkF(0,0)},dependencies:[jh],encapsulation:2}),n})(),U_=(()=>{class n extends tM{constructor(){super(...arguments),this._contentClassName="mat-mdc-no-data-row"}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["ng-template","matNoDataRow",""]],features:[r._Bn([{provide:tM,useExisting:n}]),r.qOj]}),n})(),wq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[ko,pJ,ko]}),n})();class EJ extends QK{get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}constructor(t=[]){super(),this._renderData=new co.X([]),this._filter=new co.X(""),this._internalPageChanges=new $t.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const o=e[i];if(kB(o)){const s=Number(o);return s<9007199254740991?s:o}return o},this.sortData=(e,i)=>{const o=i.active,s=i.direction;return o&&""!=s?e.sort((c,d)=>{let p=this.sortingDataAccessor(c,o),_=this.sortingDataAccessor(d,o);const b=typeof p,E=typeof _;b!==E&&("number"===b&&(p+=""),"number"===E&&(_+=""));let k=0;return null!=p&&null!=_?p>_?k=1:p<_&&(k=-1):null!=p?k=1:null!=_&&(k=-1),k*("asc"==s?1:-1)}):e},this.filterPredicate=(e,i)=>{const o=Object.keys(e).reduce((c,d)=>c+e[d]+"\u25ec","").toLowerCase(),s=i.trim().toLowerCase();return-1!=o.indexOf(s)},this._data=new co.X(t),this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?(0,us.T)(this._sort.sortChange,this._sort.initialized):(0,ft.of)(null),e=this._paginator?(0,us.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,ft.of)(null),o=qc([this._data,this._filter]).pipe((0,Ke.U)(([d])=>this._filterData(d))),s=qc([o,t]).pipe((0,Ke.U)(([d])=>this._orderData(d))),c=qc([s,e]).pipe((0,Ke.U)(([d])=>this._pageData(d)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=c.subscribe(d=>this._renderData.next(d))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,o=Math.min(e.pageIndex,i);o!==e.pageIndex&&(e.pageIndex=o,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class zh extends EJ{}let gD=(()=>{class n{constructor(e){this.db=e,this.dbPath="/citys",this.lastId=1,this.citysRef=e.collection(this.dbPath)}getAllCity(){return this.db.collection("citys",e=>e.where("status","==",!0).orderBy("cityName","asc"))}getAllCityName(e){return this.db.collection("citys",i=>i.where("status","==",!0).where("countryName","==",e).orderBy("cityName","asc"))}getAllCityCode(e){return this.db.collection("citys",i=>i.where("status","==",!0).where("countryCode","==",e).orderBy("cityName","asc"))}getAllCountries(){return this.db.collection("countries",e=>e.where("status","==",!0).orderBy("countryName","asc"))}getNumberOfRecords(){return this.db.collection("citys").ref.get().then(e=>e.size)}getNextId(){var e=this;return(0,de.Z)(function*(){try{const i=yield e.getNumberOfRecords();e.lastId=i}catch(i){console.error("Error al obtener la cantidad de registros:",i)}e.lastId++})()}createCity(e){var i=this;return(0,de.Z)(function*(){try{yield i.getNextId();const o=i.lastId.toString();e.cityId=o;const s=i.db.collection("citys").doc(),c=s.ref.id;e.uid=c;const d={uid:c,cityId:e.cityId,...e};yield s.set(d)}catch(o){throw console.error("Error al crear el ciudad:",o),o}})()}addCountry(e){return this.db.collection("countries").add(e)}update(e){return this.citysRef.doc(e.uid).update(e)}delete(e,i,o){return this.citysRef.doc(e).update({status:!1,lastUpdate:o,lastUpdateUser:i})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Ka))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cq=(()=>{class n{constructor(e){this.db=e,this.dbPath="/leads",this.lastId=1,this.leadsRef=e.collection(this.dbPath)}getAll(){return this.db.collection("leads",e=>e.where("state","==","Activo").where("status","==",!0).orderBy("id","asc"))}getbyId(e){return this.db.collection("leads",i=>i.where("state","==","Activo").where("status","==",!0).where("uid","==",e))}getusrbyEmail(e){return this.db.collection("leads",i=>i.where("state","==","Activo").where("status","==",!0).where("email","==",e))}getperType(e){return this.db.collection("leads",i=>i.where("state","==","Activo").where("status","==",!0).where("lead_type","==",e).orderBy("id","asc"))}getNumberOfRecords(){return this.db.collection("leads").ref.get().then(e=>e.size)}getNextId(){var e=this;return(0,de.Z)(function*(){try{const i=yield e.getNumberOfRecords();e.lastId=i}catch(i){console.error("Error al obtener la cantidad de registros:",i)}e.lastId++})()}create(e){var i=this;return(0,de.Z)(function*(){try{yield i.getNextId();const o=i.lastId.toString();e.id=o;const s=i.db.collection("leads").doc();e.uid=s.ref.id;const d={uid:e.uid,id:e.id,...e,profile_picture:e.profile_picture||null};yield s.set(d)}catch(o){throw console.error("Error al crear el usuario:",o),o}})()}update(e){return this.leadsRef.doc(e.uid).update(e)}delete(e,i,o){return this.leadsRef.doc(e).update({state:"Inactivo",status:!1,lastUpdate:o,lastUpdateLead:i})}savepostulation(e){this.db.collection("postulaciones").add(e).then(()=>{console.log("Se envio la postulaci\xf3n")}).catch(i=>{console.error("Error al guardar la postulaci\xf3n:",i)})}getPostulation(e,i,o){var s=this;return(0,de.Z)(function*(){return s.db.collection("postulaciones",c=>c.where("id","==",e).where("emailCliente","==",i).where("currentUserEmail","==",o)).valueChanges()})()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Ka))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$h=(()=>{class n{constructor(){this.alertSource=new $t.x,this.alert$=this.alertSource.asObservable()}ShowAlert(e,i,o=5e3){this.alertSource.next({type:e,message:i,time:o})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xq="firebasestorage.googleapis.com",Dq="storageBucket";class or extends V.ZR{constructor(t,e,i=0){super(vL(t),`Firebase Storage: ${e} (${vL(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,or.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return vL(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ht=(()=>((Ht=Ht||{}).UNKNOWN="unknown",Ht.OBJECT_NOT_FOUND="object-not-found",Ht.BUCKET_NOT_FOUND="bucket-not-found",Ht.PROJECT_NOT_FOUND="project-not-found",Ht.QUOTA_EXCEEDED="quota-exceeded",Ht.UNAUTHENTICATED="unauthenticated",Ht.UNAUTHORIZED="unauthorized",Ht.UNAUTHORIZED_APP="unauthorized-app",Ht.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Ht.INVALID_CHECKSUM="invalid-checksum",Ht.CANCELED="canceled",Ht.INVALID_EVENT_NAME="invalid-event-name",Ht.INVALID_URL="invalid-url",Ht.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Ht.NO_DEFAULT_BUCKET="no-default-bucket",Ht.CANNOT_SLICE_BLOB="cannot-slice-blob",Ht.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Ht.NO_DOWNLOAD_URL="no-download-url",Ht.INVALID_ARGUMENT="invalid-argument",Ht.INVALID_ARGUMENT_COUNT="invalid-argument-count",Ht.APP_DELETED="app-deleted",Ht.INVALID_ROOT_OPERATION="invalid-root-operation",Ht.INVALID_FORMAT="invalid-format",Ht.INTERNAL_ERROR="internal-error",Ht.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Ht))();function vL(n){return"storage/"+n}function yL(){return new or(Ht.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Eq(){return new or(Ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Tq(){return new or(Ht.CANCELED,"User canceled the upload/download.")}function Aq(){return new or(Ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function R0(n){return new or(Ht.INVALID_ARGUMENT,n)}function Iq(){return new or(Ht.APP_DELETED,"The Firebase app was deleted.")}function Sq(n){return new or(Ht.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _D(n,t){return new or(Ht.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function vD(n){throw new or(Ht.INTERNAL_ERROR,"Internal error: "+n)}class bs{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=bs.makeFromUrl(t,e)}catch{return new bs(t,"")}if(""===i.path)return i;throw function NJ(n){return new or(Ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const o="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+o+"(/(.*))?$","i");function _(Je){Je.path_=decodeURIComponent(Je.path)}const E=e.replace(/[.]/g,"\\."),He=[{regex:d,indices:{bucket:1,path:3},postModify:function s(Je){"/"===Je.path.charAt(Je.path.length-1)&&(Je.path_=Je.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${E}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${e===xq?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let Je=0;Je<He.length;Je++){const Nt=He[Je],Vt=Nt.regex.exec(t);if(Vt){let sr=Vt[Nt.indices.path];sr||(sr=""),i=new bs(Vt[Nt.indices.bucket],sr),Nt.postModify(i);break}}if(null==i)throw function PJ(n){return new or(Ht.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return i}}class ZJ{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function lM(n){return"string"==typeof n||n instanceof String}function Mq(n){return bL()&&n instanceof Blob}function bL(){return typeof Blob<"u"&&!(0,V.UG)()}function wL(n,t,e,i){if(i<t)throw R0(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw R0(`Invalid value for '${n}'. Expected ${e} or less.`)}function Gh(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function kq(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var wa=(()=>((wa=wa||{})[wa.NO_ERROR=0]="NO_ERROR",wa[wa.NETWORK_ERROR=1]="NETWORK_ERROR",wa[wa.ABORT=2]="ABORT",wa))();function Rq(n,t){const e=n>=500&&n<600,o=-1!==[408,429].indexOf(n),s=-1!==t.indexOf(n);return e||o||s}class $J{constructor(t,e,i,o,s,c,d,p,_,b,E,k=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=o,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=b,this.connectionFactory_=E,this.retry=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((F,q)=>{this.resolve_=F,this.reject_=q,this.start_()})}start_(){const e=(i,o)=>{const s=this.resolve_,c=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());!function HJ(n){return void 0!==n}(p)?s():s(p)}catch(p){c(p)}else if(null!==d){const p=yL();p.serverResponse=d.getErrorText(),c(this.errorCallback_?this.errorCallback_(d,p):p)}else c(o.canceled?this.appDelete_?Iq():Tq():Eq())};this.canceled_?e(0,new cM(!1,null,!0)):this.backoffId_=function BJ(n,t,e){let i=1,o=null,s=null,c=!1,d=0;function p(){return 2===d}let _=!1;function b(...ee){_||(_=!0,t.apply(null,ee))}function E(ee){o=setTimeout(()=>{o=null,n(F,p())},ee)}function k(){s&&clearTimeout(s)}function F(ee,...Oe){if(_)return void k();if(ee)return k(),void b.call(null,ee,...Oe);if(p()||c)return k(),void b.call(null,ee,...Oe);let He;i<64&&(i*=2),1===d?(d=2,He=0):He=1e3*(i+Math.random()),E(He)}let q=!1;function K(ee){q||(q=!0,k(),!_&&(null!==o?(ee||(d=2),clearTimeout(o),E(0)):ee||(d=1)))}return E(0),s=setTimeout(()=>{c=!0,K(!0)},e),K}((i,o)=>{if(o)return void i(!1,new cM(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const d=s.getErrorCode()===wa.NO_ERROR,p=s.getStatus();if(!d||Rq(p,this.additionalRetryCodes_)&&this.retry){const b=s.getErrorCode()===wa.ABORT;return void i(!1,new cM(!1,null,b))}const _=-1!==this.successCodes_.indexOf(p);i(!0,new cM(_,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function qJ(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class cM{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function XJ(...n){const t=function JJ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(bL())return new Blob(n);throw new or(Ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Xa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class CL{constructor(t,e){this.data=t,this.contentType=e||null}}function xL(n,t){switch(n){case Xa.RAW:return new CL(Oq(t));case Xa.BASE64:case Xa.BASE64URL:return new CL(Pq(n,t));case Xa.DATA_URL:return new CL(function iX(n){const t=new Nq(n);return t.base64?Pq(Xa.BASE64,t.rest):function nX(n){let t;try{t=decodeURIComponent(n)}catch{throw _D(Xa.DATA_URL,"Malformed data URL.")}return Oq(t)}(t.rest)}(t),function rX(n){return new Nq(n).contentType}(t))}throw yL()}function Oq(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function Pq(n,t){switch(n){case Xa.BASE64:{const o=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(o||s)throw _D(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Xa.BASE64URL:{const o=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(o||s)throw _D(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function tX(n){if(typeof atob>"u")throw function VJ(n){return new or(Ht.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(o){throw o.message.includes("polyfill")?o:_D(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let o=0;o<e.length;o++)i[o]=e.charCodeAt(o);return i}class Nq{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw _D(Xa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function oX(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class ld{constructor(t,e){let i=0,o="";Mq(t)?(this.data_=t,i=t.size,o=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,e){if(Mq(this.data_)){const o=function eX(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===o?null:new ld(o)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new ld(i,!0)}}static getBlob(...t){if(bL()){const e=t.map(i=>i instanceof ld?i.data_:i);return new ld(XJ.apply(null,e))}{const e=t.map(c=>lM(c)?xL(Xa.RAW,c).data:c.data_);let i=0;e.forEach(c=>{i+=c.byteLength});const o=new Uint8Array(i);let s=0;return e.forEach(c=>{for(let d=0;d<c.length;d++)o[s++]=c[d]}),new ld(o,!0)}}uploadData(){return this.data_}}function DL(n){let t;try{t=JSON.parse(n)}catch{return null}return function zJ(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function Fq(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function lX(n,t){return t}class Ks{constructor(t,e,i,o){this.server=t,this.local=e||t,this.writable=!!i,this.xform=o||lX}}let uM=null;function yD(){if(uM)return uM;const n=[];n.push(new Ks("bucket")),n.push(new Ks("generation")),n.push(new Ks("metageneration")),n.push(new Ks("name","fullPath",!0));const e=new Ks("name");e.xform=function t(s,c){return function cX(n){return!lM(n)||n.length<2?n:Fq(n)}(c)},n.push(e);const o=new Ks("size");return o.xform=function i(s,c){return void 0!==c?Number(c):c},n.push(o),n.push(new Ks("timeCreated")),n.push(new Ks("updated")),n.push(new Ks("md5Hash",null,!0)),n.push(new Ks("cacheControl",null,!0)),n.push(new Ks("contentDisposition",null,!0)),n.push(new Ks("contentEncoding",null,!0)),n.push(new Ks("contentLanguage",null,!0)),n.push(new Ks("contentType",null,!0)),n.push(new Ks("metadata","customMetadata",!0)),uM=n,uM}function Lq(n,t,e){const i=DL(t);return null===i?null:function dX(n,t,e){const i={type:"file"},o=e.length;for(let s=0;s<o;s++){const c=e[s];i[c.local]=c.xform(i,t[c.server])}return function uX(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new bs(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function EL(n,t){const e={},i=t.length;for(let o=0;o<i;o++){const s=t[o];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const Uq="prefixes",Vq="items";class cd{constructor(t,e,i,o){this.url=t,this.method=e,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ud(n){if(!n)throw yL()}function dM(n,t){return function e(i,o){const s=Lq(n,o,t);return ud(null!==s),s}}function O0(n){return function t(e,i){let o;return o=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function RJ(){return new or(Ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function kJ(){return new or(Ht.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function MJ(n){return new or(Ht.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function OJ(n){return new or(Ht.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,o.status=e.getStatus(),o.serverResponse=i.serverResponse,o}}function bD(n){const t=O0(n);return function e(i,o){let s=t(i,o);return 404===i.getStatus()&&(s=function SJ(n){return new or(Ht.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=o.serverResponse,s}}function Zq(n,t,e){const o=Gh(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new cd(o,"GET",dM(n,e),c);return d.errorHandler=bD(t),d}function _X(n,t,e,i,o){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),o&&(s.maxResults=o);const d=Gh(t.bucketOnlyServerUrl(),n.host,n._protocol),_=n.maxOperationRetryTime,b=new cd(d,"GET",function mX(n,t){return function e(i,o){const s=function pX(n,t,e){const i=DL(e);return null===i?null:function fX(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[Uq])for(const o of e[Uq]){const s=o.replace(/\/$/,""),c=n._makeStorageReference(new bs(t,s));i.prefixes.push(c)}if(e[Vq])for(const o of e[Vq]){const s=n._makeStorageReference(new bs(t,o.name));i.items.push(s)}return i}(n,t,i)}(n,t,o);return ud(null!==s),s}}(n,t.bucket),_);return b.urlParams=s,b.errorHandler=O0(t),b}function qq(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function wX(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class hM{constructor(t,e,i,o){this.current=t,this.total=e,this.finalized=!!i,this.metadata=o||null}}function TL(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{ud(!1)}return ud(!!e&&-1!==(t||["active"]).indexOf(e)),e}const EX={STATE_CHANGED:"state_changed"},Qs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function AL(n){switch(n){case"running":case"pausing":case"canceling":return Qs.RUNNING;case"paused":return Qs.PAUSED;case"success":return Qs.SUCCESS;case"canceled":return Qs.CANCELED;default:return Qs.ERROR}}class TX{constructor(t,e,i){if(function jJ(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function P0(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}let zq=null;class AX{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=wa.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=wa.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=wa.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,o){if(this.sent_)throw vD("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==o)for(const s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vD("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vD("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vD("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vD("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class IX extends AX{initXhr(){this.xhr_.responseType="text"}}function Gc(){return zq?zq():new IX}class $q{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=yD(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(Ht.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(Rq(o.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();o=Eq()}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(Ht.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,s)=>{this._resolve=o,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function CX(n,t,e,i,o){const s=t.bucketOnlyServerUrl(),c=qq(t,i,o),d={name:c.fullPath},p=Gh(s,n.host,n._protocol),b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},E=EL(c,e),q=new cd(p,"POST",function F(K){let ee;TL(K);try{ee=K.getResponseHeader("X-Goog-Upload-URL")}catch{ud(!1)}return ud(lM(ee)),ee},n.maxUploadRetryTime);return q.urlParams=d,q.headers=b,q.body=E,q.errorHandler=O0(t),q}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(i,Gc,t,e);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const o=function xX(n,t,e,i){const p=new cd(e,"POST",function s(_){const b=TL(_,["active","final"]);let E=null;try{E=_.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ud(!1)}E||ud(!1);const k=Number(E);return ud(!isNaN(k)),new hM(k,i.size(),"final"===b)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=O0(t),p}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(o,Gc,e,i);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new hM(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((o,s)=>{let c;try{c=function DX(n,t,e,i,o,s,c,d){const p=new hM(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function LJ(){return new or(Ht.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const _=p.total-p.current;let b=_;o>0&&(b=Math.min(b,o));const E=p.current;let F="";F=0===b?"finalize":_===b?"upload, finalize":"upload";const q={"X-Goog-Upload-Command":F,"X-Goog-Upload-Offset":`${p.current}`},K=i.slice(E,E+b);if(null===K)throw Aq();const He=new cd(e,"POST",function ee(Je,Nt){const Vt=TL(Je,["active","final"]),En=p.current+b,sr=i.size();let ws;return ws="final"===Vt?dM(t,s)(Je,Nt):null,new hM(En,sr,"final"===Vt,ws)},t.maxUploadRetryTime);return He.headers=q,He.body=K.uploadData(),He.progressCallback=d||null,He.errorHandler=O0(n),He}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const d=this._ref.storage._makeRequest(c,Gc,o,s,!1);this._request=d,d.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=Zq(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(i,Gc,t,e);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function Hq(n,t,e,i,o){const s=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},p=function d(){let He="";for(let Je=0;Je<2;Je++)He+=Math.random().toString().slice(2);return He}();c["Content-Type"]="multipart/related; boundary="+p;const _=qq(t,i,o),b=EL(_,e),F=ld.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+b+"\r\n--"+p+"\r\nContent-Type: "+_.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===F)throw Aq();const q={name:_.fullPath},K=Gh(s,n.host,n._protocol),Oe=n.maxUploadRetryTime,ze=new cd(K,"POST",dM(n,e),Oe);return ze.urlParams=q,ze.headers=c,ze.body=F.uploadData(),ze.errorHandler=O0(t),ze}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(i,Gc,t,e);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=Tq(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=AL(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,o){const s=new TX(e||void 0,i||void 0,o||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(AL(this._state)){case Qs.SUCCESS:P0(this._resolve.bind(null,this.snapshot))();break;case Qs.CANCELED:case Qs.ERROR:P0(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(AL(this._state)){case Qs.RUNNING:case Qs.PAUSED:t.next&&P0(t.next.bind(t,this.snapshot))();break;case Qs.SUCCESS:t.complete&&P0(t.complete.bind(t))();break;default:t.error&&P0(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class V_{constructor(t,e){this._service=t,this._location=e instanceof bs?e:bs.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new V_(t,e)}get root(){const t=new bs(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Fq(this._location.path)}get storage(){return this._service}get parent(){const t=function sX(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new bs(this._location.bucket,t);return new V_(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw Sq(t)}}function Yq(n,t,e){return IL.apply(this,arguments)}function IL(){return IL=(0,de.Z)(function*(n,t,e){const o=yield Wq(n,{pageToken:e});t.prefixes.push(...o.prefixes),t.items.push(...o.items),null!=o.nextPageToken&&(yield Yq(n,t,o.nextPageToken))}),IL.apply(this,arguments)}function Wq(n,t){null!=t&&"number"==typeof t.maxResults&&wL("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=_X(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,Gc)}function ZX(n){n._throwIfRoot("getDownloadURL");const t=function vX(n,t,e){const o=Gh(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new cd(o,"GET",function gX(n,t){return function e(i,o){const s=Lq(n,o,t);return ud(null!==s),function hX(n,t,e,i){const o=DL(t);if(null===o||!lM(o.downloadTokens))return null;const s=o.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(_=>{const E=n.fullPath;return Gh("/b/"+c(n.bucket)+"/o/"+c(E),e,i)+kq({alt:"media",token:_})})[0]}(s,o,n.host,n._protocol)}}(n,e),c);return d.errorHandler=bD(t),d}(n.storage,n._location,yD());return n.storage.makeRequestWithTokens(t,Gc).then(e=>{if(null===e)throw function UJ(){return new or(Ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function Kq(n,t){const e=function aX(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new bs(n._location.bucket,e);return new V_(n.storage,i)}function Qq(n,t){if(n instanceof SL){const e=n;if(null==e._bucket)throw function FJ(){return new or(Ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Dq+"' property when initializing the app?")}();const i=new V_(e,e._bucket);return null!=t?Qq(i,t):i}return void 0!==t?Kq(n,t):n}function jX(n,t){if(t&&function qX(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof SL)return function HX(n,t){return new V_(n,t)}(n,t);throw R0("To use ref(service, url), the first argument must be a Storage instance.")}return Qq(n,t)}function Jq(n,t){const e=t?.[Dq];return null==e?null:bs.makeFromBucketSpec(e,n)}class SL{constructor(t,e,i,o,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=o,this._firebaseVersion=s,this._bucket=null,this._host=xq,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?bs.makeFromBucketSpec(o,this._host):Jq(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?bs.makeFromBucketSpec(this._url,t):Jq(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){wL("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){wL("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,de.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,de.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new V_(this,t)}_makeRequest(t,e,i,o,s=!0){if(this._deleted)return new ZJ(Iq());{const c=function QJ(n,t,e,i,o,s,c=!0){const d=kq(n.urlParams),p=n.url+d,_=Object.assign({},n.headers);return function WJ(n,t){t&&(n["X-Firebase-GMPID"]=t)}(_,t),function GJ(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(_,e),function YJ(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(_,s),function KJ(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(_,i),new $J(p,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c)}(t,this._appId,i,o,e,this._firebaseVersion,s);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(t,e){var i=this;return(0,de.Z)(function*(){const[o,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,o,s).getPromise()})()}}const Xq="@firebase/storage";function nH(n,t){return jX(n=(0,V.m9)(n),t)}function eee(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new SL(e,i,o,t,Mr.SDK_VERSION)}!function tee(){(0,Mr._registerComponent)(new Ns.wA("storage",eee,"PUBLIC").setMultipleInstances(!0)),(0,Mr.registerVersion)(Xq,"0.11.2",""),(0,Mr.registerVersion)(Xq,"0.11.2","esm2017")}();class fM{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class rH{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new fM(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new fM(i,this,this._ref))},e)}on(t,e,i,o){let s;return e&&(s="function"==typeof e?c=>e(new fM(c,this,this._ref)):{next:e.next?c=>e.next(new fM(c,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,o||void 0)}}class oH{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Yh(t,this._service))}get items(){return this._delegate.items.map(t=>new Yh(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Yh{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function XX(n,t){return Kq(n,t)}(this._delegate,t);return new Yh(e,this.storage)}get root(){return new Yh(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Yh(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new rH(function $X(n,t,e){return function NX(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new $q(n,new ld(t),e)}(n=(0,V.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=Xa.RAW,i){this._throwIfRoot("putString");const o=xL(e,t),s=Object.assign({},i);return null==s.contentType&&null!=o.contentType&&(s.contentType=o.contentType),new rH(new $q(this._delegate,new ld(o.data,!0),s),this)}listAll(){return function KX(n){return function LX(n){const t={prefixes:[],items:[]};return Yq(n,t).then(()=>t)}(n=(0,V.m9)(n))}(this._delegate).then(t=>new oH(t,this.storage))}list(t){return function WX(n,t){return Wq(n=(0,V.m9)(n),t)}(this._delegate,t||void 0).then(e=>new oH(e,this.storage))}getMetadata(){return function GX(n){return function UX(n){n._throwIfRoot("getMetadata");const t=Zq(n.storage,n._location,yD());return n.storage.makeRequestWithTokens(t,Gc)}(n=(0,V.m9)(n))}(this._delegate)}updateMetadata(t){return function YX(n,t){return function VX(n,t){n._throwIfRoot("updateMetadata");const e=function yX(n,t,e,i){const s=Gh(t.fullServerUrl(),n.host,n._protocol),d=EL(e,i),_=n.maxOperationRetryTime,b=new cd(s,"PATCH",dM(n,i),_);return b.headers={"Content-Type":"application/json; charset=utf-8"},b.body=d,b.errorHandler=bD(t),b}(n.storage,n._location,t,yD());return n.storage.makeRequestWithTokens(e,Gc)}(n=(0,V.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function QX(n){return ZX(n=(0,V.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function JX(n){return function BX(n){n._throwIfRoot("deleteObject");const t=function bX(n,t){const i=Gh(t.fullServerUrl(),n.host,n._protocol),d=new cd(i,"DELETE",function c(p,_){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=bD(t),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Gc)}(n=(0,V.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw Sq(t)}}class sH{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(aH(t))throw R0("ref() expected a child path but got a URL, use refFromURL instead.");return new Yh(nH(this._delegate,t),this)}refFromURL(t){if(!aH(t))throw R0("refFromURL() expected a full URL but got a child path, use ref() instead.");try{bs.makeFromUrl(t,this._delegate.host)}catch{throw R0("refFromUrl() expected a valid full URL but got an invalid one.")}return new Yh(nH(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function iH(n,t,e,i={}){!function zX(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken="string"==typeof o?o:(0,V.Sg)(o,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function aH(n){return/^[A-Za-z]+:\/\//.test(n)}function oee(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new sH(e,i)}function lH(n){const t=function aee(n){return new Kn.y(t=>{const e=c=>t.next(c);e(n.snapshot);const s=n.on("state_changed",e);return n.then(c=>{e(c),t.complete()},c=>{e(n.snapshot),(c=>{t.error(c)})(c)}),function(){s()}}).pipe(q2(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,Ke.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function pM(n){return{getDownloadURL:()=>(0,ft.of)(void 0).pipe(Wt.fc,Mi(()=>n.getDownloadURL()),Wt.iC),getMetadata:()=>(0,ft.of)(void 0).pipe(Wt.fc,Mi(()=>n.getMetadata()),Wt.iC),delete:()=>(0,_n.D)(n.delete()),child:t=>pM(n.child(t)),updateMetadata:t=>(0,_n.D)(n.updateMetadata(t)),put:(t,e)=>lH(n.put(t,e)),putString:(t,e,i)=>lH(n.putString(t,e,i)),list:t=>(0,_n.D)(n.list(t)),listAll:()=>(0,_n.D)(n.listAll())}}!function see(n){const t={TaskState:Qs,TaskEvent:EX,StringFormat:Xa,Storage:sH,Reference:Yh};n.INTERNAL.registerComponent(new Ns.wA("storage-compat",oee,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(tw.Z);const lee=new r.OlP("angularfire2.storageBucket"),cee=new r.OlP("angularfire2.storage.maxUploadRetryTime"),uee=new r.OlP("angularfire2.storage.maxOperationRetryTime"),dee=new r.OlP("angularfire2.storage.use-emulator");let cH=(()=>{class n{constructor(e,i,o,s,c,d,p,_,b,E){const k=(0,fr.on)(e,c,i);this.storage=(0,fr.cc)(`${k.name}.storage.${o}`,"AngularFireStorage",k.name,()=>{const F=c.runOutsideAngular(()=>k.storage(o||void 0)),q=b;return q&&F.useEmulator(...q),p&&F.setMaxUploadRetryTime(p),_&&F.setMaxOperationRetryTime(_),F},[p,_])}ref(e){return pM(this.storage.ref(e))}refFromURL(e){return pM(this.storage.refFromURL(e))}upload(e,i,o){return pM(this.storage.ref(e)).put(i,o)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(fr.Dh),r.LFG(fr.xv,8),r.LFG(lee,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(Wt.HU),r.LFG(cee,8),r.LFG(uee,8),r.LFG(dee,8),r.LFG(Ch,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const uH=Bh({passive:!0});let hee=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Tt.E;const i=wm(e),o=this._monitoredElements.get(i);if(o)return o.subject;const s=new $t.x,c="cdk-text-field-autofilled",d=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",d,uH),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",d,uH)}}),s}stopMonitoring(e){const i=wm(e),o=this._monitoredElements.get(i);o&&(o.unlisten(),o.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(br),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();const dH=new r.OlP("MAT_INPUT_VALUE_ACCESSOR"),pee=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let mee=0;const gee=XB(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new $t.x}});let N0=(()=>{class n extends gee{get disabled(){return this._disabled}set disabled(e){this._disabled=Pn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(_c.required)??!1}set required(e){this._required=Pn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&AB().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Pn(e)}constructor(e,i,o,s,c,d,p,_,b,E){super(d,s,c,o),this._elementRef=e,this._platform=i,this._autofillMonitor=_,this._formField=E,this._uid="mat-input-"+mee++,this.focused=!1,this.stateChanges=new $t.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(q=>AB().has(q)),this._iOSKeyupListener=q=>{const K=q.target;!K.value&&0===K.selectionStart&&0===K.selectionEnd&&(K.setSelectionRange(1,1),K.setSelectionRange(0,0))};const k=this._elementRef.nativeElement,F=k.nodeName.toLowerCase();this._inputValueAccessor=p||k,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&b.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===F,this._isTextarea="textarea"===F,this._isInFormField=!!E,this._isNativeSelect&&(this.controlType=k.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){pee.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(br),r.Y36(da,10),r.Y36(qr,8),r.Y36(Mu,8),r.Y36(r5),r.Y36(dH,10),r.Y36(hee),r.Y36(r.R0b),r.Y36(WS,8))},n.\u0275dir=r.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(e,i){1&e&&r.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(r.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),r.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),r.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[r._Bn([{provide:sL,useExisting:n}]),r.qOj,r.TTD]}),n})(),ML=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[ko,hD,hD,fee,ko]}),n})();const _ee=["mat-calendar-body",""];function vee(n,t){if(1&n&&(r.TgZ(0,"tr",3)(1,"td",4),r._uU(2),r.qZA()()),2&n){const e=r.oxw();r.xp6(1),r.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),r.uIk("colspan",e.numCols),r.xp6(1),r.hij(" ",e.label," ")}}function yee(n,t){if(1&n&&(r.TgZ(0,"td",4),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),r.uIk("colspan",e._firstRowOffset),r.xp6(1),r.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function bee(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"td",8)(1,"button",9),r.NdJ("click",function(o){const c=r.CHM(e).$implicit,d=r.oxw(2);return r.KtG(d._cellClicked(c,o))})("focus",function(o){const c=r.CHM(e).$implicit,d=r.oxw(2);return r.KtG(d._emitActiveDateChange(c,o))}),r.TgZ(2,"span",10),r._uU(3),r.qZA(),r._UZ(4,"span",11),r.qZA()()}if(2&n){const e=t.$implicit,i=t.index,o=r.oxw().index,s=r.oxw();r.Udp("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),r.uIk("data-mat-row",o)("data-mat-col",i),r.xp6(1),r.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",s._isActiveCell(o,i))("mat-calendar-body-range-start",s._isRangeStart(e.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",s._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(e.compareValue,o,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(e.compareValue,o,i))("mat-calendar-body-comparison-start",s._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",s._isInPreview(e.compareValue)),r.Q6J("ngClass",e.cssClasses)("tabindex",s._isActiveCell(o,i)?0:-1),r.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",s._isSelected(e.compareValue))("aria-current",s.todayValue===e.compareValue?"date":null)("aria-describedby",s._getDescribedby(e.compareValue)),r.xp6(1),r.ekj("mat-calendar-body-selected",s._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",s.todayValue===e.compareValue),r.xp6(1),r.hij(" ",e.displayValue," ")}}function wee(n,t){if(1&n&&(r.TgZ(0,"tr",5),r.YNc(1,yee,2,6,"td",6),r.YNc(2,bee,5,48,"td",7),r.qZA()),2&n){const e=t.$implicit,i=t.index,o=r.oxw();r.xp6(1),r.Q6J("ngIf",0===i&&o._firstRowOffset),r.xp6(1),r.Q6J("ngForOf",e)}}function Cee(n,t){if(1&n&&(r.TgZ(0,"th",5)(1,"span",6),r._uU(2),r.qZA(),r.TgZ(3,"span",7),r._uU(4),r.qZA()()),2&n){const e=t.$implicit;r.xp6(2),r.Oqu(e.long),r.xp6(2),r.Oqu(e.narrow)}}const xee=["*"];function Dee(n,t){}function Eee(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"mat-month-view",5),r.NdJ("activeDateChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.activeDate=o)})("_userSelection",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s._dateSelected(o))})("dragStarted",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s._dragStarted(o))})("dragEnded",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s._dragEnded(o))}),r.qZA()}if(2&n){const e=r.oxw();r.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function Tee(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"mat-year-view",6),r.NdJ("activeDateChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.activeDate=o)})("monthSelected",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s._monthSelectedInYearView(o))})("selectedChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s._goToDateInView(o,"month"))}),r.qZA()}if(2&n){const e=r.oxw();r.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Aee(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"mat-multi-year-view",7),r.NdJ("activeDateChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.activeDate=o)})("yearSelected",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s._yearSelectedInMultiYearView(o))})("selectedChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s._goToDateInView(o,"year"))}),r.qZA()}if(2&n){const e=r.oxw();r.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Iee(n,t){}const See=["button"];function Mee(n,t){1&n&&(r.O4$(),r.TgZ(0,"svg",3),r._UZ(1,"path",4),r.qZA())}const kee=[[["","matDatepickerToggleIcon",""]]],Ree=["[matDatepickerToggleIcon]"];let wD=(()=>{class n{constructor(){this.changes=new $t.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class kL{constructor(t,e,i,o,s={},c=t,d){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=o,this.cssClasses=s,this.compareValue=c,this.rawValue=d}}let Oee=1;const hH=Bh({passive:!1,capture:!0}),Im=Bh({passive:!0,capture:!0}),mM=Bh({passive:!0});let F0=(()=>{class n{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(e,i){this._elementRef=e,this._ngZone=i,this._platform=(0,r.f3M)(br),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new r.vpe,this.previewChange=new r.vpe,this.activeDateChange=new r.vpe,this.dragStarted=new r.vpe,this.dragEnded=new r.vpe,this._didDragSinceMouseDown=!1,this._enterHandler=o=>{if(this._skipNextFocus&&"focus"===o.type)this._skipNextFocus=!1;else if(o.target&&this.isRange){const s=this._getCellFromElement(o.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:o}))}},this._touchmoveHandler=o=>{if(!this.isRange)return;const s=fH(o),c=s?this._getCellFromElement(s):null;s!==o.target&&(this._didDragSinceMouseDown=!0),OL(o.target)&&o.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:c?.enabled?c:null,event:o}))},this._leaveHandler=o=>{null!==this.previewEnd&&this.isRange&&("blur"!==o.type&&(this._didDragSinceMouseDown=!0),o.target&&this._getCellFromElement(o.target)&&(!o.relatedTarget||!this._getCellFromElement(o.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:o})))},this._mousedownHandler=o=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const s=o.target&&this._getCellFromElement(o.target);!s||!this._isInRange(s.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:s.rawValue,event:o})})},this._mouseupHandler=o=>{if(!this.isRange)return;const s=OL(o.target);s?s.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const c=this._getCellFromElement(s);this.dragEnded.emit({value:c?.rawValue??null,event:o})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:o})})},this._touchendHandler=o=>{const s=fH(o);s&&this._mouseupHandler({target:s})},this._id="mat-calendar-body-"+Oee++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,i.runOutsideAngular(()=>{const o=e.nativeElement;o.addEventListener("touchmove",this._touchmoveHandler,hH),o.addEventListener("mouseenter",this._enterHandler,Im),o.addEventListener("focus",this._enterHandler,Im),o.addEventListener("mouseleave",this._leaveHandler,Im),o.addEventListener("blur",this._leaveHandler,Im),o.addEventListener("mousedown",this._mousedownHandler,mM),o.addEventListener("touchstart",this._mousedownHandler,mM),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(e,i){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:o,numCols:s}=this;(e.rows||i)&&(this._firstRowOffset=o&&o.length&&o[0].length?s-o[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("touchmove",this._touchmoveHandler,hH),e.removeEventListener("mouseenter",this._enterHandler,Im),e.removeEventListener("focus",this._enterHandler,Im),e.removeEventListener("mouseleave",this._leaveHandler,Im),e.removeEventListener("blur",this._leaveHandler,Im),e.removeEventListener("mousedown",this._mousedownHandler,mM),e.removeEventListener("touchstart",this._mousedownHandler,mM),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(e,i){let o=e*this.numCols+i;return e&&(o-=this._firstRowOffset),o==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(zr(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return PL(e,this.startValue,this.endValue)}_isRangeEnd(e){return NL(e,this.startValue,this.endValue)}_isInRange(e){return FL(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return PL(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,o){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let s=this.rows[i][o-1];if(!s){const c=this.rows[i-1];s=c&&c[c.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(e,i,o){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let s=this.rows[i][o+1];if(!s){const c=this.rows[i+1];s=c&&c[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(e){return NL(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return FL(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return PL(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return NL(e,this.previewStart,this.previewEnd)}_isInPreview(e){return FL(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){return this.isRange?this.startValue===e&&this.endValue===e?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===e?this._startDateLabelId:this.endValue===e?this._endDateLabelId:null:null}_getCellFromElement(e){const i=OL(e);if(i){const o=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(o&&s)return this.rows[parseInt(o)][parseInt(s)]}return null}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.R0b))},n.\u0275cmp=r.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[r.TTD],attrs:_ee,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(r.YNc(0,vee,3,6,"tr",0),r.YNc(1,wee,3,2,"tr",1),r.TgZ(2,"label",2),r._uU(3),r.qZA(),r.TgZ(4,"label",2),r._uU(5),r.qZA()),2&e&&(r.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),r.xp6(1),r.Q6J("ngForOf",i.rows),r.xp6(1),r.Q6J("id",i._startDateLabelId),r.xp6(1),r.hij(" ",i.startDateAccessibleName,"\n"),r.xp6(1),r.Q6J("id",i._endDateLabelId),r.xp6(1),r.hij(" ",i.endDateAccessibleName,"\n"))},dependencies:[Gn,cr,Un],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),n})();function RL(n){return"TD"===n?.nodeName}function OL(n){let t;return RL(n)?t=n:RL(n.parentNode)?t=n.parentNode:RL(n.parentNode?.parentNode)&&(t=n.parentNode.parentNode),null!=t?.getAttribute("data-mat-row")?t:null}function PL(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function NL(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function FL(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}function fH(n){const t=n.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}class Js{constructor(t,e){this.start=t,this.end=e}}let Sm=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new $t.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const o=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:o})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){r.$Z()},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Pee=(()=>{class n extends Sm{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Wo))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const pH={provide:Sm,deps:[[new r.FiY,new r.tp0,Sm],Wo],useFactory:function Fee(n,t){return n||new Pee(t)}},gM=new r.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let mH=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Js?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,o,s,c){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=o,this._dir=s,this._rangeStrategy=c,this._rerenderSubscription=xi.w0.EMPTY,this.activeDrag=null,this.selectedChange=new r.vpe,this._userSelection=new r.vpe,this.dragStarted=new r.vpe,this.dragEnded=new r.vpe,this.activeDateChange=new r.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ga(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,o=this._getDateFromDayOfMonth(i);let s,c;this._selected instanceof Js?(s=this._getDateInCurrentMonth(this._selected.start),c=this._getDateInCurrentMonth(this._selected.end)):s=c=this._getDateInCurrentMonth(this._selected),(s!==i||c!==i)&&this.selectedChange.emit(o),this._userSelection.emit({value:o,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const o=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,o=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!Bl(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const o=i?i.rawValue:null,s=this._rangeStrategy.createPreview(o,this.selected,e);if(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this.activeDrag&&o){const c=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,o,e);c&&(this._previewStart=this._getCellCompareValue(c.start),this._previewEnd=this._getCellCompareValue(c.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){const i=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:i??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((c,d)=>({long:c,narrow:i[d]}));this._weekdays=s.slice(e).concat(s.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let o=0,s=this._firstWeekOffset;o<e;o++,s++){7==s&&(this._weeks.push([]),s=0);const c=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),o+1),d=this._shouldEnableDate(c),p=this._dateAdapter.format(c,this._dateFormats.display.dateA11yLabel),_=this.dateClass?this.dateClass(c,"month"):void 0;this._weeks[this._weeks.length-1].push(new kL(o+1,i[o],p,d,_,this._getCellCompareValue(c),c))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),o=this._dateAdapter.getMonth(e),s=this._dateAdapter.getDate(e);return new Date(i,o,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof Js?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.sBO),r.Y36(k_,8),r.Y36(Wo,8),r.Y36(ad,8),r.Y36(gM,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&r.Gf(F0,5),2&e){let o;r.iGM(o=r.CRH())&&(i._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[r.TTD],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(r.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),r.YNc(3,Cee,5,2,"th",2),r.qZA(),r.TgZ(4,"tr"),r._UZ(5,"th",3),r.qZA()(),r.TgZ(6,"tbody",4),r.NdJ("selectedValueChange",function(s){return i._dateSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("previewChange",function(s){return i._previewChanged(s)})("dragStarted",function(s){return i.dragStarted.emit(s)})("dragEnded",function(s){return i._dragEnded(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),r.qZA()()),2&e&&(r.xp6(3),r.Q6J("ngForOf",i._weekdays),r.xp6(3),r.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName))},dependencies:[cr,F0],encapsulation:2,changeDetection:0}),n})();const el=24;let gH=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),_H(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Js?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,o){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=o,this._rerenderSubscription=xi.w0.EMPTY,this.selectedChange=new r.vpe,this.yearSelected=new r.vpe,this.activeDateChange=new r.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ga(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-CD(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let o=0,s=[];o<el;o++)s.push(i+o),4==s.length&&(this._years.push(s.map(c=>this._createCellForYear(c))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,o=this._dateAdapter.createDate(i,0,1),s=this._getDateFromYear(i);this.yearSelected.emit(o),this.selectedChange.emit(s)}_updateActiveDate(e){const o=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,o=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-CD(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,el-CD(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*-el:-el);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*el:el);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return CD(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),o=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),o))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),o=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new kL(e,o,o,this._shouldEnableYear(e),s)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let o=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Js){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.sBO),r.Y36(Wo,8),r.Y36(ad,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&r.Gf(F0,5),2&e){let o;r.iGM(o=r.CRH())&&(i._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(r.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),r._UZ(3,"th",2),r.qZA()(),r.TgZ(4,"tbody",3),r.NdJ("selectedValueChange",function(s){return i._yearSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),r.qZA()()),2&e&&(r.xp6(4),r.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[F0],encapsulation:2,changeDetection:0}),n})();function _H(n,t,e,i,o){const s=n.getYear(t),c=n.getYear(e),d=vH(n,i,o);return Math.floor((s-d)/el)===Math.floor((c-d)/el)}function CD(n,t,e,i){return function Zee(n,t){return(n%t+t)%t}(n.getYear(t)-vH(n,e,i),el)}function vH(n,t,e){let i=0;return e?i=n.getYear(e)-el+1:t&&(i=n.getYear(t)),i}let yH=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Js?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,o,s){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=o,this._dir=s,this._rerenderSubscription=xi.w0.EMPTY,this.selectedChange=new r.vpe,this.monthSelected=new r.vpe,this.activeDateChange=new r.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ga(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(o);const s=this._getDateFromMonth(i);this.selectedChange.emit(s)}_updateActiveDate(e){const o=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,o=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(o=>this._createCellForMonth(o,e[o]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),o))}_createCellForMonth(e,i){const o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),s=this._dateAdapter.format(o,this._dateFormats.display.monthYearA11yLabel),c=this.dateClass?this.dateClass(o,"year"):void 0;return new kL(e,i.toLocaleUpperCase(),s,this._shouldEnableMonth(e),c)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(s)==e;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const o=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return e>o||e===o&&i>s}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const o=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return e<o||e===o&&i<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof Js?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.sBO),r.Y36(k_,8),r.Y36(Wo,8),r.Y36(ad,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&r.Gf(F0,5),2&e){let o;r.iGM(o=r.CRH())&&(i._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(r.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),r._UZ(3,"th",2),r.qZA()(),r.TgZ(4,"tbody",3),r.NdJ("selectedValueChange",function(s){return i._monthSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),r.qZA()()),2&e&&(r.xp6(4),r.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[F0],encapsulation:2,changeDetection:0}),n})(),Bee=1,qee=(()=>{class n{constructor(e,i,o,s,c){this._intl=e,this.calendar=i,this._dateAdapter=o,this._dateFormats=s,this._id="mat-calendar-header-"+Bee++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>c.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-el)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:el)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):_H(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const i=this._dateAdapter.getYear(this.calendar.activeDate)-CD(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),o=i+el-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(o,0,1))]}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(wD),r.Y36((0,r.Gpc)(()=>VL)),r.Y36(Wo,8),r.Y36(k_,8),r.Y36(r.sBO))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:xee,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(e,i){1&e&&(r.F$t(),r.TgZ(0,"div",0)(1,"div",1)(2,"button",2),r.NdJ("click",function(){return i.currentPeriodClicked()}),r.TgZ(3,"span",3),r._uU(4),r.qZA(),r.O4$(),r.TgZ(5,"svg",4),r._UZ(6,"polygon",5),r.qZA()(),r.kcU(),r._UZ(7,"div",6),r.Hsn(8),r.TgZ(9,"button",7),r.NdJ("click",function(){return i.previousClicked()}),r.qZA(),r.TgZ(10,"button",8),r.NdJ("click",function(){return i.nextClicked()}),r.qZA()()(),r.TgZ(11,"label",9),r._uU(12),r.qZA()),2&e&&(r.xp6(2),r.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._periodButtonLabelId),r.xp6(2),r.Oqu(i.periodButtonText),r.xp6(1),r.ekj("mat-calendar-invert","month"!==i.calendar.currentView),r.xp6(4),r.Q6J("disabled",!i.previousEnabled()),r.uIk("aria-label",i.prevButtonLabel),r.xp6(1),r.Q6J("disabled",!i.nextEnabled()),r.uIk("aria-label",i.nextButtonLabel),r.xp6(1),r.Q6J("id",i._periodButtonLabelId),r.xp6(1),r.Oqu(i.periodButtonDescription))},dependencies:[b5,Y2],encapsulation:2,changeDetection:0}),n})(),VL=(()=>{class n{get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof Js?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}constructor(e,i,o,s){this._dateAdapter=i,this._dateFormats=o,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new r.vpe,this.yearSelected=new r.vpe,this.monthSelected=new r.vpe,this.viewChanged=new r.vpe(!0),this._userSelection=new r.vpe,this._userDragDrop=new r.vpe,this._activeDrag=null,this.stateChanges=new $t.x,this._intlChanges=e.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new $S(this.headerComponent||qee),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,o=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,s=i||o||e.dateFilter;if(s&&!s.firstChange){const c=this._getCurrentViewComponent();c&&(this._changeDetectorRef.detectChanges(),c._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof Js||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(wD),r.Y36(Wo,8),r.Y36(k_,8),r.Y36(r.sBO))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(r.Gf(mH,5),r.Gf(yH,5),r.Gf(gH,5)),2&e){let o;r.iGM(o=r.CRH())&&(i.monthView=o.first),r.iGM(o=r.CRH())&&(i.yearView=o.first),r.iGM(o=r.CRH())&&(i.multiYearView=o.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[r._Bn([pH]),r.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(r.YNc(0,Dee,0,0,"ng-template",0),r.TgZ(1,"div",1),r.YNc(2,Eee,1,11,"mat-month-view",2),r.YNc(3,Tee,1,6,"mat-year-view",3),r.YNc(4,Aee,1,6,"mat-multi-year-view",4),r.qZA()),2&e&&(r.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),r.xp6(1),r.Q6J("ngSwitch",i.currentView),r.xp6(1),r.Q6J("ngSwitchCase","month"),r.xp6(1),r.Q6J("ngSwitchCase","year"),r.xp6(1),r.Q6J("ngSwitchCase","multi-year"))},dependencies:[Ds,ol,UY,M5,mH,yH,gH],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0}),n})();const bH={transformPanel:Qa("transformPanel",[Nr("void => enter-dropdown",fo("120ms cubic-bezier(0, 0, 0.2, 1)",T0([yn({opacity:0,transform:"scale(1, 0.8)"}),yn({opacity:1,transform:"scale(1, 1)"})]))),Nr("void => enter-dialog",fo("150ms cubic-bezier(0, 0, 0.2, 1)",T0([yn({opacity:0,transform:"scale(0.7)"}),yn({transform:"none",opacity:1})]))),Nr("* => void",fo("100ms linear",yn({opacity:0})))]),fadeInCalendar:Qa("fadeInCalendar",[Kr("void",yn({opacity:0})),Kr("enter",yn({opacity:1})),Nr("void => *",fo("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let Hee=0;const wH=new r.OlP("mat-datepicker-scroll-strategy"),zee={provide:wH,deps:[Cm],useFactory:function jee(n){return()=>n.scrollStrategies.reposition()}},$ee=QB(class{constructor(n){this._elementRef=n}});let Gee=(()=>{class n extends $ee{constructor(e,i,o,s,c,d){super(e),this._changeDetectorRef=i,this._globalModel=o,this._dateAdapter=s,this._rangeSelectionStrategy=c,this._subscriptions=new xi.w0,this._animationDone=new $t.x,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=d.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,o=e.value,s=i instanceof Js;if(s&&this._rangeSelectionStrategy){const c=this._rangeSelectionStrategy.selectionFinished(o,i,e.event);this._model.updateSelection(c,this)}else o&&(s||!this._dateAdapter.sameDate(o,i))&&this._model.add(o);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(e){this._isAnimating="start"===e.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(Sm),r.Y36(Wo),r.Y36(gM,8),r.Y36(wD))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&r.Gf(VL,5),2&e){let o;r.iGM(o=r.CRH())&&(i._calendar=o.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&r.WFA("@transformPanel.start",function(s){return i._handleAnimationEvent(s)})("@transformPanel.done",function(s){return i._handleAnimationEvent(s)}),2&e&&(r.d8E("@transformPanel",i._animationState),r.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[r.qOj],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){if(1&e&&(r.TgZ(0,"div",0)(1,"mat-calendar",1),r.NdJ("yearSelected",function(s){return i.datepicker._selectYear(s)})("monthSelected",function(s){return i.datepicker._selectMonth(s)})("viewChanged",function(s){return i.datepicker._viewChanged(s)})("_userSelection",function(s){return i._handleUserSelection(s)})("_userDragDrop",function(s){return i._handleUserDragDrop(s)}),r.qZA(),r.YNc(2,Iee,0,0,"ng-template",2),r.TgZ(3,"button",3),r.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),r._uU(4),r.qZA()()),2&e){let o;r.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),r.uIk("aria-modal",!0)("aria-labelledby",null!==(o=i._dialogLabelId)&&void 0!==o?o:void 0),r.xp6(1),r.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName),r.xp6(1),r.Q6J("cdkPortalOutlet",i._actionsPortal),r.xp6(1),r.ekj("cdk-visually-hidden",!i._closeButtonFocused),r.Q6J("color",i.color||"primary"),r.xp6(1),r.Oqu(i._closeButtonText)}},dependencies:[Gn,b5,IY,M5,VL],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[bH.transformPanel,bH.fadeInCalendar]},changeDetection:0}),n})(),CH=(()=>{class n{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=Pn(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=Pn(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=Pn(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function aY(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const o of i){const s=`${o}`.trim();s&&e.push(s)}}return e}(e)}get opened(){return this._opened}set opened(e){Pn(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(e,i,o,s,c,d,p){this._overlay=e,this._ngZone=i,this._viewContainerRef=o,this._dateAdapter=c,this._dir=d,this._model=p,this._inputStateChanges=xi.w0.EMPTY,this._document=(0,r.f3M)(he),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new r.vpe,this.monthSelected=new r.vpe,this.viewChanged=new r.vpe(!0),this.openedStream=new r.vpe,this.closedStream=new r.vpe,this._opened=!1,this.id="mat-datepicker-"+Hee++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new $t.x,this._scrollStrategy=s}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;o instanceof U5&&(this._setConnectedPositions(o),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=IB(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const e=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:o,location:s}=this._componentRef;o._startExitAnimation(),o._animationDone.pipe(zr(1)).subscribe(()=>{const c=this._document.activeElement;e&&(!c||c===this._document.activeElement||s.nativeElement.contains(c))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}e?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new $S(Gee,this._viewContainerRef),o=this._overlayRef=this._overlay.create(new eL({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(o).subscribe(s=>{s&&s.preventDefault(),this.close()}),o.keydownEvents().subscribe(s=>{const c=s.keyCode;(38===c||40===c||37===c||39===c||33===c||34===c)&&s.preventDefault()}),this._componentRef=o.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(zr(1)).subscribe(()=>o.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",o="start"===i?"end":"start",s="above"===this.yPosition?"bottom":"top",c="top"===s?"bottom":"top";return e.withPositions([{originX:i,originY:c,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:c},{originX:o,originY:c,overlayX:o,overlayY:s},{originX:o,originY:s,overlayX:o,overlayY:c}])}_getCloseStream(e){const i=["ctrlKey","shiftKey","metaKey"];return(0,us.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(jr(o=>27===o.keyCode&&!Bl(o)||this.datepickerInput&&Bl(o,"altKey")&&38===o.keyCode&&i.every(s=>!Bl(o,s)))))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Cm),r.Y36(r.R0b),r.Y36(r.s_b),r.Y36(wH),r.Y36(Wo,8),r.Y36(ad,8),r.Y36(Sm))},n.\u0275dir=r.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[r.TTD]}),n})(),ZL=(()=>{class n extends CH{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[r._Bn([pH,{provide:CH,useExisting:n}]),r.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),n})();class _M{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let Yee=(()=>{class n{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=Pn(e),o=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&o.blur&&o.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const o=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(o),this._cvaOnChange(o),this._onTouched(),this._formatValue(o),this.dateInput.emit(new _M(this,this._elementRef.nativeElement)),this.dateChange.emit(new _M(this,this._elementRef.nativeElement))}})}constructor(e,i,o){this._elementRef=e,this._dateAdapter=i,this._dateFormats=o,this.dateChange=new r.vpe,this.dateInput=new r.vpe,this.stateChanges=new $t.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=xi.w0.EMPTY,this._localeSubscription=xi.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!c||this._matchesFilter(c)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),d=this._getMinDate();return!d||!c||this._dateAdapter.compareDate(d,c)<=0?null:{matDatepickerMin:{min:d,actual:c}}},this._maxValidator=s=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),d=this._getMaxDate();return!d||!c||this._dateAdapter.compareDate(d,c)>=0?null:{matDatepickerMax:{max:d,actual:c}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function Wee(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:o,currentValue:s}=n[i];if(!t.isDateInstance(o)||!t.isDateInstance(s))return!0;if(!t.sameDate(o,s))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){Bl(e,"altKey")&&40===e.keyCode&&["ctrlKey","shiftKey","metaKey"].every(s=>!Bl(e,s))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let o=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(o),o=this._dateAdapter.getValidDateOrNull(o);const s=!this._dateAdapter.sameDate(o,this.value);!o||s?this._cvaOnChange(o):(e&&!this.value&&this._cvaOnChange(o),i!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(o),this.dateInput.emit(new _M(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new _M(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(Wo,8),r.Y36(k_,8))},n.\u0275dir=r.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[r.TTD]}),n})();const Kee={provide:Ir,useExisting:(0,r.Gpc)(()=>xD),multi:!0},Qee={provide:ir,useExisting:(0,r.Gpc)(()=>xD),multi:!0};let xD=(()=>{class n extends Yee{set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}constructor(e,i,o,s){super(e,i,o),this._formField=s,this._closedSubscription=xi.w0.EMPTY,this._validator=_c.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(Wo,8),r.Y36(k_,8),r.Y36(WS,8))},n.\u0275dir=r.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,i){1&e&&r.NdJ("input",function(s){return i._onInput(s.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)}),2&e&&(r.Ikx("disabled",i.disabled),r.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[r._Bn([Kee,Qee,{provide:dH,useExisting:n}]),r.qOj]}),n})(),Jee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),BL=(()=>{class n{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=Pn(e)}constructor(e,i,o){this._intl=e,this._changeDetectorRef=i,this._stateChanges=xi.w0.EMPTY;const s=Number(o);this.tabIndex=s||0===s?s:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:(0,ft.of)(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,ft.of)(),o=this.datepicker?(0,us.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,ft.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,us.T)(this._intl.changes,e,i,o).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(wD),r.Y36(r.sBO),r.$8M("tabindex"))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,o){if(1&e&&r.Suo(o,Jee,5),2&e){let s;r.iGM(s=r.CRH())&&(i._customIcon=s.first)}},viewQuery:function(e,i){if(1&e&&r.Gf(See,5),2&e){let o;r.iGM(o=r.CRH())&&(i._button=o.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&r.NdJ("click",function(s){return i._open(s)}),2&e&&(r.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),r.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[r.TTD],ngContentSelectors:Ree,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(r.F$t(kee),r.TgZ(0,"button",0,1),r.YNc(2,Mee,2,0,"svg",2),r.Hsn(3),r.qZA()),2&e&&(r.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),r.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),r.xp6(2),r.Q6J("ngIf",!i._customIcon))},dependencies:[Un,Y2],styles:[".mat-datepicker-toggle{pointer-events:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),DH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[wD,zee],imports:[Vi,w5,nL,YB,k5,ko,uD]}),n})();function tte(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",62)(1,"i",63),r.NdJ("click",function(){r.CHM(e);const o=r.oxw(2);return r.KtG(o.postulationConfirmed(!0))}),r.qZA(),r.TgZ(2,"i",64),r.NdJ("click",function(){r.CHM(e);const o=r.oxw(2);return r.KtG(o.postulationConfirmed(!1))}),r.qZA()()}}function nte(n,t){if(1&n&&(r.TgZ(0,"p",46),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.hij(" ",e.lead.email," ")}}function ite(n,t){1&n&&(r.TgZ(0,"p",46),r._uU(1,"******"),r.qZA())}function rte(n,t){if(1&n&&(r.TgZ(0,"p",46),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.hij(" ",e.lead.wapp," ")}}function ote(n,t){1&n&&(r.TgZ(0,"p",46),r._uU(1,"******"),r.qZA())}function ste(n,t){if(1&n&&(r.TgZ(0,"tr")(1,"td",58)(2,"a",65),r._UZ(3,"img",66),r.qZA()(),r.TgZ(4,"td")(5,"a",65),r._uU(6),r.qZA()(),r.TgZ(7,"td",59),r._uU(8),r.qZA()()),2&n){const e=t.$implicit,i=r.oxw(2);r.xp6(2),r.Q6J("href",e.downloadURL,r.LSH),r.xp6(3),r.Q6J("href",e.downloadURL,r.LSH),r.xp6(1),r.Oqu(e.title),r.xp6(2),r.Oqu(i.formatFecha(e.uploadDate))}}function ate(n,t){if(1&n&&(r.TgZ(0,"p",46),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.hij(" ",e.lead.sourse," ")}}function lte(n,t){1&n&&(r.TgZ(0,"p",46),r._uU(1,"******"),r.qZA())}function cte(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",30)(1,"div",31)(2,"div",32)(3,"div")(4,"h3",33),r._uU(5," Proyectos Potenciales "),r.qZA()()(),r.TgZ(6,"div",32)(7,"div",34)(8,"i",35),r.NdJ("click",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.closeview())}),r.qZA()()()(),r.TgZ(9,"div",36)(10,"div",37),r._uU(11," Datos del Cliente "),r.TgZ(12,"div",38)(13,"input",39),r.NdJ("click",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.guardarPostulacion(o))})("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.postulacionGuardada=o)}),r.qZA(),r.TgZ(14,"label",40),r._uU(15),r.qZA(),r.YNc(16,tte,3,0,"div",41),r.qZA()(),r.TgZ(17,"div",42)(18,"div",43)(19,"div",44)(20,"label",45),r._uU(21,"Nombre"),r.qZA(),r.TgZ(22,"p",46),r._uU(23),r.qZA()()(),r.TgZ(24,"div",43)(25,"div",44)(26,"label",47),r._uU(27,"Email"),r.qZA(),r.YNc(28,nte,2,1,"p",48),r.YNc(29,ite,2,0,"p",48),r.qZA()(),r.TgZ(30,"div",43)(31,"div",44)(32,"label",49),r._uU(33,"N\xfamero de WhatsApp"),r.qZA(),r.YNc(34,rte,2,1,"p",48),r.YNc(35,ote,2,0,"p",48),r.qZA()(),r.TgZ(36,"div",43)(37,"div",44)(38,"label",50),r._uU(39,"Pa\xeds"),r.qZA(),r.TgZ(40,"p",46),r._uU(41),r.qZA()()(),r.TgZ(42,"div",43)(43,"div",44)(44,"label",51),r._uU(45,"Ciudad"),r.qZA(),r.TgZ(46,"p",46),r._uU(47),r.qZA()()()()(),r.TgZ(48,"div",36)(49,"div",37),r._uU(50,"Informaci\xf3n relevante"),r.qZA(),r.TgZ(51,"div",42)(52,"div",43)(53,"div",44)(54,"label",52),r._uU(55,"T\xedtulo de Proyecto"),r.qZA(),r.TgZ(56,"p",46),r._uU(57),r.qZA()()(),r.TgZ(58,"div",43)(59,"div",44)(60,"label",52),r._uU(61,"Descripci\xf3n"),r.qZA(),r.TgZ(62,"p",46),r._uU(63),r.qZA()()(),r.TgZ(64,"div",43)(65,"div",44)(66,"label",52),r._uU(67,"Bibliograf\xeda"),r.qZA(),r.TgZ(68,"p",46),r._uU(69),r.qZA()()(),r.TgZ(70,"div",43)(71,"div",44)(72,"label",52),r._uU(73,"Carrera"),r.qZA(),r.TgZ(74,"p",46),r._uU(75),r.qZA()()(),r.TgZ(76,"div",43)(77,"div",44)(78,"label",52),r._uU(79,"Especialidad"),r.qZA(),r.TgZ(80,"p",46),r._uU(81),r.qZA()()(),r.TgZ(82,"div",43)(83,"div",44)(84,"label",52),r._uU(85,"Tema"),r.qZA(),r.TgZ(86,"p",46),r._uU(87),r.qZA()()(),r.TgZ(88,"div",43)(89,"div",44)(90,"label",52),r._uU(91,"Universidad"),r.qZA(),r.TgZ(92,"p",46),r._uU(93),r.qZA()()(),r.TgZ(94,"div",43)(95,"div",44)(96,"label",53),r._uU(97,"Tipo de Letra"),r.qZA(),r.TgZ(98,"p",46),r._uU(99),r.qZA()()(),r.TgZ(100,"div",43)(101,"div",44)(102,"label",54),r._uU(103,"Tama\xf1o de Letra"),r.qZA(),r.TgZ(104,"p",46),r._uU(105),r.qZA()()(),r.TgZ(106,"div",43)(107,"div",44)(108,"label",55),r._uU(109,"Interlineado"),r.qZA(),r.TgZ(110,"p",46),r._uU(111),r.qZA()()(),r.TgZ(112,"div",43)(113,"div",44)(114,"label",52),r._uU(115,"N\xfamero de p\xe1ginas"),r.qZA(),r.TgZ(116,"p",46),r._uU(117),r.qZA()()(),r.TgZ(118,"div",43)(119,"div",44)(120,"label",52),r._uU(121,"N\xfamero de entregas"),r.qZA(),r.TgZ(122,"p",46),r._uU(123),r.qZA()()(),r.TgZ(124,"div",43)(125,"div",44)(126,"label",52),r._uU(127,"Fecha de inicio"),r.qZA(),r.TgZ(128,"p",46),r._uU(129),r.qZA()()(),r.TgZ(130,"div",43)(131,"div",44)(132,"label",52),r._uU(133,"Fecha de entrega 1"),r.qZA(),r.TgZ(134,"p",46),r._uU(135),r.qZA()()(),r.TgZ(136,"div",43)(137,"div",44)(138,"label",52),r._uU(139,"Fecha de entrega 2"),r.qZA(),r.TgZ(140,"p",46),r._uU(141),r.qZA()()(),r.TgZ(142,"div",43)(143,"div",44)(144,"label",52),r._uU(145,"Fecha de entrega 3"),r.qZA(),r.TgZ(146,"p",46),r._uU(147),r.qZA()()(),r.TgZ(148,"div",43)(149,"div",44)(150,"label",52),r._uU(151,"Fecha de entrega 4"),r.qZA(),r.TgZ(152,"p",46),r._uU(153),r.qZA()()()()(),r.TgZ(154,"div",36)(155,"div",42)(156,"table",56)(157,"thead")(158,"tr")(159,"th",57),r._uU(160,"Documentos del proyecto"),r.qZA()(),r.TgZ(161,"tr"),r._UZ(162,"th",58),r.TgZ(163,"th"),r._uU(164,"T\xedtulo"),r.qZA(),r.TgZ(165,"th",59),r._uU(166,"Creado"),r.qZA()()(),r.TgZ(167,"tbody"),r.YNc(168,ste,9,4,"tr",60),r.qZA()()()(),r.TgZ(169,"div",36)(170,"div",42)(171,"div",43)(172,"div",44)(173,"label",61),r._uU(174,"Fuente o Canal"),r.qZA(),r.YNc(175,ate,2,1,"p",48),r.YNc(176,lte,2,0,"p",48),r.qZA()()()()()}if(2&n){const e=r.oxw();r.xp6(13),r.Q6J("ngModel",e.postulacionGuardada),r.xp6(2),r.Oqu(e.lblPostulacion),r.xp6(1),r.Q6J("ngIf",e.postConfirmation),r.xp6(7),r.AsE("",e.lead.name," ",e.lead.lastname,""),r.xp6(5),r.Q6J("ngIf",e.lblDatDisplay),r.xp6(1),r.Q6J("ngIf",!e.lblDatDisplay),r.xp6(5),r.Q6J("ngIf",e.lblDatDisplay),r.xp6(1),r.Q6J("ngIf",!e.lblDatDisplay),r.xp6(6),r.Oqu(e.lead.country),r.xp6(6),r.Oqu(e.lead.city),r.xp6(10),r.Oqu(e.lead.titulo),r.xp6(6),r.Oqu(e.lead.descripcion),r.xp6(6),r.Oqu(e.lead.bibliografia),r.xp6(6),r.Oqu(e.lead.carrera),r.xp6(6),r.Oqu(e.lead.especialidad),r.xp6(6),r.Oqu(e.lead.tema),r.xp6(6),r.Oqu(e.lead.university),r.xp6(6),r.Oqu(e.lead.tipofuente),r.xp6(6),r.Oqu(e.lead.tamanofuente),r.xp6(6),r.Oqu(e.lead.interlineado),r.xp6(6),r.Oqu(e.lead.numero_paginas),r.xp6(6),r.Oqu(e.lead.entregas),r.xp6(6),r.hij(" ",e.formatFecha(e.lead.fecha_inicio)," "),r.xp6(6),r.hij(" ",e.formatFecha(e.lead.fecha_entrega1)," "),r.xp6(6),r.hij(" ",e.formatFecha(e.lead.fecha_entrega2)," "),r.xp6(6),r.hij(" ",e.formatFecha(e.lead.fecha_entrega3)," "),r.xp6(6),r.hij(" ",e.formatFecha(e.lead.fecha_entrega4)," "),r.xp6(15),r.Q6J("ngForOf",e.alldocuments),r.xp6(7),r.Q6J("ngIf",e.lblDatDisplay),r.xp6(1),r.Q6J("ngIf",!e.lblDatDisplay)}}function ute(n,t){1&n&&(r.TgZ(0,"div",119),r._uU(1," El nombre es requerido. "),r.qZA())}function dte(n,t){1&n&&(r.TgZ(0,"div",119),r._uU(1," El apellido es requerido. "),r.qZA())}function hte(n,t){1&n&&(r.TgZ(0,"div")(1,"small"),r._uU(2,"Se requiere un email v\xe1lido"),r.qZA()())}function fte(n,t){if(1&n&&(r.TgZ(0,"div",119),r.YNc(1,hte,3,0,"div",1),r.qZA()),2&n){r.oxw();const e=r.MAs(36);r.xp6(1),r.Q6J("ngIf",e.errors)}}function pte(n,t){if(1&n&&(r.TgZ(0,"option",125),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.Q6J("value",e.countryName),r.xp6(1),r.hij(" ",e.countryCode+" - "+e.countryName," ")}}function mte(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",43)(1,"div",44)(2,"label",120),r._uU(3,"Pa\xeds*"),r.qZA(),r.TgZ(4,"select",121,122),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw(2);return r.KtG(s.lead.country=o)})("change",function(o){r.CHM(e);const s=r.oxw(2);return r.KtG(s.getCity(o))}),r.TgZ(6,"option",123),r._uU(7,"Seleccionar opci\xf3n"),r.qZA(),r.YNc(8,pte,2,2,"option",124),r.qZA()()()}if(2&n){const e=r.oxw(2);r.xp6(4),r.Q6J("ngModel",e.lead.country),r.xp6(4),r.Q6J("ngForOf",e.countryList)}}function gte(n,t){if(1&n&&(r.TgZ(0,"option",125),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.Q6J("value",e.cityName),r.xp6(1),r.hij(" ",e.cityName," ")}}function _te(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",43)(1,"div",44)(2,"label",126),r._uU(3,"Ciudad"),r.qZA(),r.TgZ(4,"select",127,128),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw(2);return r.KtG(s.lead.city=o)}),r.TgZ(6,"option",123),r._uU(7,"Seleccionar opci\xf3n"),r.qZA(),r.YNc(8,gte,2,2,"option",124),r.qZA()()()}if(2&n){const e=r.oxw(2);r.xp6(4),r.Q6J("ngModel",e.lead.city),r.xp6(4),r.Q6J("ngForOf",e.cityList)}}function vte(n,t){1&n&&(r.TgZ(0,"div",119),r._uU(1," Ingrese la fuente o canal a trav\xe9s del cual se obtuvo el lead "),r.qZA())}function yte(n,t){1&n&&(r.TgZ(0,"button",144),r._UZ(1,"span",145),r.TgZ(2,"span",146),r._uU(3,"Subiendo..."),r.qZA()())}function bte(n,t){1&n&&r._UZ(0,"span")}function wte(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"span")(1,"i",149),r.NdJ("click",function(){r.CHM(e);const o=r.oxw().$implicit,s=r.oxw(3);return r.KtG(s.confirmDelete(o))}),r.qZA(),r.TgZ(2,"span",150)(3,"i",151),r.NdJ("click",function(){r.CHM(e);const o=r.oxw().$implicit,s=r.oxw(3);return r.KtG(s.cancelDelete(o))}),r.qZA()()()}}function Cte(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"tr")(1,"td",58)(2,"a",65),r._UZ(3,"img",66),r.qZA()(),r.TgZ(4,"td")(5,"a",65),r._uU(6),r.qZA()(),r.TgZ(7,"td",59),r._uU(8),r.qZA(),r.TgZ(9,"td",147)(10,"span",148),r.NdJ("click",function(){const s=r.CHM(e).$implicit,c=r.oxw(3);return r.KtG(c.showConfirmationIcons(s))}),r._uU(11,"Eliminar"),r.qZA(),r.YNc(12,wte,4,0,"span",1),r.qZA()()}if(2&n){const e=t.$implicit,i=r.oxw(3);r.xp6(2),r.Q6J("href",e.downloadURL,r.LSH),r.xp6(3),r.Q6J("href",e.downloadURL,r.LSH),r.xp6(1),r.Oqu(e.title),r.xp6(2),r.Oqu(i.formatFecha(e.uploadDate)),r.xp6(4),r.Q6J("ngIf",i.confirmDeleteDoc[e.docName])}}function xte(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",36)(1,"div",42)(2,"h3",129),r._uU(3,"Agregar Documentos"),r.qZA(),r.TgZ(4,"form",130,131),r.NdJ("ngSubmit",function(){r.CHM(e);const o=r.oxw(2);return r.KtG(o.uploadDocument())}),r.TgZ(6,"div",43)(7,"label",132),r._uU(8,"T\xedtulo*"),r.qZA(),r.TgZ(9,"input",133),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw(2);return r.KtG(s.documentTitle=o)}),r.qZA()(),r.TgZ(10,"div",43)(11,"label",132),r._uU(12,"Tipo de Documento*"),r.qZA(),r.TgZ(13,"select",134),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw(2);return r.KtG(s.tipoDocumento=o)}),r.TgZ(14,"option"),r._uU(15,"Avance de proyecto (Entrega)"),r.qZA(),r.TgZ(16,"option"),r._uU(17,"Documentos de referencia (Preliminares, Arranque)"),r.qZA(),r.TgZ(18,"option"),r._uU(19,"Correcciones"),r.qZA(),r.TgZ(20,"option"),r._uU(21,"Pautas universidad"),r.qZA(),r.TgZ(22,"option"),r._uU(23,"Plagio"),r.qZA(),r.TgZ(24,"option"),r._uU(25,"Avance propio"),r.qZA(),r.TgZ(26,"option"),r._uU(27,"PowerPoint"),r.qZA(),r.TgZ(28,"option"),r._uU(29,"Esquema"),r.qZA(),r.TgZ(30,"option"),r._uU(31,"Instrucciones generales"),r.qZA(),r.TgZ(32,"option"),r._uU(33,"R\xfabrica"),r.qZA(),r.TgZ(34,"option"),r._uU(35,"Informe del tutor"),r.qZA(),r.TgZ(36,"option"),r._uU(37,"Informe de la comisi\xf3n / jurado"),r.qZA(),r.TgZ(38,"option"),r._uU(39,"Calificaci\xf3n obtenida"),r.qZA(),r.TgZ(40,"option"),r._uU(41,"Otro"),r.qZA()(),r._UZ(42,"br"),r.qZA(),r.TgZ(43,"div",135)(44,"div",136)(45,"div",137)(46,"input",138),r.NdJ("change",function(o){r.CHM(e);const s=r.oxw(2);return r.KtG(s.onFileSelected(o))}),r.qZA()(),r.TgZ(47,"label",139),r._uU(48),r.qZA()()(),r.TgZ(49,"button",140),r._UZ(50,"i",141),r._uU(51," Subir Documento "),r.qZA(),r.YNc(52,yte,4,0,"button",142),r.YNc(53,bte,1,0,"span",1),r.qZA()(),r.TgZ(54,"table",56)(55,"thead")(56,"tr")(57,"th",57),r._uU(58,"Documentos del proyecto"),r.qZA()(),r.TgZ(59,"tr"),r._UZ(60,"th",58),r.TgZ(61,"th"),r._uU(62,"T\xedtulo"),r.qZA(),r.TgZ(63,"th",59),r._uU(64,"Creado"),r.qZA(),r.TgZ(65,"th",143),r._uU(66,"-"),r.qZA()()(),r.TgZ(67,"tbody"),r.YNc(68,Cte,13,5,"tr",60),r.qZA()()()}if(2&n){const e=r.MAs(5),i=r.oxw(2);r.xp6(9),r.Q6J("ngModel",i.documentTitle),r.xp6(4),r.Q6J("ngModel",i.tipoDocumento),r.xp6(33),r.Q6J("disabled",i.uploading),r.xp6(2),r.Oqu(i.selectedFileName||""),r.xp6(1),r.Q6J("disabled",!e.valid||!i.selectedFile||i.uploading),r.xp6(3),r.Q6J("ngIf",i.uploading),r.xp6(1),r.Q6J("ngIf",i.uploadSuccess),r.xp6(15),r.Q6J("ngForOf",i.alldocuments)}}function Dte(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div")(1,"div",30)(2,"div",31)(3,"div",67)(4,"div")(5,"h3",33),r._uU(6),r.qZA()()(),r.TgZ(7,"div",68)(8,"div",34)(9,"i",35),r.NdJ("click",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.closeview())}),r.qZA()()()(),r.TgZ(10,"div")(11,"form",null,69)(13,"div",36)(14,"div",37),r._uU(15,"Datos de contacto"),r.qZA(),r.TgZ(16,"div",42)(17,"div",44)(18,"div",43)(19,"label",70),r._uU(20,"Nombre *"),r.qZA(),r.TgZ(21,"input",71,72),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.lead.name=o)}),r.qZA(),r.YNc(23,ute,2,0,"div",73),r.qZA()(),r.TgZ(24,"div",44)(25,"div",43)(26,"label",74),r._uU(27,"Apellido"),r.qZA(),r.TgZ(28,"input",75,76),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.lead.lastname=o)}),r.qZA(),r.YNc(30,dte,2,0,"div",73),r.qZA()(),r.TgZ(31,"div",44)(32,"div",43)(33,"label",77),r._uU(34,"Email"),r.qZA(),r.TgZ(35,"input",78,79),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.lead.email=o)}),r.qZA(),r.YNc(37,fte,2,1,"div",73),r.qZA()(),r.TgZ(38,"div",80)(39,"div",43)(40,"label",81),r._uU(41,"Intereses"),r.qZA(),r.TgZ(42,"input",82),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.lead.interests=o)}),r.qZA()()(),r.TgZ(43,"div",44)(44,"div",43)(45,"label",83),r._uU(46,"N\xfamero de WhatsApp"),r.qZA(),r.TgZ(47,"input",84),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.lead.wapp=o)}),r.qZA()()(),r.YNc(48,mte,9,2,"div",85),r.YNc(49,_te,9,2,"div",85),r.qZA()(),r.TgZ(50,"div",36)(51,"div",37),r._uU(52,"Informaci\xf3n relevante del usuario"),r.qZA(),r.TgZ(53,"div",42)(54,"div",44)(55,"div",43)(56,"label",45),r._uU(57,"T\xedtulo del Proyecto*"),r.qZA(),r.TgZ(58,"input",86,87),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.lead.titulo=o)}),r.qZA()()(),r.TgZ(60,"div",44)(61,"div",43)(62,"label",61),r._uU(63,"Descripci\xf3n"),r.qZA(),r.TgZ(64,"textarea",88),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.lead.descripcion=o)}),r._uU(65,"                "),r.qZA()()(),r.TgZ(66,"div",44)(67,"div",43)(68,"label",47),r._uU(69,"Bibliograf\xeda"),r.qZA(),r.TgZ(70,"input",89),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.lead.bibliografia=o)}),r.qZA()()(),r.TgZ(71,"div",44)(72,"div",43)(73,"label",90),r._uU(74,"Carrera"),r.qZA(),r.TgZ(75,"input",91),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.lead.carrera=o)}),r.qZA()()(),r.TgZ(76,"div",44)(77,"div",43)(78,"label",92),r._uU(79,"Especialidad"),r.qZA(),r.TgZ(80,"input",93),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.lead.especialidad=o)}),r.qZA()()(),r.TgZ(81,"div",44)(82,"div",43)(83,"label",92),r._uU(84,"Tema"),r.qZA(),r.TgZ(85,"input",94),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.lead.tema=o)}),r.qZA()()(),r.TgZ(86,"div",44)(87,"div",43)(88,"label",95),r._uU(89,"Universidad*"),r.qZA(),r.TgZ(90,"input",96),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.lead.university=o)}),r.qZA()()(),r.TgZ(91,"div",44)(92,"div",43)(93,"label",53),r._uU(94,"Tipo de Letra"),r.qZA(),r.TgZ(95,"input",97),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.lead.tipofuente=o)}),r.qZA()()(),r.TgZ(96,"div",44)(97,"div",43)(98,"label",54),r._uU(99,"Tama\xf1o de Letra"),r.qZA(),r.TgZ(100,"input",98),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.lead.tamanofuente=o)}),r.qZA()()(),r.TgZ(101,"div",44)(102,"div",43)(103,"label",55),r._uU(104,"Interlineado"),r.qZA(),r.TgZ(105,"input",99),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.lead.interlineado=o)}),r.qZA()()(),r.TgZ(106,"div",44)(107,"div",43)(108,"label",51),r._uU(109,"N\xfamero de p\xe1ginas"),r.qZA(),r.TgZ(110,"input",100),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.lead.numero_paginas=o)}),r.qZA()()(),r.TgZ(111,"div",44)(112,"div",43)(113,"label",52),r._uU(114,"N\xfamero de entregas"),r.qZA(),r.TgZ(115,"input",101),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.lead.entregas=o)}),r.qZA()()(),r.TgZ(116,"div",43)(117,"div",44)(118,"mat-form-field",102)(119,"mat-label"),r._uU(120,"Fecha de inicio"),r.qZA(),r.TgZ(121,"input",103),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.lead.fecha_inicio=o)}),r.qZA(),r._UZ(122,"mat-datepicker-toggle",104)(123,"mat-datepicker",null,105),r.qZA()()(),r.TgZ(125,"div",43)(126,"div",44)(127,"mat-form-field",102)(128,"mat-label"),r._uU(129,"Fecha de entrega 1"),r.qZA(),r.TgZ(130,"input",106),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.lead.fecha_entrega1=o)}),r.qZA(),r._UZ(131,"mat-datepicker-toggle",104)(132,"mat-datepicker",null,107),r.qZA()()(),r.TgZ(134,"div",43)(135,"div",44)(136,"mat-form-field",102)(137,"mat-label"),r._uU(138,"Fecha de entrega 2"),r.qZA(),r.TgZ(139,"input",108),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.lead.fecha_entrega2=o)}),r.qZA(),r._UZ(140,"mat-datepicker-toggle",104)(141,"mat-datepicker",null,109),r.qZA()()(),r.TgZ(143,"div",43)(144,"div",44)(145,"mat-form-field",102)(146,"mat-label"),r._uU(147,"Fecha de entrega 3"),r.qZA(),r.TgZ(148,"input",110),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.lead.fecha_entrega3=o)}),r.qZA(),r._UZ(149,"mat-datepicker-toggle",104)(150,"mat-datepicker",null,111),r.qZA()()(),r.TgZ(152,"div",43)(153,"div",44)(154,"mat-form-field",102)(155,"mat-label"),r._uU(156,"Fecha de entrega 4"),r.qZA(),r.TgZ(157,"input",112),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.lead.fecha_entrega4=o)}),r.qZA(),r._UZ(158,"mat-datepicker-toggle",104)(159,"mat-datepicker",null,113),r.qZA()()()()(),r.TgZ(161,"div",36)(162,"div",42)(163,"div",44)(164,"div",43)(165,"label",114),r._uU(166,"Fuente o Canal *"),r.qZA(),r.TgZ(167,"select",115),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.lead.sourse=o)}),r.TgZ(168,"option",116),r._uU(169,"Instagram"),r.qZA(),r.TgZ(170,"option",116),r._uU(171,"Motores de busqueda"),r.qZA(),r.TgZ(172,"option",116),r._uU(173,"Publicidad en la Web"),r.qZA(),r.TgZ(174,"option",116),r._uU(175,"Recomendaci\xf3n"),r.qZA()(),r._UZ(176,"br"),r.YNc(177,vte,2,0,"div",73),r.qZA()()()(),r.YNc(178,xte,69,8,"div",117),r.TgZ(179,"button",118),r.NdJ("click",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.saveLead())}),r._uU(180," Enviar "),r.qZA()()(),r._UZ(181,"br")(182,"br"),r.qZA()()}if(2&n){const e=r.MAs(12),i=r.MAs(22),o=r.MAs(29),s=r.MAs(36),c=r.MAs(124),d=r.MAs(133),p=r.MAs(142),_=r.MAs(151),b=r.MAs(160),E=r.oxw();r.xp6(6),r.Oqu(E.strtitle),r.xp6(15),r.Q6J("ngModel",E.lead.name),r.xp6(2),r.Q6J("ngIf",i.invalid&&(i.dirty||i.touched)),r.xp6(5),r.Q6J("ngModel",E.lead.lastname),r.xp6(2),r.Q6J("ngIf",o.invalid&&(o.dirty||o.touched)),r.xp6(5),r.Q6J("ngModel",E.lead.email),r.xp6(2),r.Q6J("ngIf",s.invalid&&(s.dirty||s.touched)),r.xp6(5),r.Q6J("ngModel",E.lead.interests),r.xp6(5),r.Q6J("ngModel",E.lead.wapp),r.xp6(1),r.Q6J("ngIf",E.countryList),r.xp6(1),r.Q6J("ngIf",E.cityList),r.xp6(9),r.Q6J("ngModel",E.lead.titulo),r.xp6(6),r.Q6J("ngModel",E.lead.descripcion),r.xp6(6),r.Q6J("ngModel",E.lead.bibliografia),r.xp6(5),r.Q6J("ngModel",E.lead.carrera),r.xp6(5),r.Q6J("ngModel",E.lead.especialidad),r.xp6(5),r.Q6J("ngModel",E.lead.tema),r.xp6(5),r.Q6J("ngModel",E.lead.university),r.xp6(5),r.Q6J("ngModel",E.lead.tipofuente),r.xp6(5),r.Q6J("ngModel",E.lead.tamanofuente),r.xp6(5),r.Q6J("ngModel",E.lead.interlineado),r.xp6(5),r.Q6J("ngModel",E.lead.numero_paginas),r.xp6(5),r.Q6J("ngModel",E.lead.entregas),r.xp6(6),r.Q6J("matDatepicker",c)("ngModel",E.lead.fecha_inicio),r.xp6(1),r.Q6J("for",c),r.xp6(8),r.Q6J("matDatepicker",d)("ngModel",E.lead.fecha_entrega1),r.xp6(1),r.Q6J("for",d),r.xp6(8),r.Q6J("matDatepicker",p)("ngModel",E.lead.fecha_entrega2),r.xp6(1),r.Q6J("for",p),r.xp6(8),r.Q6J("matDatepicker",_)("ngModel",E.lead.fecha_entrega3),r.xp6(1),r.Q6J("for",_),r.xp6(8),r.Q6J("matDatepicker",b)("ngModel",E.lead.fecha_entrega4),r.xp6(1),r.Q6J("for",b),r.xp6(9),r.Q6J("ngModel",E.lead.sourse),r.xp6(10),r.Q6J("ngIf",i.invalid&&(i.dirty||i.touched)),r.xp6(1),r.Q6J("ngIf",E.editing),r.xp6(1),r.Q6J("disabled",!e.form.valid)}}function Ete(n,t){1&n&&(r.TgZ(0,"span",155),r._UZ(1,"i",156),r._uU(2," Agregar"),r.qZA())}function Tte(n,t){1&n&&(r.TgZ(0,"span",155),r._UZ(1,"i",157),r.qZA())}function Ate(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",152)(1,"div",153),r.NdJ("click",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.moForm())}),r.YNc(2,Ete,3,0,"span",154),r.YNc(3,Tte,2,0,"span",154),r.qZA()()}if(2&n){const e=r.oxw();r.xp6(2),r.Q6J("ngIf",!e.mostrarForm),r.xp6(1),r.Q6J("ngIf",e.mostrarForm)}}function Ite(n,t){1&n&&(r.TgZ(0,"th",158),r._uU(1," ID "),r.qZA())}function Ste(n,t){if(1&n&&(r.TgZ(0,"td",159),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.id," ")}}function Mte(n,t){1&n&&(r.TgZ(0,"th",158),r._uU(1," NOMBRE "),r.qZA())}function kte(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"td",160),r.NdJ("click",function(){const s=r.CHM(e).$implicit,c=r.oxw();return r.KtG(c.viewRecod(s))}),r._uU(1),r.qZA()}if(2&n){const e=t.$implicit;r.xp6(1),r.AsE(" ",e.name," ",e.lastname," ")}}function Rte(n,t){1&n&&(r.TgZ(0,"th",158),r._uU(1," EMAIL "),r.qZA())}function Ote(n,t){if(1&n&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&n){const e=r.oxw().$implicit;r.xp6(1),r.Oqu(e.email)}}function Pte(n,t){1&n&&(r.TgZ(0,"span"),r._uU(1,"******"),r.qZA())}function Nte(n,t){if(1&n&&(r.TgZ(0,"td",159),r.YNc(1,Ote,2,1,"span",1),r.YNc(2,Pte,2,0,"span",1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",e.lblDatDisplay),r.xp6(1),r.Q6J("ngIf",!e.lblDatDisplay)}}function Fte(n,t){1&n&&(r.TgZ(0,"th",158),r._uU(1," PAIS "),r.qZA())}function Lte(n,t){if(1&n&&(r.TgZ(0,"td",159),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.country," ")}}function Ute(n,t){1&n&&(r.TgZ(0,"th",158),r._uU(1," CIUDAD "),r.qZA())}function Vte(n,t){if(1&n&&(r.TgZ(0,"td",159),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.city," ")}}function Zte(n,t){1&n&&(r.TgZ(0,"th",158),r._uU(1," WHATSAPP "),r.qZA())}function Bte(n,t){if(1&n&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&n){const e=r.oxw().$implicit;r.xp6(1),r.Oqu(e.wapp)}}function qte(n,t){1&n&&(r.TgZ(0,"span"),r._uU(1,"******"),r.qZA())}function Hte(n,t){if(1&n&&(r.TgZ(0,"td",159),r.YNc(1,Bte,2,1,"span",1),r.YNc(2,qte,2,0,"span",1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",e.lblDatDisplay),r.xp6(1),r.Q6J("ngIf",!e.lblDatDisplay)}}function jte(n,t){1&n&&(r.TgZ(0,"th",158),r._uU(1," CREADO "),r.qZA())}function zte(n,t){if(1&n&&(r.TgZ(0,"td",159),r._uU(1),r.qZA()),2&n){const e=t.$implicit,i=r.oxw();r.xp6(1),r.hij(" ",i.formatFecha(e.registration_date)," ")}}function $te(n,t){1&n&&(r.TgZ(0,"th",158),r._uU(1," ESTADO "),r.qZA())}function Gte(n,t){if(1&n&&(r.TgZ(0,"td",159),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.state," ")}}function Yte(n,t){1&n&&r._UZ(0,"tr",161)}function Wte(n,t){1&n&&r._UZ(0,"tr",162)}function Kte(n,t){1&n&&(r.TgZ(0,"tr",163)(1,"td",164),r._uU(2," No hay datos que coincidan con la busqueda "),r.qZA()())}function Qte(n,t){1&n&&(r.TgZ(0,"th",165),r._uU(1,"OPC"),r.qZA())}function Jte(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",169),r.NdJ("click",function(){r.CHM(e);const o=r.oxw().$implicit,s=r.oxw();return r.KtG(s.editLead(o))}),r._UZ(1,"i",170),r.qZA()}}function Xte(n,t){1&n&&(r.ynx(0),r._UZ(1,"i",175),r.BQk())}function ene(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"i",176),r.NdJ("click",function(){r.CHM(e);const o=r.oxw(2).$implicit,s=r.oxw();return r.KtG(s.deleteConfirmed(o))}),r.qZA(),r.TgZ(1,"i",177),r.NdJ("click",function(){r.CHM(e);const o=r.oxw(2).$implicit,s=r.oxw();return o.confirmDelete=!1,r.KtG(s.toggleConfirmDelete(o))}),r.qZA()}}function tne(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",171)(1,"button",172),r.NdJ("click",function(){r.CHM(e);const o=r.oxw().$implicit,s=r.oxw();return r.KtG(s.toggleConfirmDelete(o))}),r.YNc(2,Xte,2,0,"ng-container",173),r.qZA(),r.YNc(3,ene,2,0,"ng-template",null,174,r.W1O),r.qZA()}if(2&n){const e=r.MAs(4),i=r.oxw().$implicit;r.xp6(2),r.Q6J("ngIf",!i.confirmDelete)("ngIfElse",e)}}function nne(n,t){if(1&n&&(r.TgZ(0,"td",166),r.YNc(1,Jte,2,0,"button",167),r.YNc(2,tne,5,2,"div",168),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",e.ediBtnDisplay),r.xp6(1),r.Q6J("ngIf",e.delBtnDisplay)}}const ine=function(){return[10,25,50]};let rne=(()=>{class n{constructor(e,i,o,s,c,d,p){this.locationService=e,this.loginService=i,this.leadService=o,this.alertService=s,this.firestore=c,this.storage=d,this.elementRef=p,this.selectedFileName="",this.documentTitle="",this.porcentajeAvance=0,this.nroPaginas=0,this.tipoDocumento="",this.uploading=!1,this.uploadSuccess=!1,this.documentsTut=[],this.alldocuments=[],this.displayField=!1,this.confirmDeleteDoc={},this.currentDate=new Date,this.lead=new U2,this.edditted=!1,this.mostrarForm=!1,this.mostrarViewForm=!1,this.currentLeadEmail=null,this.strtitle="Agregar Proyectos Potenciales",this.currentUserEmail="",this.currentUserUid="",this.currentUserName="",this.countryList=[],this.cityList=[],this.addBtnDisplay=!1,this.delBtnDisplay=!1,this.ediBtnDisplay=!1,this.lblDatDisplay=!1,this.postulacionGuardada=!1,this.postConfirmation=!1,this.lblPostulacion="Quiero Postularme",this.editing=!1,this.currentIndex=-1,this.title="",this.displayedColumns=["id","name","email","country","city","wapp","registration_date","state","Opc"]}onFileSelected(e){this.selectedFile=e.target.files[0],this.selectedFileName=this.selectedFile?this.selectedFile.name:null}uploadDocument(){this.uploading=!0;const e=this.firestore.createId(),i=`${e}_${this.selectedFileName}`,o=this.storage.ref(`docs/${i}`);o.put(this.selectedFile).then(()=>{o.getDownloadURL().subscribe(c=>{const d={id:e,docName:i,title:this.documentTitle,projectId:this.lead.uid,projectNro:this.lead.id,projectName:this.lead.titulo,OwnerId:this.lead.lastUpdateLead,OwnerEmail:this.lead.lastUpdateLead,numeroPaginas:this.nroPaginas,porcentajeAvance:this.porcentajeAvance,tipoDocumento:this.tipoDocumento,uploadDate:new Date,downloadURL:c,status:"active"};this.firestore.collection("docs").doc(e).set(d).then(()=>{this.uploading=!1,console.log("Documento subido exitosamente"),this.selectedFile=void 0,this.documentTitle="",this.tipoDocumento="",document.getElementById("fileInput").value="",this.selectedFileName="";const _=this.elementRef.nativeElement.querySelector("#documentTitle");_&&(_.value=""),this.tipoDocumento=""}).catch(p=>{this.uploading=!1,console.error("Error al subir el documento",p)})})})}showConfirmationIcons(e){this.confirmDeleteDoc={},this.confirmDeleteDoc[e.docName]=!0}confirmDelete(e){this.storage.ref(`docs/${e.docName}`).delete().pipe((0,$r.b)(()=>{this.uploadSuccess=!1,this.selectedFile=void 0,this.selectedFileName=null,console.log("Documento eliminado correctamente"),this.firestore.collection("docs").doc(e.id).delete().then(()=>{console.log("Documento en la colecci\xf3n 'docs' eliminado correctamente")}).catch(o=>{console.error("Error al eliminar el documento de la colecci\xf3n 'docs'",o)})})).subscribe({error:o=>{console.error("Error al eliminar el documento",o)}}),this.confirmDeleteDoc[e.docName]=!1}cancelDelete(e){this.confirmDeleteDoc[e.docName]=!1}ngOnInit(){this.loginService.getUserObservable().subscribe(e=>{e&&(this.currentUserEmail=e.email,this.loginService.getUserName(e.uid).subscribe(i=>{i.user_type&&("Cliente"==i.user_type&&(this.addBtnDisplay=!1,this.delBtnDisplay=!1,this.ediBtnDisplay=!1),"Profesor"==i.user_type&&(this.addBtnDisplay=!1,this.delBtnDisplay=!1,this.ediBtnDisplay=!1,this.lblDatDisplay=!1),"Admin"==i.user_type&&(this.addBtnDisplay=!0,this.delBtnDisplay=!0,this.ediBtnDisplay=!0,this.lblDatDisplay=!0),"Asistente"==i.user_type&&(this.addBtnDisplay=!0,this.delBtnDisplay=!0,this.ediBtnDisplay=!0,this.lblDatDisplay=!0))}))}),this.retrieveLeads(),this.paginatior._intl.itemsPerPageLabel="Elementos por p\xe1gina",this.paginatior._intl.firstPageLabel="Primera P\xe1gina",this.paginatior._intl.lastPageLabel="\xdaltima P\xe1gina",this.paginatior._intl.nextPageLabel="Siguiente",this.paginatior._intl.previousPageLabel="Anterior",this.paginatior._intl.getRangeLabel=(e,i,o)=>{if(0===o||0===i)return`0 de ${o}`;const s=e*i;return`${s+1} - ${s<(o=Math.max(o,0))?Math.min(s+i,o):s+i} de ${o}`},this.locationService.getAllCountries().valueChanges().subscribe(e=>{this.countryList=e})}timestampConvert(e){if(e&&e.seconds){let i=new Date(1e3*e.seconds);return i.getMonth(),i.getFullYear(),i.getDate(),i}}comprobarfecha(e){return e instanceof Date?e:this.timestampConvert(e)}editLead(e){this.editing=!0,this.lead=e,this.mostrarForm=!0,this.strtitle="Modificar Proyectos Potenciales",void 0!==this.comprobarfecha(e.fecha_inicio)&&(this.lead.fecha_inicio=this.comprobarfecha(e.fecha_inicio)),void 0!==this.comprobarfecha(e.fecha_entrega1)&&(this.lead.fecha_entrega1=this.comprobarfecha(e.fecha_entrega1)),void 0!==this.comprobarfecha(e.fecha_entrega2)&&(this.lead.fecha_entrega2=this.comprobarfecha(e.fecha_entrega2)),void 0!==this.comprobarfecha(e.fecha_entrega3)&&(this.lead.fecha_entrega3=this.comprobarfecha(e.fecha_entrega3)),void 0!==this.comprobarfecha(e.fecha_entrega4)&&(this.lead.fecha_entrega4=this.comprobarfecha(e.fecha_entrega4)),this.alldocuments.splice(0,this.alldocuments.length),this.firestore.collection("docs",i=>i.where("projectId","==",this.lead.uid).where("projectNro","==",this.lead.id).orderBy("OwnerId").orderBy("uploadDate","desc")).valueChanges().subscribe(i=>{this.alldocuments=i})}saveLead(){var e=this;return(0,de.Z)(function*(){if(e.loginService.user$.subscribe(i=>{e.currentLeadEmail=i?i.email:null}),e.editing)try{e.lead.lastUpdate=e.currentDate,e.lead.lastUpdateLead=null!=e.currentLeadEmail?e.currentLeadEmail:"",yield e.leadService.update(e.lead),e.edditted=!0,e.doSomething("update","El usuario se ha modificado correctamente."),e.mostrarForm=!1}catch(i){console.error("Error al actualizar el usuario:",i)}else e.lead.registration_date=e.currentDate,e.lead.lastUpdate=e.currentDate,e.lead.lastUpdateLead=null!=e.currentLeadEmail?e.currentLeadEmail:"",e.lead.status=!0,e.lead.state="Activo",e.strtitle="Agregar Proyectos Potenciales",e.lead.lastname=""===e.lead.lastname||null===e.lead.lastname||typeof e.lead.lastname>"u"?"":e.lead.lastname,e.lead.email=""===e.lead.email||null===e.lead.email||typeof e.lead.email>"u"?"":e.lead.email,e.lead.tlf=""===e.lead.tlf||null===e.lead.tlf||typeof e.lead.tlf>"u"?"":e.lead.tlf,e.lead.wapp=""===e.lead.wapp||null===e.lead.wapp||typeof e.lead.wapp>"u"?"":e.lead.wapp,e.lead.university=""===e.lead.university||null===e.lead.university||typeof e.lead.university>"u"?"":e.lead.university,e.lead.titulo=""===e.lead.titulo||null===e.lead.titulo||typeof e.lead.titulo>"u"?"":e.lead.titulo,e.lead.bibliografia=""===e.lead.bibliografia||null===e.lead.bibliografia||typeof e.lead.bibliografia>"u"?"":e.lead.bibliografia,e.lead.carrera=""===e.lead.carrera||null===e.lead.carrera||typeof e.lead.carrera>"u"?"":e.lead.carrera,e.lead.tema=""===e.lead.tema||null===e.lead.tema||typeof e.lead.tema>"u"?"":e.lead.tema,e.lead.especialidad=""===e.lead.especialidad||null===e.lead.especialidad||typeof e.lead.especialidad>"u"?"":e.lead.especialidad,e.lead.tipofuente=""===e.lead.tipofuente||null===e.lead.tipofuente||typeof e.lead.tipofuente>"u"?"":e.lead.tipofuente,e.lead.tamanofuente=""===e.lead.tamanofuente||null===e.lead.tamanofuente||typeof e.lead.tamanofuente>"u"?"":e.lead.tamanofuente,e.lead.numero_paginas=null==e.lead.numero_paginas||typeof e.lead.numero_paginas>"u"?0:e.lead.numero_paginas,e.lead.entregas=null==e.lead.entregas||typeof e.lead.entregas>"u"?0:e.lead.entregas,e.lead.descripcion=""===e.lead.descripcion||null===e.lead.descripcion||typeof e.lead.descripcion>"u"?"":e.lead.descripcion,e.lead.fecha_inicio=null==e.lead.fecha_inicio||typeof e.lead.fecha_inicio>"u"?new Date:e.lead.fecha_inicio,e.lead.fecha_entrega1=null==e.lead.fecha_entrega1||typeof e.lead.fecha_entrega1>"u"?new Date:e.lead.fecha_entrega1,e.lead.fecha_entrega2=null==e.lead.fecha_entrega2||typeof e.lead.fecha_entrega2>"u"?new Date:e.lead.fecha_entrega2,e.lead.fecha_entrega3=null==e.lead.fecha_entrega3||typeof e.lead.fecha_entrega3>"u"?new Date:e.lead.fecha_entrega3,e.lead.fecha_entrega4=null==e.lead.fecha_entrega4||typeof e.lead.fecha_entrega4>"u"?new Date:e.lead.fecha_entrega4,e.lead.country=""===e.lead.country||null===e.lead.country||typeof e.lead.country>"u"?"":e.lead.country,e.lead.city=""===e.lead.city||null===e.lead.city||typeof e.lead.city>"u"?"":e.lead.city,e.lead.sourse=""===e.lead.sourse||null===e.lead.sourse||typeof e.lead.sourse>"u"?"":e.lead.sourse,e.lead.interests=""===e.lead.interests||null===e.lead.interests||typeof e.lead.interests>"u"?"":e.lead.interests,e.leadService.create(e.lead).then(()=>{console.log("\xa1Se ha enviado con \xe9xito!"),e.mostrarForm=!1,e.doSomething("create","El proyecto se ha creado correctamente.")})})()}newLead(){this.edditted=!1,this.lead=new U2,this.editing=!1,this.lead.uid="",this.strtitle="Agregar Proyectos Potenciales"}refreshList(){this.currentLead=void 0,this.currentIndex=-1,this.retrieveLeads()}retrieveLeads(){this.leadService.getAll().snapshotChanges().pipe((0,Ke.U)(e=>e.map(i=>({id:i.payload.doc.id,...i.payload.doc.data()})))).subscribe(e=>{this.leads=e,this.dataSource=new zh(this.leads),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginatior})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}setActiveLead(e,i){this.currentLead=e,this.currentIndex=i}removeUsr(e){var i=this;return(0,de.Z)(function*(){i.loginService.user$.subscribe(o=>{i.currentLeadEmail=o?o.email:null}),i.currentLeadEmail=null!=i.currentLeadEmail?i.currentLeadEmail:"",yield i.leadService.delete(e,i.currentLeadEmail.toString(),i.currentDate),i.doSomething("delete","El proyecto se ha eliminado correctamente."),i.mostrarForm=!1})()}toggleConfirmDelete(e){void 0===e.confirmDelete&&(e.confirmDelete=!1),e.confirmDelete=!e.confirmDelete}deleteConfirmed(e){this.removeUsr(e.uid)}closeview(){this.mostrarForm=!1,this.mostrarViewForm=!1}moForm(){this.mostrarForm=!this.mostrarForm,this.strtitle="Agregar Proyectos Potenciales",this.alldocuments.splice(0,this.alldocuments.length),this.currentIndex=-1,this.editing=!1,this.currentLead=void 0,this.lead=new U2}validarEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}doSomething(e,i){this.alertService.ShowAlert(e,i,3e3)}viewRecod(e){const i=e.email,o=e.titulo;if(this.currentUserEmail){const s="P-"+this.convertirTextoANumeros(o?.substring(0,8).trim().toString())+"@"+this.convertirTextoANumeros(this.currentUserEmail?.substring(0,5).trim().toString());this.leadService.getPostulation(s,i,this.currentUserEmail).then(c=>{c.subscribe(d=>{const p=document.getElementById("guardarPostulacion");d.length>0?(p.checked=!0,p.disabled=!0,this.lblPostulacion="Postulado"):(p.disabled=!1,p.checked=!1)})}).catch(c=>{console.error("Error al obtener las postulaciones:",c)})}this.lead=e,this.mostrarForm=!1,this.mostrarViewForm=!0,this.alldocuments.splice(0,this.alldocuments.length),this.firestore.collection("docs",s=>s.where("projectId","==",this.lead.uid).where("projectNro","==",this.lead.id).orderBy("OwnerId").orderBy("uploadDate","desc")).valueChanges().subscribe(s=>{this.alldocuments=s})}postulationConfirmed(e){e?(this.loginService.getUserObservable().subscribe(o=>{o&&(this.currentUserEmail=o.email,this.currentUserUid=o.uid,this.loginService.getUserFullName(o.uid).subscribe(s=>{if(s){this.currentUserName=s;const c="Pendiente",d=new Date,p="P-"+this.convertirTextoANumeros(this.lead.titulo?.substring(0,8).trim().toString())+"@"+this.convertirTextoANumeros(this.currentUserEmail?.substring(0,5).trim().toString());this.leadService.savepostulation({id:p,titulo:this.lead.titulo?this.lead.titulo:"",cliente:this.lead.name+" "+this.lead.lastname,emailCliente:this.lead.email?this.lead.email:"",currentUser:this.currentUserName?this.currentUserName:"",currentUserEmail:this.currentUserEmail?this.currentUserEmail:"",currentUserId:this.currentUserUid,status:c,lastUpdate:d,leadUID:this.lead.uid})}else console.log("No se encontr\xf3 el nombre del usuario")}))}),this.postConfirmation=!1,this.postulacionGuardada=!0,document.getElementById("guardarPostulacion").disabled=!0):(this.postConfirmation=!1,this.postulacionGuardada=!1,this.lblPostulacion="Quiero Postularme")}guardarPostulacion(e){this.postulacionGuardada?this.postConfirmation=!1:(this.postConfirmation=!!e.target.checked,this.lblPostulacion="Confirmar Postulaci\xf3n")}convertirTextoANumeros(e){let o="";if(e)for(let s=0;s<e.length;s++){const c=e[s].toLowerCase(),d="abcdefghijklmnopqrstuvwxyz".indexOf(c)+1;o+=d>0?d.toString():c}return o}getCity(e){const o=e.target.options[e.target.selectedIndex].text;this.lead.paisCode=o.split(" ")[0],this.locationService.getAllCityCode(o.split(" ")[0]).valueChanges().subscribe(s=>{this.cityList=s})}formatFecha(e){if(e&&"function"==typeof e.toDate){const i=e.toDate();return`${i.getDate()}/${i.getMonth()+1}/${i.getFullYear()}`}return e instanceof Date?`${e.getDate()}/${e.getMonth()+1}/${e.getFullYear()}`:""}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(gD),r.Y36(Yr),r.Y36(Cq),r.Y36($h),r.Y36(Ka),r.Y36(cH),r.Y36(r.SBq))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-leads"]],viewQuery:function(e,i){if(1&e&&(r.Gf(ql,7),r.Gf(Ja,5)),2&e){let o;r.iGM(o=r.CRH())&&(i.paginatior=o.first),r.iGM(o=r.CRH())&&(i.sort=o.first)}},decls:45,vars:8,consts:[["class","register-container",4,"ngIf"],[4,"ngIf"],[2,"width","100%","margin-left","10px","padding-right","10px","padding-top","5px","padding-bottom","50px"],[1,"row","panel-addh",2,"text-align","right"],[1,"col-sm-6","col-md-6","col-lg-6","col-xl-6",2,"text-align","left"],[2,"margin","10px"],["class","row panel-add",4,"ngIf"],[1,"form-group",2,"padding-top","3px"],["matInput","","placeholder","Buscar Leads o Proyectos Potenciales",1,"form-control",2,"border-color","#dc3545","border-width","1px",3,"keyup"],["input",""],["mat-table","","matSort","",1,"table",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","","class","mat-header-row","style","text-align: left",4,"matHeaderCellDef"],["mat-cell","","class","mat-cell",4,"matCellDef"],["matColumnDef","name"],["style","cursor: pointer; text-decoration: underline","mat-cell","","class","mat-cell",3,"click",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","country"],["matColumnDef","city"],["matColumnDef","wapp"],["matColumnDef","registration_date"],["matColumnDef","state"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["matColumnDef","Opc"],["class","mat-header-row",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["showFirstLastButtons","",3,"pageSizeOptions"],["paginator",""],[1,"register-container"],[1,"row"],[1,"col-sm-6","col-md-6","col-lg-6","col-xl-6"],[2,"font-size","22px","font-weight","bold"],[1,"close-icon"],[1,"fas","fa-times",3,"click"],[1,"card"],[1,"card-header"],[1,"form-check","form-switch","position-absolute","top-0","end-0","mt-3","me-3"],["type","checkbox","id","guardarPostulacion",1,"form-check-input",3,"ngModel","click","ngModelChange"],["for","guardarPostulacion",1,"form-check-label"],["style","padding-left: 5px",4,"ngIf"],[1,"card-body"],[1,"form-group"],[1,"mb-3"],["for","titulo",1,"label-generic"],[1,"form-control-static"],["for","bibliografia",1,"label-generic"],["class","form-control-static",4,"ngIf"],["for","tema",1,"label-generic"],["for","universidad",1,"label-generic"],["for","numero_paginas",1,"label-generic"],["for","entregas",1,"label-generic"],["for","tipofuente",1,"label-generic"],["for","tamanofuente",1,"label-generic"],["for","interlineado",1,"label-generic"],[1,"table","table-striped"],["colspan","3"],[2,"width","35px"],[2,"width","50px"],[4,"ngFor","ngForOf"],["for","descripcion",1,"label-generic"],[2,"padding-left","5px"],["data-toggle","tooltip","data-placement","top","title","Confirmar postulaci\xf3n",1,"fas","fa-check","facheckCustom",3,"click"],["data-toggle","tooltip","data-placement","top","title","Cancelar postulaci\xf3n",1,"fas","fa-times","fatimesCustom",3,"click"],["target","_blank",1,"text-decoration-none",3,"href"],["src","assets/img/descarga-de-archivos.png",1,"img-fluid",2,"width","20px","height","15px"],[1,"col-sm-8","col-md-8","col-lg-8","col-xl-8"],[1,"col-sm-4","col-md-4","col-lg-4","col-xl-4"],["leadForm","ngForm"],["for","name",1,"label-generic"],["type","text","id","name","required","","name","name",1,"form-control",3,"ngModel","ngModelChange"],["nameField","ngModel"],["class","text-danger",4,"ngIf"],["for","lastname",1,"label-generic"],["type","text","id","lastname","name","lastname",1,"form-control",3,"ngModel","ngModelChange"],["nameField1","ngModel"],["for","email",1,"label-generic"],["id","email","name","email","pattern","[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)*@[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)*[.][a-zA-Z]{1,5}",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],[1,"mb-3",2,"display","none"],["for","password",1,"label-generic"],["type","interests","id","interests","name","interests",1,"form-control",3,"ngModel","ngModelChange"],["for","wapp",1,"label-generic"],["id","wapp","name","wapp",1,"form-control",3,"ngModel","ngModelChange"],["class","form-group",4,"ngIf"],["id","titulo","name","titulo","required","",1,"form-control",3,"ngModel","ngModelChange"],["tituLo","ngModel"],["id","descripcion","name","descripcion","rows","5",1,"form-control",3,"ngModel","ngModelChange"],["id","bibliografia","name","bibliografia",1,"form-control",3,"ngModel","ngModelChange"],["for","carrera",1,"label-generic"],["id","carrera","name","carrera",1,"form-control",3,"ngModel","ngModelChange"],["for","especialidad",1,"label-generic"],["id","especialidad","name","especialidad",1,"form-control",3,"ngModel","ngModelChange"],["id","tema","name","tema",1,"form-control",3,"ngModel","ngModelChange"],["for","university",1,"label-generic"],["id","university","name","university","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","tipofuente","name","tipofuente",1,"form-control",3,"ngModel","ngModelChange"],["id","tamanofuente","name","tamanofuente",1,"form-control",3,"ngModel","ngModelChange"],["id","interlineado","name","interlineado",1,"form-control",3,"ngModel","ngModelChange"],["id","numero_paginas","name","numero_paginas",1,"form-control",3,"ngModel","ngModelChange"],["id","entregas","name","entregas",1,"form-control",3,"ngModel","ngModelChange"],["appearance","outline"],["matInput","","placeholder","Seleccionar fecha","id","fecha_inicio","name","fecha_inicio","required","",1,"form-control",3,"matDatepicker","ngModel","ngModelChange"],["matIconSuffix","",3,"for"],["picker",""],["matInput","","placeholder","Seleccionar fecha","id","fecha_entrega1","name","fecha_entrega1",1,"form-control",3,"matDatepicker","ngModel","ngModelChange"],["picker1",""],["matInput","","placeholder","Seleccionar fecha","id","fecha_entrega2","name","fecha_entrega2",1,"form-control",3,"matDatepicker","ngModel","ngModelChange"],["picker2",""],["matInput","","placeholder","Seleccionar fecha","id","fecha_entrega3","name","fecha_entrega3",1,"form-control",3,"matDatepicker","ngModel","ngModelChange"],["picker3",""],["matInput","","placeholder","Seleccionar fecha","id","fecha_entrega4","name","fecha_entrega4",1,"form-control",3,"matDatepicker","ngModel","ngModelChange"],["picker4",""],["for","sourse",1,"label-generic"],["id","sourse","required","","value","selected","name","sourse",1,"form-control",3,"ngModel","ngModelChange"],["selected",""],["class","card",4,"ngIf"],["type","submit",1,"btn2",3,"disabled","click"],[1,"text-danger"],["for","country",1,"label-generic"],["id","country","name","country","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["country",""],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["for","city",1,"label-generic"],["id","city","name","city",1,"form-control",3,"ngModel","ngModelChange"],["city",""],[1,"text-left","fw-bold"],[3,"ngSubmit"],["uploadForm","ngForm"],["for","documentTitle"],["type","text","max","70","id","documentTitle","name","documentTitle","required","","pattern","[a-zA-Z0-9\\s\\-.]+",1,"form-control",3,"ngModel","ngModelChange"],["id","doctype","value","selected","name","doctype","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","mb-3"],[1,"custom-file"],["id","file",1,"file-select",2,"margin-right","10px"],["type","file","id","fileInput","accept","application/pdf, .doc, .docx, .xls, .xlsx, .ppt, .pptx, .png, .jpg, .jpeg","required","",1,"custom-file-input",3,"disabled","change"],["for","file",1,"custom-file-label",2,"display","none"],["type","submit",1,"Documento",3,"disabled"],[1,"fas","fa-upload",2,"font-size","12px"],["class","btn btn-primary","style","margin-right: 10px","type","button","disabled","",4,"ngIf"],[2,"text-align","center"],["type","button","disabled","",1,"btn","btn-primary",2,"margin-right","10px"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"visually-hidden"],[2,"width","150px","cursor","pointer","color","#dc3545"],[2,"margin","0 5px",3,"click"],["title","Confirmar",1,"fas","fa-check",2,"color","rgb(5, 5, 5)","cursor","pointer",3,"click"],[2,"margin","0 5px"],["title","Cancelar",1,"fas","fa-times",2,"color","red","cursor","pointer",3,"click"],[1,"row","panel-add"],[1,"col-sm-12","col-md-12","col-lg-12","col-xl-12",3,"click"],["style","text-decoration: none; color: #dc3545","class","btn btn-link",4,"ngIf"],[1,"btn","btn-link",2,"text-decoration","none","color","#dc3545"],[1,"fa","fa-solid","fa-circle-plus"],[1,"fa","fa-solid","fa-circle-minus"],["mat-sort-header","",1,"mat-header-row",2,"text-align","left"],["mat-cell","",1,"mat-cell"],["mat-cell","",1,"mat-cell",2,"cursor","pointer","text-decoration","underline",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","9",1,"mat-cell",2,"text-align","left"],[1,"mat-header-row"],["mat-cell",""],["class","btn btn-light btn-sm","data-toggle","tooltip","data-placement","top","title","Editar elemento",3,"click",4,"ngIf"],["class","btn-group",4,"ngIf"],["data-toggle","tooltip","data-placement","top","title","Editar elemento",1,"btn","btn-light","btn-sm",3,"click"],["data-toggle","tooltip","data-placement","top","title","Editar elemento",1,"fa-solid","fa-pen"],[1,"btn-group"],["data-toggle","tooltip","data-placement","top","title","Eliminar elemento",1,"btn","btn-light","btn-sm",3,"click"],[4,"ngIf","ngIfElse"],["confirmIcon",""],["data-toggle","tooltip","data-placement","top","title","Eliminar elemento",1,"far","fa-trash-alt",2,"color","red"],["data-toggle","tooltip","data-placement","top","title","Confirmar eliminaci\xf3n",1,"fas","fa-check","facheckCustom",3,"click"],["data-toggle","tooltip","data-placement","top","title","Cancelar eliminaci\xf3n",1,"fas","fa-times","fatimesCustom",3,"click"]],template:function(e,i){1&e&&(r.YNc(0,cte,177,31,"div",0),r.YNc(1,Dte,183,42,"div",1),r.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),r.YNc(6,Ate,4,2,"div",6),r.qZA()(),r.TgZ(7,"div",4)(8,"div",7)(9,"input",8,9),r.NdJ("keyup",function(s){return i.applyFilter(s)}),r.qZA()()()(),r.TgZ(11,"table",10),r.ynx(12,11),r.YNc(13,Ite,2,0,"th",12),r.YNc(14,Ste,2,1,"td",13),r.BQk(),r.ynx(15,14),r.YNc(16,Mte,2,0,"th",12),r.YNc(17,kte,2,2,"td",15),r.BQk(),r.ynx(18,16),r.YNc(19,Rte,2,0,"th",12),r.YNc(20,Nte,3,2,"td",13),r.BQk(),r.ynx(21,17),r.YNc(22,Fte,2,0,"th",12),r.YNc(23,Lte,2,1,"td",13),r.BQk(),r.ynx(24,18),r.YNc(25,Ute,2,0,"th",12),r.YNc(26,Vte,2,1,"td",13),r.BQk(),r.ynx(27,19),r.YNc(28,Zte,2,0,"th",12),r.YNc(29,Hte,3,2,"td",13),r.BQk(),r.ynx(30,20),r.YNc(31,jte,2,0,"th",12),r.YNc(32,zte,2,1,"td",13),r.BQk(),r.ynx(33,21),r.YNc(34,$te,2,0,"th",12),r.YNc(35,Gte,2,1,"td",13),r.BQk(),r.YNc(36,Yte,1,0,"tr",22),r.YNc(37,Wte,1,0,"tr",23),r.YNc(38,Kte,3,0,"tr",24),r.ynx(39,25),r.YNc(40,Qte,2,0,"th",26),r.YNc(41,nne,3,2,"td",27),r.BQk(),r.qZA(),r.TgZ(42,"mat-paginator",28,29),r._uU(44,' [intl]="customPaginatorIntl" '),r.qZA()()),2&e&&(r.Q6J("ngIf",i.mostrarViewForm),r.xp6(1),r.Q6J("ngIf",i.mostrarForm),r.xp6(5),r.Q6J("ngIf",i.addBtnDisplay),r.xp6(5),r.Q6J("dataSource",i.dataSource),r.xp6(25),r.Q6J("matHeaderRowDef",i.displayedColumns),r.xp6(1),r.Q6J("matRowDefColumns",i.displayedColumns),r.xp6(5),r.Q6J("pageSizeOptions",r.DdM(7,ine)))},dependencies:[cr,Un,Il,Wd,ku,qi,gc,Sc,vi,as,cs,jf,ha,qr,Ja,I0,ql,O_,Em,P_,Tm,Dm,N_,Am,F_,L_,U_,KS,GS,oL,N0,ZL,xD,BL],styles:['.container[_ngcontent-%COMP%]{margin:0}.register-container[_ngcontent-%COMP%]{max-width:800px;padding:20px;border:1px solid #ccc;border-radius:5px}.btn2[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;border:none;padding:10px 20px;cursor:pointer;transition:background-color .3s;width:150px;border-radius:10px}.btn2[_ngcontent-%COMP%]:hover{background-color:#343a40}.btn2[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block}.file-select[_ngcontent-%COMP%]:before{background-color:#134e9d;cursor:pointer;color:#fff;display:flex;justify-content:center;align-items:center;border-radius:10px;content:"Seleccionar";position:absolute;inset:0}.file-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{opacity:0;width:150px;height:32px;display:inline-block}#file[_ngcontent-%COMP%]:before{content:"Seleccionar archivo"}.submit-form[_ngcontent-%COMP%]{max-width:300px;margin:auto}.panel-add[_ngcontent-%COMP%]{max-width:200px;right:10px;border-color:#706c6c;background-color:#f2e9e9;box-shadow:0 2px 3px #0003;border-radius:10px;text-align:center;cursor:pointer}.panel-addh[_ngcontent-%COMP%]{border-color:#706c6c;background-color:#fff;border-radius:10px;text-align:center}.label-generic[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#161616}.form-check-label[_ngcontent-%COMP%]{font-size:1rem;margin-left:1rem}.form-switch[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:relative}.form-switch[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:2rem;height:1.5rem;margin:0;padding:0;position:relative;appearance:none;-webkit-appearance:none;-moz-appearance:none;outline:none;border:2px solid #adb5bd;border-radius:.75rem;background-color:transparent;cursor:pointer;transition:background-color .3s ease-in-out}.form-switch[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#28a745}.form-switch[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:before{content:"";position:absolute;top:.25rem;left:.25rem;width:1rem;height:1rem;border-radius:50%;background-color:#fff;transition:transform .3s ease-in-out}.form-switch[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked:before{transform:translate(.5rem)}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding-bottom:15px}.mat-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.mat-header-row[_ngcontent-%COMP%]{background-color:#edf0f2e9;color:#dc3545;font-size:small}.mat-row[_ngcontent-%COMP%]:nth-child(even){background-color:#f9f9f9}.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{padding:10px;text-align:left;border-bottom:1px solid #c7c6c6}.mat-column-id[_ngcontent-%COMP%]{width:40px!important;text-align:left}.mat-column-name[_ngcontent-%COMP%]{width:220px!important;text-align:left}.mat-column-email[_ngcontent-%COMP%]{width:200px!important;text-align:left}.mat-column-country[_ngcontent-%COMP%], .mat-column-city[_ngcontent-%COMP%], .mat-column-tlf[_ngcontent-%COMP%], .mat-column-wapp[_ngcontent-%COMP%]{width:100px!important;text-align:left}.mat-column-state[_ngcontent-%COMP%]{text-align:left}.mat-column-Opc[_ngcontent-%COMP%]{width:100px!important;text-align:left}.close-icon[_ngcontent-%COMP%]{cursor:pointer;text-align:right}.close-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:red}.facheckCustom[_ngcontent-%COMP%]{margin-right:10px}.facheckCustom[_ngcontent-%COMP%]:hover{color:#31bb3c}.fatimesCustom[_ngcontent-%COMP%]{color:#fe6464}.fatimesCustom[_ngcontent-%COMP%]:hover{color:red}']}),n})();class HL{}let one=(()=>{class n{constructor(e){this.db=e,this.dbPath="/invoices",this.lastId=1,this.invoicesRef=e.collection(this.dbPath)}getAll(){return this.db.collection("invoices",e=>e.where("status","in",["Pendiente","Aprobada","Pagada","Anulada"]).orderBy("invoice_id","asc"))}getNumberOfRecords(){return this.db.collection("invoices").ref.get().then(e=>e.size)}getNextId(){var e=this;return(0,de.Z)(function*(){try{const i=yield e.getNumberOfRecords();e.lastId=i}catch(i){console.error("Error al obtener la cantidad de registros:",i)}e.lastId++})()}create(e){var i=this;return(0,de.Z)(function*(){try{yield i.getNextId();const o=i.lastId.toString();e.invoice_id=o;const s=i.db.collection("invoices").doc();e.uid=s.ref.id;const d={uid:e.uid,invoice_id:e.invoice_id,...e};yield s.set(d)}catch(o){throw console.error("Error al crear el proyecto:",o),o}})()}update(e){return this.invoicesRef.doc(e.uid).update(e)}delete(e,i,o){return this.invoicesRef.doc(e).update({status:"Eliminada",lastUpdate:o,lastUpdateUser:i})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Ka))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sne(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",33)(1,"div",34)(2,"div",35)(3,"div")(4,"h3",36),r._uU(5,"Datos de la Factura"),r.qZA()()(),r.TgZ(6,"div",35)(7,"div",37)(8,"i",38),r.NdJ("click",function(){r.CHM(e);const o=r.oxw(2);return r.KtG(o.closeview())}),r.qZA()()()(),r.TgZ(9,"div",39)(10,"div",40)(11,"div",41),r._UZ(12,"div",42),r.TgZ(13,"label",43),r._uU(14,"N\xfamero Factura"),r.qZA(),r.TgZ(15,"p",44),r._uU(16),r.qZA()(),r.TgZ(17,"div")(18,"div",42)(19,"label",45),r._uU(20,"Fecha de Emisi\xf3n"),r.qZA(),r.TgZ(21,"p",44),r._uU(22),r.qZA()()(),r.TgZ(23,"div",41)(24,"div",42)(25,"label",46),r._uU(26,"Subtotal"),r.qZA(),r.TgZ(27,"p",44),r._uU(28),r.qZA()()(),r.TgZ(29,"div",41)(30,"div",42)(31,"label",47),r._uU(32,"Monto Total"),r.qZA(),r.TgZ(33,"p",44),r._uU(34),r.qZA()()(),r.TgZ(35,"div",41)(36,"div",42)(37,"label",48),r._uU(38,"Impuesto"),r.qZA(),r.TgZ(39,"p",44),r._uU(40),r.qZA()()(),r.TgZ(41,"div",41)(42,"div",42)(43,"label",49),r._uU(44,"M\xe9todo de Pago"),r.qZA(),r.TgZ(45,"p",44),r._uU(46),r.qZA()()(),r.TgZ(47,"div",41)(48,"div",42)(49,"label",50),r._uU(50,"Nombre del Proyecto"),r.qZA(),r.TgZ(51,"p",44),r._uU(52),r.qZA()()(),r.TgZ(53,"div",41)(54,"div",42)(55,"label",51),r._uU(56,"Nombre del Ciente"),r.qZA(),r.TgZ(57,"p",44),r._uU(58),r.qZA()()(),r.TgZ(59,"div",41)(60,"div",42)(61,"label",51),r._uU(62,"Fecha de Registro"),r.qZA(),r.TgZ(63,"p",44),r._uU(64),r.qZA()()()()()()}if(2&n){const e=r.oxw(2);r.xp6(16),r.Oqu(e.invoice.numeroFactura),r.xp6(6),r.Oqu(e.formatFecha(e.invoice.fechaEmision)),r.xp6(6),r.Oqu(e.invoice.subtotal),r.xp6(6),r.Oqu(e.invoice.montoTotal),r.xp6(6),r.Oqu(e.invoice.impuestos),r.xp6(6),r.Oqu(e.invoice.paymentMethod),r.xp6(6),r.Oqu(e.invoice.nombreProyecto),r.xp6(6),r.Oqu(e.invoice.nombreCliente),r.xp6(6),r.Oqu(e.formatFecha(e.invoice.registration_date))}}function ane(n,t){1&n&&(r.TgZ(0,"div",82),r._uU(1," El n\xfamero de factura es requerido. "),r.qZA())}function lne(n,t){if(1&n&&(r.TgZ(0,"option",83),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.Q6J("value",e),r.xp6(1),r.Oqu(e)}}function cne(n,t){if(1&n&&(r.TgZ(0,"option",83),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.Q6J("value",e.uid),r.xp6(1),r.AsE("",e.name," ",e.lastname,"")}}function une(n,t){1&n&&(r.TgZ(0,"div",82),r._uU(1," Ingrese el estado "),r.qZA())}function dne(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div")(1,"div",33)(2,"div",34)(3,"div",35)(4,"div")(5,"h3",36),r._uU(6),r.qZA()()(),r.TgZ(7,"div",35)(8,"div",37)(9,"i",38),r.NdJ("click",function(){r.CHM(e);const o=r.oxw(2);return r.KtG(o.closeview())}),r.qZA()()()(),r.TgZ(10,"div")(11,"form",null,52)(13,"div",39)(14,"div",40)(15,"div",41)(16,"div",42)(17,"label",43),r._uU(18,"N\xfamero de Factura *"),r.qZA(),r.TgZ(19,"input",53,54),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw(2);return r.KtG(s.invoice.numeroFactura=o)}),r.qZA(),r.YNc(21,ane,2,0,"div",55),r.qZA()(),r.TgZ(22,"div")(23,"div",41)(24,"div",42)(25,"label",56),r._uU(26,"Fecha de Emisi\xf3n*"),r.qZA(),r._UZ(27,"br"),r.TgZ(28,"mat-form-field",57)(29,"input",58),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw(2);return r.KtG(s.invoice.fechaEmision=o)}),r.qZA(),r.TgZ(30,"mat-hint"),r._uU(31,"dd/mm/yyyy"),r.qZA(),r._UZ(32,"mat-datepicker-toggle",59)(33,"mat-datepicker",null,60),r.qZA()()()(),r.TgZ(35,"div",41)(36,"div",42)(37,"label",61),r._uU(38,"Subtotal *"),r.qZA(),r.TgZ(39,"input",62),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw(2);return r.KtG(s.invoice.subtotal=o)}),r.qZA()()(),r.TgZ(40,"div",41)(41,"div",42)(42,"label",63),r._uU(43,"Impuesto *"),r.qZA(),r.TgZ(44,"input",64),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw(2);return r.KtG(s.invoice.impuestos=o)}),r.qZA()()(),r.TgZ(45,"div",41)(46,"div",42)(47,"label",65),r._uU(48,"Monto total factura *"),r.qZA(),r.TgZ(49,"input",66),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw(2);return r.KtG(s.invoice.montoTotal=o)}),r.qZA()()(),r.TgZ(50,"div",41)(51,"div",42)(52,"label",67),r._uU(53,"Metodo de Pago *"),r.qZA(),r.TgZ(54,"select",68),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw(2);return r.KtG(s.invoice.paymentMethod=o)}),r.TgZ(55,"option",69),r._uU(56,"Seleccionar opci\xf3n"),r.qZA(),r.YNc(57,lne,2,2,"option",70),r.qZA()()(),r.TgZ(58,"div",41)(59,"div",42)(60,"label",71),r._uU(61,"Nombre del Proyecto *"),r.qZA(),r.TgZ(62,"input",72),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw(2);return r.KtG(s.invoice.nombreProyecto=o)}),r.qZA()()(),r.TgZ(63,"div",41)(64,"div",42)(65,"label",73),r._uU(66,"Nombre del Cliente*"),r.qZA(),r.TgZ(67,"select",74),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw(2);return r.KtG(s.invoice.nombreCliente=o)})("change",function(o){r.CHM(e);const s=r.oxw(2);return r.KtG(s.updateClienteId(o))}),r.TgZ(68,"option",69),r._uU(69,"Seleccionar opci\xf3n"),r.qZA(),r.YNc(70,cne,2,3,"option",70),r.qZA(),r.TgZ(71,"input",75),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw(2);return r.KtG(s.invoice.client_id=o)}),r.qZA()()(),r.TgZ(72,"div",41)(73,"div",42)(74,"label",76),r._uU(75,"Notas Adicionales"),r.qZA(),r.TgZ(76,"input",77),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw(2);return r.KtG(s.invoice.notas=o)}),r.qZA()()(),r.TgZ(77,"div",41)(78,"div",42)(79,"label",78),r._uU(80,"Estado de la factura *"),r.qZA(),r.TgZ(81,"select",79),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw(2);return r.KtG(s.invoice.status=o)}),r.TgZ(82,"option",80),r._uU(83," Pendiente "),r.qZA(),r.TgZ(84,"option",80),r._uU(85," Aprobada "),r.qZA(),r.TgZ(86,"option",80),r._uU(87," Pagada "),r.qZA(),r.TgZ(88,"option",80),r._uU(89," Anulada "),r.qZA()(),r._UZ(90,"br"),r.YNc(91,une,2,0,"div",55),r.qZA()()()(),r.TgZ(92,"button",81),r.NdJ("click",function(){r.CHM(e);const o=r.oxw(2);return r.KtG(o.saveInvoice())}),r._uU(93,"Enviar"),r.qZA()()(),r._UZ(94,"br")(95,"br"),r.qZA()()}if(2&n){const e=r.MAs(12),i=r.MAs(20),o=r.MAs(34),s=r.oxw(2);r.xp6(6),r.Oqu(s.strtitle),r.xp6(13),r.Q6J("ngModel",s.invoice.numeroFactura),r.xp6(2),r.Q6J("ngIf",i.invalid&&(i.dirty||i.touched)),r.xp6(8),r.Q6J("matDatepicker",o)("ngModel",s.invoice.fechaEmision),r.xp6(3),r.Q6J("for",o),r.xp6(7),r.Q6J("ngModel",s.invoice.subtotal),r.xp6(5),r.Q6J("ngModel",s.invoice.impuestos),r.xp6(5),r.Q6J("ngModel",s.invoice.montoTotal),r.xp6(5),r.Q6J("ngModel",s.invoice.paymentMethod),r.xp6(3),r.Q6J("ngForOf",s.options),r.xp6(5),r.Q6J("ngModel",s.invoice.nombreProyecto),r.xp6(5),r.Q6J("ngModel",s.invoice.nombreCliente),r.xp6(3),r.Q6J("ngForOf",s.usersList),r.xp6(1),r.Q6J("ngModel",s.invoice.client_id),r.xp6(5),r.Q6J("ngModel",s.invoice.notas),r.xp6(5),r.Q6J("ngModel",s.invoice.status),r.xp6(10),r.Q6J("ngIf",i.invalid&&(i.dirty||i.touched)),r.xp6(1),r.Q6J("disabled",!e.form.valid)}}function hne(n,t){1&n&&(r.TgZ(0,"span",84),r._UZ(1,"i",85),r._uU(2," Agregar"),r.qZA())}function fne(n,t){1&n&&(r.TgZ(0,"span",84),r._UZ(1,"i",86),r.qZA())}function pne(n,t){1&n&&(r.TgZ(0,"th",87),r._uU(1,"ID "),r.qZA())}function mne(n,t){if(1&n&&(r.TgZ(0,"td",88),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij("",e.invoice_id," ")}}function gne(n,t){1&n&&(r.TgZ(0,"th",87),r._uU(1,"FACTURA "),r.qZA())}function _ne(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"td",89),r.NdJ("click",function(){const s=r.CHM(e).$implicit,c=r.oxw(2);return r.KtG(c.viewRecod(s))}),r._uU(1),r.qZA()}if(2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.numeroFactura," ")}}function vne(n,t){1&n&&(r.TgZ(0,"th",87),r._uU(1," METODO PAGO "),r.qZA())}function yne(n,t){if(1&n&&(r.TgZ(0,"td",88),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.paymentMethod," ")}}function bne(n,t){1&n&&(r.TgZ(0,"th",87),r._uU(1," FECHA EMISION "),r.qZA())}function wne(n,t){if(1&n&&(r.TgZ(0,"td",88),r._uU(1),r.qZA()),2&n){const e=t.$implicit,i=r.oxw(2);r.xp6(1),r.hij(" ",i.formatFecha(e.fechaEmision)," ")}}function Cne(n,t){1&n&&(r.TgZ(0,"th",87),r._uU(1," SUBTOTAL "),r.qZA())}function xne(n,t){if(1&n&&(r.TgZ(0,"td",88),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.subtotal," ")}}function Dne(n,t){1&n&&(r.TgZ(0,"th",87),r._uU(1," IMPUESTOS "),r.qZA())}function Ene(n,t){if(1&n&&(r.TgZ(0,"td",88),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.impuestos," ")}}function Tne(n,t){1&n&&(r.TgZ(0,"th",87),r._uU(1," MONTO TOTAL"),r.qZA())}function Ane(n,t){if(1&n&&(r.TgZ(0,"td",88),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.montoTotal," ")}}function Ine(n,t){1&n&&(r.TgZ(0,"th",87),r._uU(1," PROYECTOL"),r.qZA())}function Sne(n,t){if(1&n&&(r.TgZ(0,"td",88),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.nombreProyecto," ")}}function Mne(n,t){1&n&&(r.TgZ(0,"th",87),r._uU(1," STATUS "),r.qZA())}function kne(n,t){if(1&n&&(r.TgZ(0,"td",88),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.status," ")}}function Rne(n,t){1&n&&r._UZ(0,"tr",90)}function One(n,t){1&n&&r._UZ(0,"tr",91)}function Pne(n,t){1&n&&(r.TgZ(0,"tr",92)(1,"td",93),r._uU(2,"No hay datos que coincidan con la busqueda"),r.qZA()())}function Nne(n,t){1&n&&(r.TgZ(0,"th",94),r._uU(1,"OPC"),r.qZA())}function Fne(n,t){1&n&&(r.ynx(0),r._UZ(1,"i",102),r.BQk())}function Lne(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"i",103),r.NdJ("click",function(){r.CHM(e);const o=r.oxw().$implicit,s=r.oxw(2);return r.KtG(s.deleteConfirmed(o))}),r.qZA(),r.TgZ(1,"i",104),r.NdJ("click",function(){r.CHM(e);const o=r.oxw().$implicit,s=r.oxw(2);return o.confirmDelete=!1,r.KtG(s.toggleConfirmDelete(o))}),r.qZA()}}function Une(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"td",95)(1,"button",96),r.NdJ("click",function(){const s=r.CHM(e).$implicit,c=r.oxw(2);return r.KtG(c.editInvoice(s))}),r._UZ(2,"i",97),r.qZA(),r.TgZ(3,"div",98)(4,"button",99),r.NdJ("click",function(){const s=r.CHM(e).$implicit,c=r.oxw(2);return r.KtG(c.toggleConfirmDelete(s))}),r.YNc(5,Fne,2,0,"ng-container",100),r.qZA(),r.YNc(6,Lne,2,0,"ng-template",null,101,r.W1O),r.qZA()()}if(2&n){const e=t.$implicit,i=r.MAs(7);r.xp6(5),r.Q6J("ngIf",!e.confirmDelete)("ngIfElse",i)}}const Vne=function(){return[10,25,50]};function Zne(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.YNc(1,sne,65,9,"div",1),r.YNc(2,dne,96,19,"div",0),r.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),r.NdJ("click",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.moForm())}),r.YNc(9,hne,3,0,"span",8),r.YNc(10,fne,2,0,"span",8),r.qZA()()()(),r.TgZ(11,"div",4)(12,"div",9)(13,"input",10,11),r.NdJ("keyup",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.applyFilter(o))}),r.qZA()()()(),r.TgZ(15,"table",12),r.ynx(16,13),r.YNc(17,pne,2,0,"th",14),r.YNc(18,mne,2,1,"td",15),r.BQk(),r.ynx(19,16),r.YNc(20,gne,2,0,"th",14),r.YNc(21,_ne,2,1,"td",17),r.BQk(),r.ynx(22,18),r.YNc(23,vne,2,0,"th",14),r.YNc(24,yne,2,1,"td",15),r.BQk(),r.ynx(25,19),r.YNc(26,bne,2,0,"th",14),r.YNc(27,wne,2,1,"td",15),r.BQk(),r.ynx(28,20),r.YNc(29,Cne,2,0,"th",14),r.YNc(30,xne,2,1,"td",15),r.BQk(),r.ynx(31,21),r.YNc(32,Dne,2,0,"th",14),r.YNc(33,Ene,2,1,"td",15),r.BQk(),r.ynx(34,22),r.YNc(35,Tne,2,0,"th",14),r.YNc(36,Ane,2,1,"td",15),r.BQk(),r.ynx(37,23),r.YNc(38,Ine,2,0,"th",14),r.YNc(39,Sne,2,1,"td",15),r.BQk(),r.ynx(40,24),r.YNc(41,Mne,2,0,"th",14),r.YNc(42,kne,2,1,"td",15),r.BQk(),r.YNc(43,Rne,1,0,"tr",25),r.YNc(44,One,1,0,"tr",26),r.YNc(45,Pne,3,0,"tr",27),r.ynx(46,28),r.YNc(47,Nne,2,0,"th",29),r.YNc(48,Une,8,2,"td",30),r.BQk(),r.qZA(),r.TgZ(49,"mat-paginator",31,32),r._uU(51,' [intl]="customPaginatorIntl" '),r.qZA()()()}if(2&n){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",e.mostrarViewForm),r.xp6(1),r.Q6J("ngIf",e.mostrarForm),r.xp6(7),r.Q6J("ngIf",!e.mostrarForm),r.xp6(1),r.Q6J("ngIf",e.mostrarForm),r.xp6(5),r.Q6J("dataSource",e.dataSource),r.xp6(28),r.Q6J("matHeaderRowDef",e.displayedColumns),r.xp6(1),r.Q6J("matRowDefColumns",e.displayedColumns),r.xp6(5),r.Q6J("pageSizeOptions",r.DdM(8,Vne))}}let Bne=(()=>{class n{constructor(e,i,o,s,c){this.router=e,this.userService=i,this.loginService=o,this.invoiceService=s,this.alertService=c,this.currentDate=new Date,this.invoice=new HL,this.edditted=!1,this.mostrarForm=!1,this.mostrarViewForm=!1,this.currentUserEmail=null,this.strtitle="Agregar Factura",this.usersList=[],this.usersList2=[],this.options=["PayPal","Payoneer","Transferencia $"],this.editing=!1,this.currentIndex=-1,this.title="",this.displayframe=!1,this.displayedColumns=["invoice_id","numeroFactura","paymentMethod","fechaEmision","subtotal","impuestos","montoTotal","nombreProyecto","status","Opc"]}ngOnInit(){this.retrieveInvoices(),this.paginatior&&(this.paginatior._intl.itemsPerPageLabel="Elementos por p\xe1gina",this.paginatior._intl.firstPageLabel="Primera P\xe1gina",this.paginatior._intl.lastPageLabel="\xdaltima P\xe1gina",this.paginatior._intl.nextPageLabel="Siguiente",this.paginatior._intl.previousPageLabel="Anterior",this.paginatior._intl.getRangeLabel=(e,i,o)=>{if(0===o||0===i)return`0 de ${o}`;const s=e*i;return`${s+1} - ${s<(o=Math.max(o,0))?Math.min(s+i,o):s+i} de ${o}`}),this.userService.getperType("Profesor").valueChanges().subscribe(e=>{this.usersList=e}),this.userService.getperType("Cliente").valueChanges().subscribe(e=>{this.usersList2=e}),this.loginService.getUserObservable().subscribe(e=>{e&&this.loginService.getUserTypeObservable(e.uid).subscribe(i=>{this.displayframeOpt(i)})})}displayframeOpt(e){e&&("Admin"==e||"Asistente"==e?this.displayframe=!0:this.router.navigate(["/main"]))}comprobarfecha(e){return e instanceof Date?e:this.timestampConvert(e)}editInvoice(e){this.editing=!0,this.invoice=e,this.invoice.fechaEmision=this.comprobarfecha(e.fechaEmision),this.mostrarForm=!0,this.mostrarViewForm=!1,this.strtitle="Moificar Factura"}saveInvoice(){var e=this;return(0,de.Z)(function*(){if(e.loginService.user$.subscribe(i=>{e.currentUserEmail=i?i.email:null}),e.editing)try{e.invoice.lastUpdate=e.currentDate,e.invoice.lastUpdateUser=null!=e.currentUserEmail?e.currentUserEmail:"",yield e.invoiceService.update(e.invoice),e.edditted=!0,e.doSomething("update","La factura se ha modificado correctamente."),e.mostrarForm=!1}catch(i){console.error("Error al actualizar el factura:",i)}else e.invoice.registration_date=e.currentDate,e.invoice.lastUpdate=e.currentDate,e.invoice.lastUpdateUser=null!=e.currentUserEmail?e.currentUserEmail:"",e.invoice.status="Pendiente",e.strtitle="Agregar Factura",e.invoiceService.create(e.invoice).then(()=>{console.log("\xa1Se ha enviado con \xe9xito!"),e.mostrarForm=!1,e.doSomething("create","La factura se ha creado correctamente.")})})()}newInvoice(){this.edditted=!1,this.invoice=new HL,this.editing=!1,this.invoice.uid="",this.strtitle="Agregar Factura"}refreshList(){this.currentInvoice=void 0,this.currentIndex=-1,this.retrieveInvoices()}retrieveInvoices(){this.invoiceService.getAll().snapshotChanges().pipe((0,Ke.U)(e=>e.map(i=>({id:i.payload.doc.id,...i.payload.doc.data()})))).subscribe(e=>{this.invoices=e,this.dataSource=new zh(this.invoices),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginatior})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}setActiveInvoice(e,i){this.currentInvoice=e,this.currentIndex=i}removeUsr(e){var i=this;return(0,de.Z)(function*(){i.loginService.user$.subscribe(o=>{i.currentUserEmail=o?o.email:null}),i.currentUserEmail=null!=i.currentUserEmail?i.currentUserEmail:"",yield i.invoiceService.delete(e,i.currentUserEmail.toString(),i.currentDate),i.doSomething("delete","La factura se ha eliminado correctamente."),i.mostrarForm=!1})()}toggleConfirmDelete(e){void 0===e.confirmDelete&&(e.confirmDelete=!1),e.confirmDelete=!e.confirmDelete}deleteConfirmed(e){this.removeUsr(e.uid)}viewRecod(e){this.invoice=e,this.mostrarForm=!1,this.mostrarViewForm=!0}closeview(){this.mostrarForm=!1,this.mostrarViewForm=!1}moForm(){this.mostrarForm=!this.mostrarForm,this.mostrarViewForm=!1,this.strtitle="Agregar Factura",this.currentIndex=-1,this.editing=!1,this.currentInvoice=void 0,this.invoice=new HL}validarEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}doSomething(e,i){this.alertService.ShowAlert(e,i,3e3)}formatFecha(e){if(e&&"function"==typeof e.toDate){const i=e.toDate();return`${i.getDate()}/${i.getMonth()+1}/${i.getFullYear()}`}return e instanceof Date?`${e.getDate()}/${e.getMonth()+1}/${e.getFullYear()}`:""}timestampConvert(e){let i=new Date(1e3*e.seconds);return i.getMonth(),i.getFullYear(),i.getDate(),i}updateClienteId(e){const i=e.target.value;this.invoice.client_id=i;const o=this.usersList.find(s=>s.uid===i);this.invoice.nombreCliente=o?o.name+" "+o.lastname:""}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(a),r.Y36(Zh),r.Y36(Yr),r.Y36(one),r.Y36($h))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-invoices"]],viewQuery:function(e,i){if(1&e&&(r.Gf(ql,7),r.Gf(Ja,5)),2&e){let o;r.iGM(o=r.CRH())&&(i.paginatior=o.first),r.iGM(o=r.CRH())&&(i.sort=o.first)}},decls:1,vars:1,consts:[[4,"ngIf"],["class","register-container",4,"ngIf"],[2,"width","100%","margin-left","10px","padding-right","10px","padding-top","5px","padding-bottom","50px"],[1,"row","panel-addh",2,"text-align","right"],[1,"col-sm-6","col-md-6","col-lg-6","col-xl-6",2,"text-align","left"],[2,"margin","10px"],[1,"row","panel-add"],[1,"col-sm-12","col-md-12","col-lg-12","col-xl-12",3,"click"],["style","text-decoration: none;color: #dc3545;","class","btn btn-link",4,"ngIf"],[1,"form-group",2,"padding-top","3px"],["matInput","","placeholder","Buscar factura",1,"form-control",2,"border-color","#dc3545","border-width","1px",3,"keyup"],["input",""],["mat-table","","matSort","",1,"table",3,"dataSource"],["matColumnDef","invoice_id"],["mat-sort-header","","class","mat-header-row","style","text-align: left;",4,"matHeaderCellDef"],["mat-cell","","class","mat-cell",4,"matCellDef"],["matColumnDef","numeroFactura"],["style","cursor: pointer; text-decoration:underline;","mat-cell","","class","mat-cell",3,"click",4,"matCellDef"],["matColumnDef","paymentMethod"],["matColumnDef","fechaEmision"],["matColumnDef","subtotal"],["matColumnDef","impuestos"],["matColumnDef","montoTotal"],["matColumnDef","nombreProyecto"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["matColumnDef","Opc"],["class","mat-header-row",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["showFirstLastButtons","",3,"pageSizeOptions"],["paginator",""],[1,"register-container"],[1,"row"],[1,"col-sm-6","col-md-6","col-lg-6","col-xl-6"],[2,"font-size","22px","font-weight","bold"],[1,"close-icon"],[1,"fas","fa-times",3,"click"],[1,"card"],[1,"card-body"],[1,"form-group"],[1,"mb-3"],["for","titulo",1,"label-generic"],[1,"form-control-static"],["for","bibliografia",1,"label-generic"],["for","carrera",1,"label-generic"],["for","especialidad",1,"label-generic"],["for","tema",1,"label-generic"],["for","universidad",1,"label-generic"],["for","entregas",1,"label-generic"],[1,"label-generic"],["invoiceForm","ngForm"],["type","text","id","titulo","required","","name","titulo",1,"form-control",3,"ngModel","ngModelChange"],["nameField","ngModel"],["class","text-danger",4,"ngIf"],["for","titulo","for","Fecha de Emisi\xf3n",1,"label-generic"],["appearance","outline",1,"custom-datepicker"],["matInput","","placeholder","Seleccionar fecha","id","fechaEmision","name","fechaEmision","required","",1,"form-control",3,"matDatepicker","ngModel","ngModelChange"],["matIconSuffix","",3,"for"],["picker",""],["for","subtotal",1,"label-generic"],["type","number","id","subtotal","required","","name","subtotal",1,"form-control",3,"ngModel","ngModelChange"],["for","impuestos",1,"label-generic"],["type","number","id","impuestos","required","","name","impuestos",1,"form-control",3,"ngModel","ngModelChange"],["for","montoTotal",1,"label-generic"],["type","number","id","montoTotal","required","","name","montoTotal",1,"form-control",3,"ngModel","ngModelChange"],["for","paymentMethod",1,"label-generic"],["id","paymentMethod","required","","name","paymentMethod",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","nombreProyecto",1,"label-generic"],["type","text","id","nombreProyecto","required","","name","nombreProyecto",1,"form-control",3,"ngModel","ngModelChange"],["for","nombreCliente",1,"label-generic"],["id","nombreCliente","required","","name","nombreCliente",1,"form-control",3,"ngModel","ngModelChange","change"],["type","hidden","name","cliente_id",3,"ngModel","ngModelChange"],["for","notas",1,"label-generic"],["id","notas","name","notas",1,"form-control",3,"ngModel","ngModelChange"],["for","status",1,"label-generic"],["id","status","required","","value","selected","name","status","required","",1,"form-control",3,"ngModel","ngModelChange"],["selected",""],["type","submit",1,"btn2",3,"disabled","click"],[1,"text-danger"],[3,"value"],[1,"btn","btn-link",2,"text-decoration","none","color","#dc3545"],[1,"fa","fa-solid","fa-circle-plus"],[1,"fa","fa-solid","fa-circle-minus"],["mat-sort-header","",1,"mat-header-row",2,"text-align","left"],["mat-cell","",1,"mat-cell"],["mat-cell","",1,"mat-cell",2,"cursor","pointer","text-decoration","underline",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","9",1,"mat-cell",2,"text-align","left"],[1,"mat-header-row"],["mat-cell",""],["data-toggle","tooltip","data-placement","top","title","Editar elemento",1,"btn","btn-light","btn-sm",3,"click"],["data-toggle","tooltip","data-placement","top","title","Editar elemento",1,"fa-solid","fa-pen"],[1,"btn-group"],["data-toggle","tooltip","data-placement","top","title","Eliminar elemento",1,"btn","btn-light","btn-sm",3,"click"],[4,"ngIf","ngIfElse"],["confirmIcon",""],["data-toggle","tooltip","data-placement","top","title","Eliminar elemento",1,"far","fa-trash-alt",2,"color","red"],["data-toggle","tooltip","data-placement","top","title","Confirmar eliminaci\xf3n",1,"fas","fa-check","facheckCustom",3,"click"],["data-toggle","tooltip","data-placement","top","title","Cancelar eliminaci\xf3n",1,"fas","fa-times","fatimesCustom",3,"click"]],template:function(e,i){1&e&&r.YNc(0,Zne,52,9,"div",0),2&e&&r.Q6J("ngIf",i.displayframe)},dependencies:[cr,Un,Il,Wd,ku,qi,Bf,Sc,vi,as,cs,ha,qr,Ja,I0,ql,O_,Em,P_,Tm,Dm,N_,Am,F_,L_,U_,KS,rL,oL,N0,ZL,xD,BL],styles:[".container[_ngcontent-%COMP%]{margin:0}.register-container[_ngcontent-%COMP%]{max-width:800px;padding:20px;border:1px solid #ccc;border-radius:5px}.btn2[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;border:none;padding:10px 20px;cursor:pointer;transition:background-color .3s;width:150px;border-radius:10px}.btn2[_ngcontent-%COMP%]:hover{background-color:#343a40}.btn2[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.submit-form[_ngcontent-%COMP%]{max-width:300px;margin:auto}.panel-add[_ngcontent-%COMP%]{max-width:200px;right:10px;border-color:#706c6c;background-color:#f2e9e9;box-shadow:0 2px 3px #0003;border-radius:10px;text-align:center;cursor:pointer}.panel-addh[_ngcontent-%COMP%]{border-color:#706c6c;background-color:#fff;border-radius:10px;text-align:center}.label-generic[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#161616}.mat-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.mat-header-row[_ngcontent-%COMP%]{background-color:#edf0f2e9;color:#dc3545;font-size:small}.mat-row[_ngcontent-%COMP%]:nth-child(even){background-color:#f9f9f9}.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{padding:10px;text-align:left;border-bottom:1px solid #c7c6c6}.mat-column-id[_ngcontent-%COMP%]{width:40px!important;text-align:left}.mat-column-name[_ngcontent-%COMP%]{width:220px!important;text-align:left}.mat-column-email[_ngcontent-%COMP%]{width:200px!important;text-align:left}.mat-column-country[_ngcontent-%COMP%], .mat-column-city[_ngcontent-%COMP%], .mat-column-tlf[_ngcontent-%COMP%], .mat-column-wapp[_ngcontent-%COMP%]{width:100px!important;text-align:left}.mat-column-state[_ngcontent-%COMP%]{text-align:left}.mat-column-Opc[_ngcontent-%COMP%]{width:100px!important;text-align:left}.custom-datepicker[_ngcontent-%COMP%]{border-width:0px}.close-icon[_ngcontent-%COMP%]{cursor:pointer;text-align:right}.close-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:red}.facheckCustom[_ngcontent-%COMP%]{margin-right:10px}.facheckCustom[_ngcontent-%COMP%]:hover{color:#31bb3c}.fatimesCustom[_ngcontent-%COMP%]{color:#fe6464}.fatimesCustom[_ngcontent-%COMP%]:hover{color:red}"]}),n})(),qne=(()=>{class n{constructor(e,i){this.userService=e,this.loginService=i,this.user=new Lb,this.userEmail=null,this.userSeudonimo=null}ngOnInit(){this.loginService.user$.subscribe(e=>{this.userEmail=e?e.email:null,null!=this.userEmail?this.userService.getusrbyEmail(this.userEmail.toString()).valueChanges().subscribe(i=>{i[0]&&(this.user=i[0])}):console.log("Error al recuperar los datos")})}closeview(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Zh),r.Y36(Yr))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-infor"]],decls:58,vars:9,consts:[[1,"register-container","bg-light","p-4","rounded"],[1,"row"],[1,"col-12"],[1,"text-center","fw-bold"],[1,"col-md-3"],[1,"image-container","d-flex","justify-content-center","align-items-center","border","rounded-circle","mx-auto","mb-3",2,"width","150px","height","150px"],[1,"m-0"],[1,"col-md-7"],[1,"table","table-bordered"],[2,"font-weight","bold"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),r._uU(4,"PERFIL DEL USUARIO"),r.qZA()()(),r.TgZ(5,"div",1)(6,"div",4)(7,"div",5)(8,"p",6),r._uU(9,"Sin Imagen"),r.qZA()()(),r.TgZ(10,"div",7)(11,"table",8)(12,"tbody")(13,"tr")(14,"th",9),r._uU(15,"Nombre"),r.qZA(),r.TgZ(16,"td"),r._uU(17),r.qZA()(),r.TgZ(18,"tr")(19,"th",9),r._uU(20,"Email"),r.qZA(),r.TgZ(21,"td"),r._uU(22),r.qZA()(),r.TgZ(23,"tr")(24,"th",9),r._uU(25,"Contrase\xf1a"),r.qZA(),r.TgZ(26,"td"),r._uU(27,"******"),r.qZA()(),r.TgZ(28,"tr")(29,"th",9),r._uU(30,"N\xfamero de Tel\xe9fono"),r.qZA(),r.TgZ(31,"td"),r._uU(32),r.qZA()(),r.TgZ(33,"tr")(34,"th",9),r._uU(35,"N\xfamero de WhatsApp"),r.qZA(),r.TgZ(36,"td"),r._uU(37),r.qZA()(),r.TgZ(38,"tr")(39,"th",9),r._uU(40,"Pa\xeds"),r.qZA(),r.TgZ(41,"td"),r._uU(42),r.qZA()(),r.TgZ(43,"tr")(44,"th",9),r._uU(45,"Ciudad"),r.qZA(),r.TgZ(46,"td"),r._uU(47),r.qZA()(),r.TgZ(48,"tr")(49,"th",9),r._uU(50,"Direcci\xf3n"),r.qZA(),r.TgZ(51,"td"),r._uU(52),r.qZA()(),r.TgZ(53,"tr")(54,"th",9),r._uU(55,"Tipo de Usuario"),r.qZA(),r.TgZ(56,"td"),r._uU(57),r.qZA()()()()()()()),2&e&&(r.xp6(17),r.AsE("",i.user.name," ",i.user.lastname,""),r.xp6(5),r.Oqu(i.user.email),r.xp6(10),r.Oqu(i.user.tlf),r.xp6(5),r.Oqu(i.user.wapp),r.xp6(5),r.Oqu(i.user.country),r.xp6(5),r.Oqu(i.user.city),r.xp6(5),r.Oqu(i.user.address),r.xp6(5),r.Oqu(i.user.user_type))}}),n})();function Hne(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",1)(1,"h1",2),r._uU(2,"Administraci\xf3n de Datos Maestros"),r.qZA(),r.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h3",7),r._uU(8,"Usuarios"),r.qZA()(),r.TgZ(9,"div",8)(10,"p"),r._uU(11,"Gestiona los datos de los usuarios."),r.qZA(),r.TgZ(12,"div",9)(13,"div",10)(14,"a",11),r.NdJ("click",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.irAModulo("user","DispForm"))}),r._uU(15,"Ver - Modificar"),r.qZA()()()()()(),r.TgZ(16,"div",4)(17,"div",5)(18,"div",6)(19,"h3",7),r._uU(20,"Pa\xedses y Ciudades"),r.qZA()(),r.TgZ(21,"div",8)(22,"p"),r._uU(23,"Gestiona los datos Regionales."),r.qZA(),r.TgZ(24,"div",9)(25,"div",12)(26,"a",11),r.NdJ("click",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.irAModulo("city","DispForm"))}),r._uU(27,"Ciudades"),r.qZA()(),r.TgZ(28,"div",12)(29,"a",11),r.NdJ("click",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.irAModulo("country","NewForm"))}),r._uU(30,"Pa\xedses"),r.qZA()()()()()(),r.TgZ(31,"div",4)(32,"div",5)(33,"div",6)(34,"h3",7),r._uU(35,"Roles"),r.qZA()(),r.TgZ(36,"div",8)(37,"p"),r._uU(38,"Gestiona los Permisos."),r.qZA(),r.TgZ(39,"div",9)(40,"div",10)(41,"a",11),r.NdJ("click",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.irAModulo("role","DispForm"))}),r._uU(42,"Agregar - Modificar"),r.qZA()()()()()()(),r.TgZ(43,"div",3)(44,"div",13)(45,"div",5)(46,"div",6)(47,"h3",7),r._uU(48,"Categor\xedas"),r.qZA()(),r.TgZ(49,"div",8)(50,"p"),r._uU(51,"Gestiona los datos de las categor\xedas."),r.qZA(),r.TgZ(52,"div",9)(53,"div",14)(54,"a",15),r._uU(55,"Ver"),r.qZA()(),r.TgZ(56,"div",14)(57,"a",15),r._uU(58,"Agregar"),r.qZA()(),r.TgZ(59,"div",14)(60,"a",15),r._uU(61,"Modificar"),r.qZA()()()()()()()()}}let jne=(()=>{class n{constructor(e,i){this.loginService=e,this.router=i,this.displayframe=!1}irAModulo(e,i){this.router.navigate([`/${e}`],{queryParams:{form:i}})}ngOnInit(){this.loginService.getUserObservable().subscribe(e=>{e&&this.loginService.getUserTypeObservable(e.uid).subscribe(i=>{this.displayframeOpt(i)})})}displayframeOpt(e){e&&("Admin"==e||"Asistente"==e?this.displayframe=!0:this.router.navigate(["/main"]))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Yr),r.Y36(a))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-settings"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"text-center"],[1,"row","mt-5"],[1,"col-md-4"],[1,"card"],[1,"card-header"],[2,"color","#dc3545"],[1,"card-body"],[1,"row","m-0","p-0"],[1,"col-lg-12","m-0","pr-1","pb-1"],[1,"btn2",3,"click"],[1,"col-lg-6","m-0","pr-1","pb-1"],[1,"col-md-6"],[1,"col-lg-4","m-0","pr-1","pb-1"],["href","#",1,"btn2"]],template:function(e,i){1&e&&r.YNc(0,Hne,62,0,"div",0),2&e&&r.Q6J("ngIf",i.displayframe)},dependencies:[Un],styles:[".grid-item[_ngcontent-%COMP%]{border:1px solid #d2d2d2;padding:20px;text-align:center;cursor:pointer;color:#dc3545;background-color:#edf0f2e9;transition:background-color .4s}.grid-item[_ngcontent-%COMP%]:hover{background-color:#d9dbde;color:#62121a}.btn2[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;border:none;padding:4px 8px;cursor:pointer;transition:background-color .3s;display:block;border-radius:7px;box-shadow:0 2px 4px #0000001a;font-size:14px;text-align:center}@media (min-width: 576px){.btn2[_ngcontent-%COMP%]{padding:6px 13px}}@media (min-width: 768px){.btn2[_ngcontent-%COMP%]{padding:8px 16px}}.btn2[_ngcontent-%COMP%]:hover{background-color:#343a40}.btn2[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}"]}),n})();class vM{constructor(){this.pais="",this.ciudad=""}}let EH=(()=>{class n{constructor(e){this.db=e,this.dbPath="/projects",this.lastId=1,this.projectsRef=e.collection(this.dbPath)}getAll(){return this.db.collection("projects",e=>e.where("state","==","Activo").where("status","==",!0).orderBy("project_id","asc"))}getAllC(e){return this.db.collection("projects",i=>i.where("state","==","Activo").where("client_id","==",e).where("status","==",!0).orderBy("project_id","asc"))}getAllP(e){return this.db.collection("projects",i=>i.where("state","==","Activo").where("tutor_id","==",e).where("status","==",!0).orderBy("project_id","asc"))}getNumberOfRecords(){return this.db.collection("projects").ref.get().then(e=>e.size)}getNextId(){var e=this;return(0,de.Z)(function*(){try{const i=yield e.getNumberOfRecords();e.lastId=i}catch(i){console.error("Error al obtener la cantidad de registros:",i)}e.lastId++})()}create(e,i){var o=this;return(0,de.Z)(function*(){try{yield o.getNextId();const s=o.lastId.toString();let c;e.project_id="THUBVE"+s,c=i||o.db.collection("projects").doc().ref.id,e.uid=c;const d={uid:e.uid,project_id:e.project_id,...void 0!==e.fecha_inicio?{fecha_inicio:e.fecha_inicio}:{},...void 0!==e.fecha_entrega1?{fecha_entrega1:e.fecha_entrega1}:{},...void 0!==e.fecha_entrega2?{fecha_entrega2:e.fecha_entrega2}:{},...void 0!==e.fecha_entrega3?{fecha_entrega3:e.fecha_entrega3}:{},...void 0!==e.fecha_entrega4?{fecha_entrega4:e.fecha_entrega4}:{},...Object.entries(e).filter(([p,_])=>void 0!==_&&"fecha_inicio"!==p&&"fecha_entrega1"!==p&&"fecha_entrega2"!==p&&"fecha_entrega3"!==p&&"fecha_entrega4"!==p).reduce((p,[_,b])=>({...p,[_]:b}),{})};yield o.db.collection("projects").doc(c).set(d)}catch(s){throw console.error("Error al crear el proyecto:",s),s}})()}update(e){return this.projectsRef.doc(e.uid).update(e)}delete(e,i,o){return this.projectsRef.doc(e).update({state:"Eliminado",status:!1,lastUpdate:o,lastUpdateUser:i})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Ka))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zne(n,t){if(1&n&&(r.TgZ(0,"p",40),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.hij(" ",e.project.client_email," ")}}function $ne(n,t){1&n&&(r.TgZ(0,"p",40),r._uU(1,"******"),r.qZA())}function Gne(n,t){if(1&n&&(r.TgZ(0,"p",40),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.hij(" ",e.project.client_whatsapp," ")}}function Yne(n,t){1&n&&(r.TgZ(0,"p",40),r._uU(1,"******"),r.qZA())}function Wne(n,t){if(1&n&&(r.TgZ(0,"p",40),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.hij(" ",e.project.presupuesto," ")}}function Kne(n,t){1&n&&(r.TgZ(0,"p",40),r._uU(1,"******"),r.qZA())}function Qne(n,t){if(1&n&&(r.TgZ(0,"tr")(1,"td",57)(2,"a",60),r._UZ(3,"img",61),r.qZA()(),r.TgZ(4,"td")(5,"a",60),r._uU(6),r.qZA()(),r.TgZ(7,"td",58),r._uU(8),r.qZA()()),2&n){const e=t.$implicit,i=r.oxw(2);r.xp6(2),r.Q6J("href",e.downloadURL,r.LSH),r.xp6(3),r.Q6J("href",e.downloadURL,r.LSH),r.xp6(1),r.Oqu(e.title),r.xp6(2),r.Oqu(i.formatFecha(e.uploadDate))}}function Jne(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",28)(1,"div",29)(2,"div",30)(3,"div")(4,"h3",31),r._uU(5),r.qZA()()(),r.TgZ(6,"div",30)(7,"div",32)(8,"i",33),r.NdJ("click",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.closeview())}),r.qZA()()()(),r.TgZ(9,"div",34)(10,"div",35),r._uU(11,"Datos del Cliente"),r.qZA(),r.TgZ(12,"div",36)(13,"div"),r._UZ(14,"h3",31),r.qZA(),r.TgZ(15,"div",37)(16,"div",38)(17,"label",39),r._uU(18,"Nombre"),r.qZA(),r.TgZ(19,"p",40),r._uU(20),r.qZA()()(),r.TgZ(21,"div",37)(22,"div",38)(23,"label",41),r._uU(24,"Email"),r.qZA(),r.YNc(25,zne,2,1,"p",42),r.YNc(26,$ne,2,0,"p",42),r.qZA()(),r.TgZ(27,"div",37)(28,"div",38)(29,"label",43),r._uU(30,"N\xfamero de WhatsApp"),r.qZA(),r.YNc(31,Gne,2,1,"p",42),r.YNc(32,Yne,2,0,"p",42),r.qZA()(),r.TgZ(33,"div",37)(34,"div",38)(35,"label",39),r._uU(36,"Pa\xeds"),r.qZA(),r.TgZ(37,"p",40),r._uU(38),r.qZA()()(),r.TgZ(39,"div",37)(40,"div",38)(41,"label",39),r._uU(42,"Ciudad"),r.qZA(),r.TgZ(43,"p",40),r._uU(44),r.qZA()()()()(),r.TgZ(45,"div",34)(46,"div",36)(47,"div",37)(48,"div",38)(49,"label",39),r._uU(50,"Profesor Asignado"),r.qZA(),r.TgZ(51,"p",40),r._uU(52),r.qZA()()()()(),r.TgZ(53,"div",34)(54,"div",35),r._uU(55,"Informaci\xf3n relevante"),r.qZA(),r.TgZ(56,"div",36)(57,"div",37)(58,"div",38)(59,"label",44),r._uU(60,"Titulo *"),r.qZA(),r.TgZ(61,"p",40),r._uU(62),r.qZA()()(),r.TgZ(63,"div",37)(64,"div",38)(65,"label",45),r._uU(66,"Descripcion"),r.qZA(),r.TgZ(67,"p",40),r._uU(68),r.qZA()()(),r.TgZ(69,"div")(70,"div",38)(71,"label",41),r._uU(72,"Bibliograf\xeda *"),r.qZA(),r.TgZ(73,"p",40),r._uU(74),r.qZA()()(),r.TgZ(75,"div",37)(76,"div",38)(77,"label",46),r._uU(78,"Carrera *"),r.qZA(),r.TgZ(79,"p",40),r._uU(80),r.qZA()()(),r.TgZ(81,"div",37)(82,"div",38)(83,"label",47),r._uU(84,"Especialidad"),r.qZA(),r.TgZ(85,"p",40),r._uU(86),r.qZA()()(),r.TgZ(87,"div",37)(88,"div",38)(89,"label",43),r._uU(90,"Tema"),r.qZA(),r.TgZ(91,"p",40),r._uU(92),r.qZA()()(),r.TgZ(93,"div",37)(94,"div",38)(95,"label",39),r._uU(96,"Universidad"),r.qZA(),r.TgZ(97,"p",40),r._uU(98),r.qZA()()(),r.TgZ(99,"div",37)(100,"div",38)(101,"label",48),r._uU(102,"Tipo de Letra"),r.qZA(),r.TgZ(103,"p",40),r._uU(104),r.qZA()()(),r.TgZ(105,"div",37)(106,"div",38)(107,"label",49),r._uU(108,"Tama\xf1o de Letra"),r.qZA(),r.TgZ(109,"p",40),r._uU(110),r.qZA()()(),r.TgZ(111,"div",37)(112,"div",38)(113,"label",50),r._uU(114,"Interlineado"),r.qZA(),r.TgZ(115,"p",40),r._uU(116),r.qZA()()(),r.TgZ(117,"div",37)(118,"div",38)(119,"label",51),r._uU(120,"N\xfamero de p\xe1ginas"),r.qZA(),r.TgZ(121,"p",40),r._uU(122),r.qZA()()(),r.TgZ(123,"div",37)(124,"div",38)(125,"label",52),r._uU(126,"N\xfamero de entregas"),r.qZA(),r.TgZ(127,"p",40),r._uU(128),r.qZA()()(),r.TgZ(129,"div",37)(130,"div",38)(131,"label",53),r._uU(132,"Fecha de inicio"),r.qZA(),r.TgZ(133,"p",40),r._uU(134),r.qZA()()(),r.TgZ(135,"div",37)(136,"div",38)(137,"label",53),r._uU(138,"Fecha de entrega 1"),r.qZA(),r.TgZ(139,"p",40),r._uU(140),r.qZA()()(),r.TgZ(141,"div",37)(142,"div",38)(143,"label",53),r._uU(144,"Fecha de entrega 2"),r.qZA(),r.TgZ(145,"p",40),r._uU(146),r.qZA()()(),r.TgZ(147,"div",37)(148,"div",38)(149,"label",53),r._uU(150,"Fecha de entrega 3"),r.qZA(),r.TgZ(151,"p",40),r._uU(152),r.qZA()()(),r.TgZ(153,"div",37)(154,"div",38)(155,"label",53),r._uU(156,"Fecha de entrega 4"),r.qZA(),r.TgZ(157,"p",40),r._uU(158),r.qZA()()(),r.TgZ(159,"div",37)(160,"div",38)(161,"label",54),r._uU(162,"Presupuesto"),r.qZA(),r.YNc(163,Wne,2,1,"p",42),r.YNc(164,Kne,2,0,"p",42),r.qZA()()()(),r.TgZ(165,"div",34)(166,"div",36)(167,"table",55)(168,"thead")(169,"tr")(170,"th",56),r._uU(171,"Documentos del proyecto"),r.qZA()(),r.TgZ(172,"tr"),r._UZ(173,"th",57),r.TgZ(174,"th"),r._uU(175,"T\xedtulo"),r.qZA(),r.TgZ(176,"th",58),r._uU(177,"Creado"),r.qZA()()(),r.TgZ(178,"tbody"),r.YNc(179,Qne,9,4,"tr",59),r.qZA()()()()()}if(2&n){const e=r.oxw();r.xp6(5),r.hij(" Proyecto ",e.project.project_id," "),r.xp6(15),r.Oqu(e.project.client_name),r.xp6(5),r.Q6J("ngIf",e.lblDatDisplay),r.xp6(1),r.Q6J("ngIf",!e.lblDatDisplay),r.xp6(5),r.Q6J("ngIf",e.lblDatDisplay),r.xp6(1),r.Q6J("ngIf",!e.lblDatDisplay),r.xp6(6),r.Oqu(e.project.pais),r.xp6(6),r.Oqu(e.project.ciudad),r.xp6(8),r.Oqu(e.project.tutor_name),r.xp6(10),r.Oqu(e.project.titulo),r.xp6(6),r.Oqu(e.project.descripcion),r.xp6(6),r.Oqu(e.project.bibliografia),r.xp6(6),r.Oqu(e.project.carrera),r.xp6(6),r.Oqu(e.project.especialidad),r.xp6(6),r.Oqu(e.project.tema),r.xp6(6),r.Oqu(e.project.universidad),r.xp6(6),r.Oqu(e.project.tipofuente),r.xp6(6),r.Oqu(e.project.tamanofuente),r.xp6(6),r.Oqu(e.project.interlineado),r.xp6(6),r.Oqu(e.project.numero_paginas),r.xp6(6),r.Oqu(e.project.entregas),r.xp6(6),r.hij(" ",e.formatFecha(e.project.fecha_inicio)," "),r.xp6(6),r.hij(" ",e.formatFecha(e.project.fecha_entrega1)," "),r.xp6(6),r.hij(" ",e.formatFecha(e.project.fecha_entrega2)," "),r.xp6(6),r.hij(" ",e.formatFecha(e.project.fecha_entrega3)," "),r.xp6(6),r.hij(" ",e.formatFecha(e.project.fecha_entrega4)," "),r.xp6(5),r.Q6J("ngIf",e.lblDatDisplay),r.xp6(1),r.Q6J("ngIf",!e.lblDatDisplay),r.xp6(15),r.Q6J("ngForOf",e.alldocuments)}}function Xne(n,t){if(1&n&&(r.TgZ(0,"option",110),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.Q6J("value",e.uid),r.xp6(1),r.AsE(" ",e.name," ",e.lastname," ")}}function eie(n,t){1&n&&(r.TgZ(0,"div")(1,"small"),r._uU(2,"Se requiere un email v\xe1lido"),r.qZA()())}function tie(n,t){if(1&n&&(r.TgZ(0,"div",111),r.YNc(1,eie,3,0,"div",1),r.qZA()),2&n){r.oxw();const e=r.MAs(31);r.xp6(1),r.Q6J("ngIf",e.errors)}}function nie(n,t){if(1&n&&(r.TgZ(0,"option",110),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.Q6J("value",e.countryName),r.xp6(1),r.hij(" ",e.countryCode+" - "+e.countryName," ")}}function iie(n,t){if(1&n&&(r.TgZ(0,"option",110),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.Q6J("value",e.cityName),r.xp6(1),r.hij(" ",e.cityName," ")}}function rie(n,t){if(1&n&&(r.TgZ(0,"option",110),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.Q6J("value",e.uid),r.xp6(1),r.AsE(" ",e.name," ",e.lastname," ")}}function oie(n,t){1&n&&(r.TgZ(0,"div",111),r._uU(1," El t\xedtulo es requerido y debe comenzar con may\xfascula. "),r.qZA())}function sie(n,t){if(1&n&&(r.TgZ(0,"option",110),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.Q6J("value",e),r.xp6(1),r.hij(" ",e," ")}}function aie(n,t){1&n&&(r.TgZ(0,"div",111),r._uU(1," Se requiere carrera "),r.qZA())}function lie(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div")(1,"div",28)(2,"div",29)(3,"div",30)(4,"div")(5,"h3",31),r._uU(6),r.qZA()()(),r.TgZ(7,"div",30)(8,"div",32)(9,"i",33),r.NdJ("click",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.closeview())}),r.qZA()()()(),r.TgZ(10,"div")(11,"form",null,62)(13,"div",34)(14,"div",35),r._uU(15,"Datos del Cliente"),r.qZA(),r.TgZ(16,"div",36)(17,"div",37)(18,"div",38)(19,"label",63),r._uU(20,"Nombre *"),r.qZA(),r.TgZ(21,"select",64,65),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.project.client_id=o)})("change",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.onChangeClient(o))}),r.TgZ(23,"option",66),r._uU(24,"Seleccionar opci\xf3n"),r.qZA(),r.YNc(25,Xne,2,3,"option",67),r.qZA()()(),r.TgZ(26,"div",38)(27,"div",37)(28,"label",68),r._uU(29,"Email"),r.qZA(),r.TgZ(30,"input",69,70),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.project.client_email=o)}),r.qZA(),r.YNc(32,tie,2,1,"div",71),r.qZA()(),r.TgZ(33,"div",38)(34,"div",37)(35,"label",72),r._uU(36,"N\xfamero de WhatsApp"),r.qZA(),r.TgZ(37,"input",73),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.project.client_whatsapp=o)}),r.qZA()()(),r.TgZ(38,"div",37)(39,"div",38)(40,"label",74),r._uU(41,"Pa\xeds"),r.qZA(),r.TgZ(42,"select",75,76),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.project.pais=o)})("change",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.getCity(o))}),r.TgZ(44,"option",66),r._uU(45,"Seleccionar opci\xf3n"),r.qZA(),r.YNc(46,nie,2,2,"option",67),r.qZA()()(),r.TgZ(47,"div",37)(48,"div",38)(49,"label",77),r._uU(50,"Ciudad"),r.qZA(),r.TgZ(51,"select",78,79),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.project.ciudad=o)}),r.TgZ(53,"option",66),r._uU(54,"Seleccionar opci\xf3n"),r.qZA(),r.YNc(55,iie,2,2,"option",67),r.qZA()()()()(),r.TgZ(56,"div",34)(57,"div",36)(58,"div",37)(59,"div",38)(60,"label",80),r._uU(61,"Profesor Asignado"),r.qZA(),r.TgZ(62,"select",81,82),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.project.tutor_id=o)})("change",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.onChangeTutor(o))}),r.TgZ(64,"option",66),r._uU(65,"Seleccionar opci\xf3n"),r.qZA(),r.YNc(66,rie,2,3,"option",67),r.qZA()()()()(),r.TgZ(67,"div",34)(68,"div",35),r._uU(69,"Informaci\xf3n relevante"),r.qZA(),r.TgZ(70,"div",36)(71,"div",37)(72,"div",38)(73,"label",44),r._uU(74,"Titulo *"),r.qZA(),r.TgZ(75,"input",83,84),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.project.titulo=o)}),r.qZA(),r.YNc(77,oie,2,0,"div",71),r.qZA()(),r.TgZ(78,"div",37)(79,"div",38)(80,"label",45),r._uU(81,"Descripci\xf3n"),r.qZA(),r.TgZ(82,"textarea",85),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.project.descripcion=o)}),r._uU(83,"                "),r.qZA()(),r._UZ(84,"br"),r.qZA(),r.TgZ(85,"div",37)(86,"div",38)(87,"label",41),r._uU(88,"Bibliograf\xeda *"),r.qZA(),r.TgZ(89,"select",86),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.project.bibliografia=o)}),r.TgZ(90,"option",66),r._uU(91,"Seleccionar opci\xf3n"),r.qZA(),r.YNc(92,sie,2,2,"option",67),r.qZA()()(),r.TgZ(93,"div",37)(94,"div",38)(95,"label",46),r._uU(96,"Carrera *"),r.qZA(),r.TgZ(97,"input",87),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.project.carrera=o)}),r.qZA(),r.YNc(98,aie,2,0,"div",71),r.qZA()(),r.TgZ(99,"div",37)(100,"div",38)(101,"label",47),r._uU(102,"Especialidad"),r.qZA(),r.TgZ(103,"input",88),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.project.especialidad=o)}),r.qZA()()(),r.TgZ(104,"div",37)(105,"div",38)(106,"label",43),r._uU(107,"Tema"),r.qZA(),r.TgZ(108,"input",89),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.project.tema=o)}),r.qZA()()(),r.TgZ(109,"div",37)(110,"div",38)(111,"label",39),r._uU(112,"Universidad"),r.qZA(),r.TgZ(113,"input",90),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.project.universidad=o)}),r.qZA()()(),r.TgZ(114,"div",38)(115,"div",37)(116,"label",49),r._uU(117,"Tipo de Letra"),r.qZA(),r.TgZ(118,"input",91),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.project.tipofuente=o)}),r.qZA()()(),r.TgZ(119,"div",38)(120,"div",37)(121,"label",48),r._uU(122,"Tama\xf1o de Letra"),r.qZA(),r.TgZ(123,"input",92),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.project.tamanofuente=o)}),r.qZA()()(),r.TgZ(124,"div",38)(125,"div",37)(126,"label",50),r._uU(127,"Interlineado"),r.qZA(),r.TgZ(128,"input",93),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.project.interlineado=o)}),r.qZA()()(),r.TgZ(129,"div",37)(130,"div",38)(131,"label",51),r._uU(132,"N\xfamero de p\xe1ginas"),r.qZA(),r.TgZ(133,"input",94),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.project.numero_paginas=o)}),r.qZA()()(),r.TgZ(134,"div",37)(135,"div",38)(136,"label",52),r._uU(137,"N\xfamero de entregas"),r.qZA(),r.TgZ(138,"input",95),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.project.entregas=o)}),r.qZA()()(),r.TgZ(139,"div",37)(140,"div",38)(141,"mat-form-field",96)(142,"mat-label"),r._uU(143,"Fecha de inicio*"),r.qZA(),r.TgZ(144,"input",97),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.project.fecha_inicio=o)}),r.qZA(),r._UZ(145,"mat-datepicker-toggle",98)(146,"mat-datepicker",null,99),r.qZA()()(),r.TgZ(148,"div",37)(149,"div",38)(150,"mat-form-field",96)(151,"mat-label"),r._uU(152,"Fecha de entrega 1"),r.qZA(),r.TgZ(153,"input",100),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.project.fecha_entrega1=o)}),r.qZA(),r._UZ(154,"mat-datepicker-toggle",98)(155,"mat-datepicker",null,101),r.qZA()()(),r.TgZ(157,"div",37)(158,"div",38)(159,"mat-form-field",96)(160,"mat-label"),r._uU(161,"Fecha de entrega 2"),r.qZA(),r.TgZ(162,"input",102),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.project.fecha_entrega2=o)}),r.qZA(),r._UZ(163,"mat-datepicker-toggle",98)(164,"mat-datepicker",null,103),r.qZA()()(),r.TgZ(166,"div",37)(167,"div",38)(168,"mat-form-field",96)(169,"mat-label"),r._uU(170,"Fecha de entrega 3"),r.qZA(),r.TgZ(171,"input",104),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.project.fecha_entrega3=o)}),r.qZA(),r._UZ(172,"mat-datepicker-toggle",98)(173,"mat-datepicker",null,105),r.qZA()()(),r.TgZ(175,"div",37)(176,"div",38)(177,"mat-form-field",96)(178,"mat-label"),r._uU(179,"Fecha de entrega 4"),r.qZA(),r.TgZ(180,"input",106),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.project.fecha_entrega4=o)}),r.qZA(),r._UZ(181,"mat-datepicker-toggle",98)(182,"mat-datepicker",null,107),r.qZA()()(),r.TgZ(184,"div",37)(185,"div",38)(186,"label",54),r._uU(187,"Presupuesto"),r.qZA(),r.TgZ(188,"input",108),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.project.presupuesto=o)}),r.qZA()()()()(),r.TgZ(189,"button",109),r.NdJ("click",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.saveProject())}),r._uU(190," Enviar "),r.qZA()()(),r._UZ(191,"br")(192,"br"),r.qZA()()}if(2&n){const e=r.MAs(12),i=r.MAs(31),o=r.MAs(76),s=r.MAs(147),c=r.MAs(156),d=r.MAs(165),p=r.MAs(174),_=r.MAs(183),b=r.oxw();r.xp6(6),r.Oqu(b.strtitle),r.xp6(15),r.Q6J("ngModel",b.project.client_id),r.xp6(4),r.Q6J("ngForOf",b.usersList),r.xp6(5),r.Q6J("ngModel",b.project.client_email),r.xp6(2),r.Q6J("ngIf",i.invalid&&(i.dirty||i.touched)),r.xp6(5),r.Q6J("ngModel",b.project.client_whatsapp),r.xp6(5),r.Q6J("ngModel",b.project.pais),r.xp6(4),r.Q6J("ngForOf",b.countryList),r.xp6(5),r.Q6J("ngModel",b.project.ciudad),r.xp6(4),r.Q6J("ngForOf",b.cityList),r.xp6(7),r.Q6J("ngModel",b.project.tutor_id),r.xp6(4),r.Q6J("ngForOf",b.usersList2),r.xp6(9),r.Q6J("ngModel",b.project.titulo),r.xp6(2),r.Q6J("ngIf",o.invalid&&(o.dirty||o.touched)),r.xp6(5),r.Q6J("ngModel",b.project.descripcion),r.xp6(7),r.Q6J("ngModel",b.project.bibliografia),r.xp6(3),r.Q6J("ngForOf",b.options),r.xp6(5),r.Q6J("ngModel",b.project.carrera),r.xp6(1),r.Q6J("ngIf",o.invalid&&(o.dirty||o.touched)),r.xp6(5),r.Q6J("ngModel",b.project.especialidad),r.xp6(5),r.Q6J("ngModel",b.project.tema),r.xp6(5),r.Q6J("ngModel",b.project.universidad),r.xp6(5),r.Q6J("ngModel",b.project.tipofuente),r.xp6(5),r.Q6J("ngModel",b.project.tamanofuente),r.xp6(5),r.Q6J("ngModel",b.project.interlineado),r.xp6(5),r.Q6J("ngModel",b.project.numero_paginas),r.xp6(5),r.Q6J("ngModel",b.project.entregas),r.xp6(6),r.Q6J("matDatepicker",s)("ngModel",b.project.fecha_inicio),r.xp6(1),r.Q6J("for",s),r.xp6(8),r.Q6J("matDatepicker",c)("ngModel",b.project.fecha_entrega1),r.xp6(1),r.Q6J("for",c),r.xp6(8),r.Q6J("matDatepicker",d)("ngModel",b.project.fecha_entrega2),r.xp6(1),r.Q6J("for",d),r.xp6(8),r.Q6J("matDatepicker",p)("ngModel",b.project.fecha_entrega3),r.xp6(1),r.Q6J("for",p),r.xp6(8),r.Q6J("matDatepicker",_)("ngModel",b.project.fecha_entrega4),r.xp6(1),r.Q6J("for",_),r.xp6(7),r.Q6J("ngModel",b.project.presupuesto),r.xp6(1),r.Q6J("disabled",!e.form.valid)}}function cie(n,t){1&n&&(r.TgZ(0,"span",115),r._UZ(1,"i",116),r._uU(2," Agregar"),r.qZA())}function uie(n,t){1&n&&(r.TgZ(0,"span",115),r._UZ(1,"i",117),r.qZA())}function die(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",112)(1,"div",113),r.NdJ("click",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.moForm())}),r.YNc(2,cie,3,0,"span",114),r.YNc(3,uie,2,0,"span",114),r.qZA()()}if(2&n){const e=r.oxw();r.xp6(2),r.Q6J("ngIf",!e.mostrarForm),r.xp6(1),r.Q6J("ngIf",e.mostrarForm)}}function hie(n,t){1&n&&(r.TgZ(0,"th",118),r._uU(1," ID "),r.qZA())}function fie(n,t){if(1&n&&(r.TgZ(0,"td",119),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.project_id," ")}}function pie(n,t){1&n&&(r.TgZ(0,"th",118),r._uU(1," TITULO "),r.qZA())}function mie(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"td",120),r.NdJ("click",function(){const s=r.CHM(e).$implicit,c=r.oxw();return r.KtG(c.viewRecod(s))}),r._uU(1),r.qZA()}if(2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.titulo," ")}}function gie(n,t){1&n&&(r.TgZ(0,"th",118),r._uU(1," INICIO "),r.qZA())}function _ie(n,t){if(1&n&&(r.TgZ(0,"td",119),r._uU(1),r.qZA()),2&n){const e=t.$implicit,i=r.oxw();r.xp6(1),r.hij(" ",i.formatFecha(e.fecha_inicio)," ")}}function vie(n,t){1&n&&(r.TgZ(0,"th",118),r._uU(1," CHAT "),r.qZA())}function yie(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"td",119)(1,"img",121),r.NdJ("click",function(){const s=r.CHM(e).$implicit,c=r.oxw();return r.KtG(c.callChat(s))}),r.qZA()()}}function bie(n,t){1&n&&(r.TgZ(0,"th",118),r._uU(1," DOCTS "),r.qZA())}function wie(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"td",119)(1,"img",122),r.NdJ("click",function(){const s=r.CHM(e).$implicit,c=r.oxw();return r.KtG(c.callStorage(s))}),r.qZA()()}}function Cie(n,t){1&n&&(r.TgZ(0,"th",118),r._uU(1," ESTADO "),r.qZA())}function xie(n,t){if(1&n&&(r.TgZ(0,"td",119),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.state," ")}}function Die(n,t){1&n&&r._UZ(0,"tr",123)}function Eie(n,t){1&n&&r._UZ(0,"tr",124)}function Tie(n,t){1&n&&(r.TgZ(0,"tr",125)(1,"td",126),r._uU(2," No hay datos que coincidan con la busqueda "),r.qZA()())}function Aie(n,t){1&n&&(r.TgZ(0,"span"),r._uU(1,"OPC"),r.qZA())}function Iie(n,t){if(1&n&&(r.TgZ(0,"th",127),r.YNc(1,Aie,2,0,"span",1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",e.ediBtnDisplay||e.delBtnDisplay)}}function Sie(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",131),r.NdJ("click",function(){r.CHM(e);const o=r.oxw().$implicit,s=r.oxw();return r.KtG(s.editProject(o))}),r._UZ(1,"i",132),r.qZA()}}function Mie(n,t){1&n&&(r.ynx(0),r._UZ(1,"i",137),r.BQk())}function kie(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"i",138),r.NdJ("click",function(){r.CHM(e);const o=r.oxw(2).$implicit,s=r.oxw();return r.KtG(s.deleteConfirmed(o))}),r.qZA(),r.TgZ(1,"i",139),r.NdJ("click",function(){r.CHM(e);const o=r.oxw(2).$implicit,s=r.oxw();return o.confirmDelete=!1,r.KtG(s.toggleConfirmDelete(o))}),r.qZA()}}function Rie(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",133)(1,"button",134),r.NdJ("click",function(){r.CHM(e);const o=r.oxw().$implicit,s=r.oxw();return r.KtG(s.toggleConfirmDelete(o))}),r.YNc(2,Mie,2,0,"ng-container",135),r.qZA(),r.YNc(3,kie,2,0,"ng-template",null,136,r.W1O),r.qZA()}if(2&n){const e=r.MAs(4),i=r.oxw().$implicit;r.xp6(2),r.Q6J("ngIf",!i.confirmDelete)("ngIfElse",e)}}function Oie(n,t){if(1&n&&(r.TgZ(0,"td",128),r.YNc(1,Sie,2,0,"button",129),r.YNc(2,Rie,5,2,"div",130),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",e.ediBtnDisplay),r.xp6(1),r.Q6J("ngIf",e.delBtnDisplay)}}const Pie=function(){return[10,25,50]};let Nie=(()=>{class n{constructor(e,i,o,s,c,d,p){this.locationService=e,this.router=i,this.loginService=o,this.projectService=s,this.alertService=c,this.userService=d,this.firestore=p,this.currentDate=new Date,this.project=new vM,this.edditted=!1,this.mostrarForm=!1,this.mostrarViewForm=!1,this.currentUserEmail=null,this.currentUserUid=null,this.strtitle="Agregar Proyecto",this.confirmDelete=!1,this.usersList=[],this.usersList2=[],this.selectedNameClientOption="",this.selectedNameTutorOption="",this.countryList=[],this.cityList=[],this.ediBtnDisplay=!1,this.delBtnDisplay=!1,this.addBtnDisplay=!1,this.lblDatDisplay=!1,this.alldocuments=[],this.options=["APA","Chicago","Harvard","Vancouver","ACS","AMA","IEEE","MLA"],this.editing=!1,this.currentIndex=-1,this.title="",this.displayedColumns=["project_id","titulo","fecha_inicio","chat","up","state","Opc"]}ngOnInit(){this.paginatior._intl.itemsPerPageLabel="Elementos por p\xe1gina",this.paginatior._intl.firstPageLabel="Primera P\xe1gina",this.paginatior._intl.lastPageLabel="\xdaltima P\xe1gina",this.paginatior._intl.nextPageLabel="Siguiente",this.paginatior._intl.previousPageLabel="Anterior",this.paginatior._intl.getRangeLabel=(e,i,o)=>{if(0===o||0===i)return`0 de ${o}`;const s=e*i;return`${s+1} - ${s<(o=Math.max(o,0))?Math.min(s+i,o):s+i} de ${o}`},this.userService.getperType("Cliente").valueChanges().subscribe(e=>{this.usersList=e}),this.userService.getperType("Profesor").valueChanges().subscribe(e=>{this.usersList2=e}),this.loginService.user$.subscribe(e=>{this.currentUserUid=e?e.uid:null,this.currentUserEmail=e?e.email:null}),this.locationService.getAllCountries().valueChanges().subscribe(e=>{this.countryList=e}),this.loginService.getUserObservable().subscribe(e=>{e&&this.loginService.getUserName(e.uid).subscribe(i=>{i.user_type&&("Cliente"==i.user_type&&(this.addBtnDisplay=!1,this.delBtnDisplay=!1,this.ediBtnDisplay=!1),"Profesor"==i.user_type&&(this.addBtnDisplay=!1,this.delBtnDisplay=!1,this.ediBtnDisplay=!1,this.lblDatDisplay=!1),"Admin"==i.user_type&&(this.addBtnDisplay=!0,this.delBtnDisplay=!0,this.ediBtnDisplay=!0,this.lblDatDisplay=!0),"Asistente"==i.user_type&&(this.addBtnDisplay=!0,this.delBtnDisplay=!0,this.ediBtnDisplay=!0,this.lblDatDisplay=!0),this.retrieveProjects(i.user_type,i.uid))})})}timestampConvert(e){if(e&&e.seconds){let i=new Date(1e3*e.seconds);return i.getMonth(),i.getFullYear(),i.getDate(),i}}comprobarfecha(e){return e instanceof Date?e:this.timestampConvert(e)}editProject(e){this.editing=!0,this.project=e,void 0!==this.comprobarfecha(e.fecha_inicio)&&(this.project.fecha_inicio=this.comprobarfecha(e.fecha_inicio)),void 0!==this.comprobarfecha(e.fecha_entrega1)&&(this.project.fecha_entrega1=this.comprobarfecha(e.fecha_entrega1)),void 0!==this.comprobarfecha(e.fecha_entrega2)&&(this.project.fecha_entrega2=this.comprobarfecha(e.fecha_entrega2)),void 0!==this.comprobarfecha(e.fecha_entrega3)&&(this.project.fecha_entrega3=this.comprobarfecha(e.fecha_entrega3)),void 0!==this.comprobarfecha(e.fecha_entrega4)&&(this.project.fecha_entrega4=this.comprobarfecha(e.fecha_entrega4)),this.mostrarForm=!0,this.mostrarViewForm=!1,this.strtitle="Modificar Proyecto",e.paisCode&&this.locationService.getAllCityCode(e.paisCode).valueChanges().subscribe(i=>{this.cityList=i})}saveProject(){var e=this;return(0,de.Z)(function*(){if(e.loginService.user$.subscribe(i=>{e.currentUserEmail=i?i.email:null}),e.editing)try{e.project.lastUpdate=e.currentDate,e.project.lastUpdateUser=null!=e.currentUserEmail?e.currentUserEmail:"",e.project.client_name=e.selectedNameClientOption,e.project.tutor_name=e.selectedNameTutorOption,yield e.projectService.update(e.project),e.edditted=!0,e.doSomething("update","El proyecto se ha modificado correctamente."),e.mostrarForm=!1}catch(i){console.error("Error al actualizar el proyecto:",i)}else e.project.registration_date=e.currentDate,e.project.lastUpdate=e.currentDate,e.project.lastUpdateUser=null!=e.currentUserEmail?e.currentUserEmail:"",e.project.status=!0,e.project.state="Activo",e.strtitle="Agregar Proyecto",e.project.client_name=e.selectedNameClientOption,e.project.tutor_name=e.selectedNameTutorOption,e.projectService.create(e.project).then(()=>{console.log("\xa1Se ha enviado con \xe9xito!"),e.mostrarForm=!1,e.doSomething("create","El proyecto se ha creado correctamente.")})})()}onChangeClient(e){this.selectedNameClientOption=e.target.options[e.target.options.selectedIndex].text}onChangeTutor(e){this.selectedNameTutorOption=e.target.options[e.target.options.selectedIndex].text}newProject(){this.edditted=!1,this.project=new vM,this.editing=!1,this.project.uid="",this.strtitle="Agregar Proyecto"}refreshList(){this.currentProject=void 0,this.currentIndex=-1,this.retrieveProjects("","")}retrieveProjects(e,i){switch(e){case"Admin":case"Asistente":this.projectService.getAll().snapshotChanges().pipe((0,Ke.U)(o=>o.map(s=>({id:s.payload.doc.id,...s.payload.doc.data()})))).subscribe(o=>{this.projects=o,this.dataSource=new zh(this.projects),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginatior});break;case"Cliente":this.projectService.getAllC(i).snapshotChanges().pipe((0,Ke.U)(o=>o.map(s=>({id:s.payload.doc.id,...s.payload.doc.data()})))).subscribe(o=>{this.projects=o,this.dataSource=new zh(this.projects),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginatior});break;case"Profesor":this.projectService.getAllP(i).snapshotChanges().pipe((0,Ke.U)(o=>o.map(s=>({id:s.payload.doc.id,...s.payload.doc.data()})))).subscribe(o=>{this.projects=o,this.dataSource=new zh(this.projects),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginatior})}}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}setActiveProject(e,i){this.currentProject=e,this.currentIndex=i}removeUsr(e){var i=this;return(0,de.Z)(function*(){i.loginService.user$.subscribe(o=>{i.currentUserEmail=o?o.email:null}),i.currentUserEmail=null!=i.currentUserEmail?i.currentUserEmail:"",yield i.projectService.delete(e,i.currentUserEmail.toString(),i.currentDate),i.doSomething("delete","El proyecto se ha eliminado correctamente."),i.mostrarForm=!1})()}toggleConfirmDelete(e){void 0===e.confirmDelete&&(e.confirmDelete=!1),e.confirmDelete=!e.confirmDelete}deleteConfirmed(e){this.removeUsr(e.uid)}viewRecod(e){this.project=e,this.mostrarForm=!1,this.mostrarViewForm=!0,this.alldocuments.splice(0,this.alldocuments.length),this.firestore.collection("docs",i=>i.where("projectId","==",this.project.uid).where("projectNro","==",this.project.project_id).orderBy("OwnerId").orderBy("uploadDate","desc")).valueChanges().subscribe(i=>{this.alldocuments=i})}closeview(){this.mostrarForm=!1,this.mostrarViewForm=!1}moForm(){this.mostrarForm=!this.mostrarForm,this.mostrarViewForm=!1,this.strtitle="Agregar Proyecto",this.currentIndex=-1,this.editing=!1,this.currentProject=void 0,this.project=new vM}validarEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}doSomething(e,i){this.alertService.ShowAlert(e,i,3e3)}formatFecha(e){if(e&&"function"==typeof e.toDate){const i=e.toDate();return`${i.getDate()}/${i.getMonth()+1}/${i.getFullYear()}`}return e instanceof Date?`${e.getDate()}/${e.getMonth()+1}/${e.getFullYear()}`:""}callStorage(e){this.router.navigate(["/document-upload"],{queryParams:{createBy:this.currentUserUid,createByEmail:this.currentUserEmail,clientId:e.client_id,clientName:e.client_name,tutorId:e.tutor_id,tutorName:e.tutor_name,id:e.project_id,uidProject:e.uid,title:e.titulo}})}callChat(e){if(e.client_id&&e.tutor_id){let i,o;this.currentUserUid==e.client_id&&(i=e.client_id,o=e.tutor_id),this.currentUserUid==e.tutor_id&&(i=e.tutor_id,o=e.client_id),this.router.navigate(["/chat"],{queryParams:{uidCurrentUser:i,uidReceiveUser:o,id:e.project_id,uidProject:e.uid,title:e.titulo}})}else console.log("El proyecto no se ha asignado a ningun tutor")}getCity(e){const o=e.target.options[e.target.selectedIndex].text;this.project.paisCode=o.split(" ")[0],this.locationService.getAllCityCode(o.split(" ")[0]).valueChanges().subscribe(s=>{this.cityList=s})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(gD),r.Y36(a),r.Y36(Yr),r.Y36(EH),r.Y36($h),r.Y36(Zh),r.Y36(Ka))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-project"]],viewQuery:function(e,i){if(1&e&&(r.Gf(ql,7),r.Gf(Ja,5)),2&e){let o;r.iGM(o=r.CRH())&&(i.paginatior=o.first),r.iGM(o=r.CRH())&&(i.sort=o.first)}},decls:39,vars:8,consts:[["class","register-container",4,"ngIf"],[4,"ngIf"],[2,"width","100%","margin-left","10px","padding-right","10px","padding-top","5px","padding-bottom","50px"],[1,"row","panel-addh",2,"text-align","right"],[1,"col-sm-6","col-md-6","col-lg-6","col-xl-6",2,"text-align","left"],[2,"margin","10px"],["class","row panel-add",4,"ngIf"],[1,"form-group",2,"padding-top","3px"],["matInput","","placeholder","Buscar proyecto",1,"form-control",2,"border-color","#dc3545","border-width","1px",3,"keyup"],["input",""],["mat-table","","matSort","",1,"table",3,"dataSource"],["matColumnDef","project_id"],["mat-sort-header","","class","mat-header-row","style","text-align: left",4,"matHeaderCellDef"],["mat-cell","","class","mat-cell",4,"matCellDef"],["matColumnDef","titulo"],["style","cursor: pointer; text-decoration: underline","mat-cell","","class","mat-cell",3,"click",4,"matCellDef"],["matColumnDef","fecha_inicio"],["matColumnDef","chat"],["matColumnDef","up"],["matColumnDef","state"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["matColumnDef","Opc"],["class","mat-header-row",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["showFirstLastButtons","",3,"pageSizeOptions"],["paginator",""],[1,"register-container"],[1,"row"],[1,"col-sm-6","col-md-6","col-lg-6","col-xl-6"],[2,"font-size","22px","font-weight","bold"],[1,"close-icon"],[1,"fas","fa-times",3,"click"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-group"],[1,"mb-3"],["for","universidad",1,"label-generic"],[1,"form-control-static"],["for","bibliografia",1,"label-generic"],["class","form-control-static",4,"ngIf"],["for","tema",1,"label-generic"],["for","titulo",1,"label-generic"],["for","descripcion",1,"label-generic"],["for","carrera",1,"label-generic"],["for","especialidad",1,"label-generic"],["for","tamanofuente",1,"label-generic"],["for","tipofuente",1,"label-generic"],["for","interlineado",1,"label-generic"],["for","numero_paginas",1,"label-generic"],["for","entregas",1,"label-generic"],[1,"label-generic"],["for","presupuesto",1,"label-generic"],[1,"table","table-striped"],["colspan","3"],[2,"width","35px"],[2,"width","50px"],[4,"ngFor","ngForOf"],["target","_blank",1,"text-decoration-none",3,"href"],["src","assets/img/descarga-de-archivos.png",1,"img-fluid",2,"width","20px","height","15px"],["projectForm","ngForm"],["for","client_id",1,"label-generic"],["id","client_id","required","","name","client_id",1,"form-control",3,"ngModel","ngModelChange","change"],["client_id",""],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","email",1,"label-generic"],["id","email","name","email","pattern","[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)*@[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)*[.][a-zA-Z]{1,5}",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["class","text-danger",4,"ngIf"],["for","wapp",1,"label-generic"],["id","wapp","name","wapp",1,"form-control",3,"ngModel","ngModelChange"],["for","pais",1,"label-generic"],["id","pais","name","pais",1,"form-control",3,"ngModel","ngModelChange","change"],["pais",""],["for","ciudad",1,"label-generic"],["id","ciudad","name","ciudad",1,"form-control",3,"ngModel","ngModelChange"],["ciudad",""],["for","tutor_id",1,"label-generic"],["id","tutor_id","name","tutor_id",1,"form-control",3,"ngModel","ngModelChange","change"],["tutor_id",""],["type","text","id","titulo","required","","name","titulo","pattern","^[A-Z\xc1\xc9\xcd\xd3\xda\xd1][A-Za-z\xc1\xc9\xcd\xd3\xda\xe1\xe9\xed\xf3\xfa\xf1\xd10-9\\s]*$",1,"form-control",3,"ngModel","ngModelChange"],["nameField","ngModel"],["rows","3","id","descripcion","name","descripcion",1,"form-control",3,"ngModel","ngModelChange"],["id","bibliografia","required","","name","selectedOption",1,"form-control",3,"ngModel","ngModelChange"],["id","carrera","required","","name","carrera",1,"form-control",3,"ngModel","ngModelChange"],["id","especialidad","required","","name","especialidad",1,"form-control",3,"ngModel","ngModelChange"],["id","tema","required","","name","tema",1,"form-control",3,"ngModel","ngModelChange"],["id","universidad","name","universidad",1,"form-control",3,"ngModel","ngModelChange"],["id","tipofuente","name","tipofuente",1,"form-control",3,"ngModel","ngModelChange"],["id","tamanofuente","name","tamanofuente",1,"form-control",3,"ngModel","ngModelChange"],["id","interlineado","name","interlineado",1,"form-control",3,"ngModel","ngModelChange"],["type","number","id","numero_paginas","name","numero_paginas",1,"form-control",3,"ngModel","ngModelChange"],["type","number","id","entregas","name","entregas",1,"form-control",3,"ngModel","ngModelChange"],["appearance","outline"],["matInput","","placeholder","Seleccionar fecha","id","fecha_inicio","required","","name","fecha_inicio",1,"form-control",3,"matDatepicker","ngModel","ngModelChange"],["matIconSuffix","",3,"for"],["picker",""],["matInput","","placeholder","Seleccionar fecha","id","fecha_entrega1","name","fecha_entrega1",1,"form-control",3,"matDatepicker","ngModel","ngModelChange"],["picker1",""],["matInput","","placeholder","Seleccionar fecha","id","fecha_entrega2","name","fecha_entrega2",1,"form-control",3,"matDatepicker","ngModel","ngModelChange"],["picker2",""],["matInput","","placeholder","Seleccionar fecha","id","fecha_entrega3","name","fecha_entrega3",1,"form-control",3,"matDatepicker","ngModel","ngModelChange"],["picker3",""],["matInput","","placeholder","Seleccionar fecha","id","fecha_entrega4","name","fecha_entrega4",1,"form-control",3,"matDatepicker","ngModel","ngModelChange"],["picker4",""],["type","number","id","presupuesto","name","presupuesto",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn2",3,"disabled","click"],[3,"value"],[1,"text-danger"],[1,"row","panel-add"],[1,"col-sm-12","col-md-12","col-lg-12","col-xl-12",3,"click"],["style","text-decoration: none; color: #dc3545","class","btn btn-link",4,"ngIf"],[1,"btn","btn-link",2,"text-decoration","none","color","#dc3545"],[1,"fa","fa-solid","fa-circle-plus"],[1,"fa","fa-solid","fa-circle-minus"],["mat-sort-header","",1,"mat-header-row",2,"text-align","left"],["mat-cell","",1,"mat-cell"],["mat-cell","",1,"mat-cell",2,"cursor","pointer","text-decoration","underline",3,"click"],["src","assets/img/comentar-alt-puntos.png","width","22","height","25","alt","Chat del proyecto","title","Chat del proyecto",2,"padding-top","7px","cursor","pointer",3,"click"],["src","assets/img/subir-archivo.png","width","22","height","25","alt","Documentos del proyecto","title","Documentos del proyecto",2,"padding-top","7px","cursor","pointer",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","9",1,"mat-cell",2,"text-align","left"],[1,"mat-header-row"],["mat-cell",""],["class","btn btn-light btn-sm","data-toggle","tooltip","data-placement","top","title","Editar elemento",3,"click",4,"ngIf"],["class","btn-group",4,"ngIf"],["data-toggle","tooltip","data-placement","top","title","Editar elemento",1,"btn","btn-light","btn-sm",3,"click"],["data-toggle","tooltip","data-placement","top","title","Editar elemento",1,"fa-solid","fa-pen"],[1,"btn-group"],["data-toggle","tooltip","data-placement","top","title","Eliminar elemento",1,"btn","btn-light","btn-sm",3,"click"],[4,"ngIf","ngIfElse"],["confirmIcon",""],["data-toggle","tooltip","data-placement","top","title","Eliminar elemento",1,"far","fa-trash-alt",2,"color","red"],["data-toggle","tooltip","data-placement","top","title","Confirmar eliminaci\xf3n",1,"fas","fa-check","facheckCustom",3,"click"],["data-toggle","tooltip","data-placement","top","title","Cancelar eliminaci\xf3n",1,"fas","fa-times","fatimesCustom",3,"click"]],template:function(e,i){1&e&&(r.YNc(0,Jne,180,29,"div",0),r.YNc(1,lie,193,44,"div",1),r.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),r.YNc(6,die,4,2,"div",6),r.qZA()(),r.TgZ(7,"div",4)(8,"div",7)(9,"input",8,9),r.NdJ("keyup",function(s){return i.applyFilter(s)}),r.qZA()()()(),r.TgZ(11,"table",10),r.ynx(12,11),r.YNc(13,hie,2,0,"th",12),r.YNc(14,fie,2,1,"td",13),r.BQk(),r.ynx(15,14),r.YNc(16,pie,2,0,"th",12),r.YNc(17,mie,2,1,"td",15),r.BQk(),r.ynx(18,16),r.YNc(19,gie,2,0,"th",12),r.YNc(20,_ie,2,1,"td",13),r.BQk(),r.ynx(21,17),r.YNc(22,vie,2,0,"th",12),r.YNc(23,yie,2,0,"td",13),r.BQk(),r.ynx(24,18),r.YNc(25,bie,2,0,"th",12),r.YNc(26,wie,2,0,"td",13),r.BQk(),r.ynx(27,19),r.YNc(28,Cie,2,0,"th",12),r.YNc(29,xie,2,1,"td",13),r.BQk(),r.YNc(30,Die,1,0,"tr",20),r.YNc(31,Eie,1,0,"tr",21),r.YNc(32,Tie,3,0,"tr",22),r.ynx(33,23),r.YNc(34,Iie,2,1,"th",24),r.YNc(35,Oie,3,2,"td",25),r.BQk(),r.qZA(),r.TgZ(36,"mat-paginator",26,27),r._uU(38,' [intl]="customPaginatorIntl" '),r.qZA()()),2&e&&(r.Q6J("ngIf",i.mostrarViewForm),r.xp6(1),r.Q6J("ngIf",i.mostrarForm),r.xp6(5),r.Q6J("ngIf",i.addBtnDisplay),r.xp6(5),r.Q6J("dataSource",i.dataSource),r.xp6(19),r.Q6J("matHeaderRowDef",i.displayedColumns),r.xp6(1),r.Q6J("matRowDefColumns",i.displayedColumns),r.xp6(5),r.Q6J("pageSizeOptions",r.DdM(7,Pie)))},dependencies:[cr,Un,Il,Wd,ku,qi,Bf,Sc,vi,as,cs,jf,ha,qr,Ja,I0,ql,O_,Em,P_,Tm,Dm,N_,Am,F_,L_,U_,KS,GS,oL,N0,ZL,xD,BL],styles:[".container[_ngcontent-%COMP%]{margin:0}.register-container[_ngcontent-%COMP%]{max-width:800px;padding:20px;border:1px solid #ccc;border-radius:5px}.btn2[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;border:none;padding:10px 20px;cursor:pointer;transition:background-color .3s;width:150px;border-radius:10px}.btn2[_ngcontent-%COMP%]:hover{background-color:#343a40}.btn2[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.submit-form[_ngcontent-%COMP%]{max-width:300px;margin:auto}.panel-add[_ngcontent-%COMP%]{max-width:200px;right:10px;border-color:#706c6c;background-color:#f2e9e9;box-shadow:0 2px 3px #0003;border-radius:10px;text-align:center;cursor:pointer}.panel-addh[_ngcontent-%COMP%]{border-color:#706c6c;background-color:#fff;border-radius:10px;text-align:center}.label-generic[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#161616}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding-bottom:15px}.mat-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.mat-header-row[_ngcontent-%COMP%]{background-color:#edf0f2e9;color:#dc3545;font-size:small}.mat-row[_ngcontent-%COMP%]:nth-child(even){background-color:#f9f9f9}.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{padding:10px;text-align:left;border-bottom:1px solid #c7c6c6}.mat-column-id[_ngcontent-%COMP%]{width:40px!important;text-align:left}.mat-column-name[_ngcontent-%COMP%]{width:220px!important;text-align:left}.mat-column-email[_ngcontent-%COMP%]{width:200px!important;text-align:left}.mat-column-country[_ngcontent-%COMP%], .mat-column-city[_ngcontent-%COMP%], .mat-column-tlf[_ngcontent-%COMP%], .mat-column-wapp[_ngcontent-%COMP%]{width:100px!important;text-align:left}.mat-column-state[_ngcontent-%COMP%]{text-align:left}.mat-column-Opc[_ngcontent-%COMP%]{width:100px!important;text-align:left}.custom-datepicker[_ngcontent-%COMP%]{font-size:10px;width:50px}.close-icon[_ngcontent-%COMP%]{cursor:pointer;text-align:right}.close-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:red}.facheckCustom[_ngcontent-%COMP%]{margin-right:10px}.facheckCustom[_ngcontent-%COMP%]:hover{color:#31bb3c}.fatimesCustom[_ngcontent-%COMP%]{color:#fe6464}.fatimesCustom[_ngcontent-%COMP%]:hover{color:red}"]}),n})(),TH=(()=>{class n{constructor(e){this.db=e,this.dbPath="/roles",this.lastId=1,this.rolesRef=e.collection(this.dbPath)}getAllRole(){return this.db.collection("roles",e=>e.where("status","==",!0).orderBy("roleId","asc"))}getAllRoleCode(e){return this.db.collection("roles",i=>i.where("status","==",!0).where("countryCode","==",e).orderBy("roleName","asc"))}getNumberOfRecords(){return this.db.collection("roles").ref.get().then(e=>e.size)}getNextId(){var e=this;return(0,de.Z)(function*(){try{const i=yield e.getNumberOfRecords();e.lastId=i}catch(i){console.error("Error al obtener la cantidad de registros:",i)}e.lastId++})()}createRole(e){var i=this;return(0,de.Z)(function*(){try{yield i.getNextId();const o=i.lastId.toString();e.roleId=o;const s=i.db.collection("roles").doc(),c=s.ref.id;e.uid=c;const d={uid:c,roleId:e.roleId,...e};yield s.set(d)}catch(o){throw console.error("Error al crear el ciudad:",o),o}})()}update(e){return this.rolesRef.doc(e.uid).update(e)}delete(e,i,o){return this.rolesRef.doc(e).update({status:!1,lastUpdate:o,lastUpdateUser:i})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Ka))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Fie(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",32)(1,"div",33)(2,"div",34)(3,"div")(4,"h3",35),r._uU(5,"Datos de Usuario"),r.qZA()()(),r.TgZ(6,"div",34)(7,"div",36)(8,"i",37),r.NdJ("click",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.closeview())}),r.qZA()()()(),r.TgZ(9,"div",38)(10,"div",39)(11,"label",40),r._uU(12,"Nombre"),r.qZA(),r.TgZ(13,"p",41),r._uU(14),r.qZA()()(),r.TgZ(15,"div")(16,"div",39)(17,"label",42),r._uU(18,"Email"),r.qZA(),r.TgZ(19,"p",41),r._uU(20),r.qZA()()(),r.TgZ(21,"div",38)(22,"div",39)(23,"label",43),r._uU(24,"Contrase\xf1a"),r.qZA(),r.TgZ(25,"p",41),r._uU(26,"******"),r.qZA()()(),r.TgZ(27,"div",38)(28,"div",39)(29,"label",44),r._uU(30,"N\xfamero de Tel\xe9fono"),r.qZA(),r.TgZ(31,"p",41),r._uU(32),r.qZA()()(),r.TgZ(33,"div",38)(34,"div",39)(35,"label",45),r._uU(36,"N\xfamero de WhatsApp"),r.qZA(),r.TgZ(37,"p",41),r._uU(38),r.qZA()()(),r.TgZ(39,"div",38)(40,"div",39)(41,"label",46),r._uU(42,"Pa\xeds"),r.qZA(),r.TgZ(43,"p",41),r._uU(44),r.qZA()()(),r.TgZ(45,"div",38)(46,"div",39)(47,"label",47),r._uU(48,"Ciudad"),r.qZA(),r.TgZ(49,"p",41),r._uU(50),r.qZA()()(),r.TgZ(51,"div",38)(52,"div",39)(53,"label",48),r._uU(54,"Direcci\xf3n"),r.qZA(),r.TgZ(55,"p",41),r._uU(56),r.qZA()()(),r.TgZ(57,"div",38)(58,"div",39)(59,"label",49),r._uU(60,"Tipo de Usuario"),r.qZA(),r.TgZ(61,"p",41),r._uU(62),r.qZA()()()()}if(2&n){const e=r.oxw();r.xp6(14),r.AsE("",e.user.name," ",e.user.lastname,""),r.xp6(6),r.Oqu(e.user.email),r.xp6(12),r.Oqu(e.user.tlf),r.xp6(6),r.Oqu(e.user.wapp),r.xp6(6),r.Oqu(e.user.country),r.xp6(6),r.Oqu(e.user.city),r.xp6(6),r.Oqu(e.user.address),r.xp6(6),r.Oqu(e.user.user_type)}}function Lie(n,t){1&n&&(r.TgZ(0,"div",85),r._uU(1," El nombre es requerido. "),r.qZA())}function Uie(n,t){1&n&&(r.TgZ(0,"div",85),r._uU(1," El apellido es requerido. "),r.qZA())}function Vie(n,t){1&n&&(r.TgZ(0,"div")(1,"small"),r._uU(2,"Se requiere un email v\xe1lido"),r.qZA()())}function Zie(n,t){if(1&n&&(r.TgZ(0,"div",85),r.YNc(1,Vie,3,0,"div",1),r.qZA()),2&n){r.oxw();const e=r.MAs(34);r.xp6(1),r.Q6J("ngIf",e.errors)}}function Bie(n,t){1&n&&(r.TgZ(0,"div",85),r._uU(1," Se requiere una Contrase\xf1a "),r.qZA())}function qie(n,t){if(1&n&&(r.TgZ(0,"option",86),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.Q6J("value",e.countryName),r.xp6(1),r.Oqu(e.countryCode+" - "+e.countryName)}}function Hie(n,t){if(1&n&&(r.TgZ(0,"option",86),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.Q6J("value",e.cityName),r.xp6(1),r.Oqu(e.cityName)}}function jie(n,t){if(1&n&&(r.TgZ(0,"option",86),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.Q6J("value",e.roleName),r.xp6(1),r.Oqu(e.roleName)}}function zie(n,t){1&n&&(r.TgZ(0,"div",85),r._uU(1," Se requiere un tipo de usuario "),r.qZA())}const $ie=function(n,t){return{"fa-eye":n,"fa-eye-slash":t}};function Gie(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div")(1,"div",32)(2,"div",33)(3,"div",34)(4,"div")(5,"h3",35),r._uU(6),r.qZA()()(),r.TgZ(7,"div",34)(8,"div",36)(9,"i",37),r.NdJ("click",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.closeview())}),r.qZA()()()(),r.TgZ(10,"div")(11,"form",null,50)(13,"div",51)(14,"div",52)(15,"div",38)(16,"div",39)(17,"label",53),r._uU(18,"Nombre *"),r.qZA(),r.TgZ(19,"input",54,55),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.user.name=o)}),r.qZA(),r.YNc(21,Lie,2,0,"div",56),r.qZA()(),r.TgZ(22,"div",38)(23,"div",39)(24,"label",57),r._uU(25,"Apellido"),r.qZA(),r.TgZ(26,"input",58,55),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.user.lastname=o)}),r.qZA(),r.YNc(28,Uie,2,0,"div",56),r.qZA()(),r.TgZ(29,"div",38)(30,"div",39)(31,"label",59),r._uU(32,"Email *"),r.qZA(),r.TgZ(33,"input",60,61),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.user.email=o)}),r.qZA(),r.YNc(35,Zie,2,1,"div",56),r.qZA()(),r.TgZ(36,"div",38)(37,"div",39)(38,"label",62),r._uU(39,"Contrase\xf1a *"),r.qZA(),r.TgZ(40,"div",63)(41,"input",64),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.user.password=o)}),r.qZA(),r.TgZ(42,"i",65),r.NdJ("mouseover",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.togglePasswordVisibility())})("mouseout",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.togglePasswordVisibility())}),r.qZA(),r.YNc(43,Bie,2,0,"div",56),r.qZA()()(),r.TgZ(44,"div",38)(45,"div",39)(46,"label",66),r._uU(47,"N\xfamero de Tel\xe9fono"),r.qZA(),r.TgZ(48,"input",67),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.user.tlf=o)}),r.qZA()()(),r.TgZ(49,"div",38)(50,"div",39)(51,"label",68),r._uU(52,"N\xfamero de WhatsApp"),r.qZA(),r.TgZ(53,"input",69),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.user.wapp=o)}),r.qZA()()(),r.TgZ(54,"div",38)(55,"div",39)(56,"label",70),r._uU(57,"Pa\xeds*"),r.qZA(),r.TgZ(58,"select",71,72),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.user.country=o)})("change",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.getCity(o))}),r.TgZ(60,"option",73),r._uU(61,"Seleccionar opci\xf3n"),r.qZA(),r.YNc(62,qie,2,2,"option",74),r.qZA()()(),r.TgZ(63,"div",38)(64,"div",39)(65,"label",75),r._uU(66,"Ciudad"),r.qZA(),r.TgZ(67,"select",76,77),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.user.city=o)}),r.TgZ(69,"option",78),r._uU(70,"Seleccionar opci\xf3n"),r.qZA(),r.YNc(71,Hie,2,2,"option",74),r.qZA()()(),r.TgZ(72,"div",38)(73,"div",39)(74,"label",79),r._uU(75,"Direcci\xf3n"),r.qZA(),r.TgZ(76,"input",80),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.user.address=o)}),r.qZA()()(),r.TgZ(77,"div",38)(78,"div",39)(79,"label",81),r._uU(80,"Tipo de Usuario *"),r.qZA(),r.TgZ(81,"select",82,83),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.user.user_type=o)}),r.TgZ(83,"option",73),r._uU(84,"Seleccionar opci\xf3n"),r.qZA(),r.YNc(85,jie,2,2,"option",74),r.qZA()(),r.YNc(86,zie,2,0,"div",56),r.qZA()()(),r.TgZ(87,"button",84),r.NdJ("click",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.saveUser())}),r._uU(88,"Enviar"),r.qZA()()(),r._UZ(89,"br")(90,"br"),r.qZA()()}if(2&n){const e=r.MAs(12),i=r.MAs(20),o=r.MAs(34),s=r.MAs(82),c=r.oxw();r.xp6(6),r.Oqu(c.strtitle),r.xp6(13),r.Q6J("ngModel",c.user.name),r.xp6(2),r.Q6J("ngIf",i.invalid&&(i.dirty||i.touched)),r.xp6(5),r.Q6J("ngModel",c.user.lastname),r.xp6(2),r.Q6J("ngIf",i.invalid&&(i.dirty||i.touched)),r.xp6(5),r.Q6J("ngModel",c.user.email),r.xp6(2),r.Q6J("ngIf",o.invalid&&(o.dirty||o.touched)),r.xp6(6),r.s9C("type",c.showPassword?"text":"password"),r.Q6J("ngModel",c.user.password),r.xp6(1),r.Q6J("ngClass",r.WLB(22,$ie,c.showPassword,!c.showPassword)),r.xp6(1),r.Q6J("ngIf",i.invalid&&(i.dirty||i.touched)),r.xp6(5),r.Q6J("ngModel",c.user.tlf),r.xp6(5),r.Q6J("ngModel",c.user.wapp),r.xp6(5),r.Q6J("ngModel",c.user.country),r.xp6(4),r.Q6J("ngForOf",c.countryList),r.xp6(5),r.Q6J("ngModel",c.user.city),r.xp6(4),r.Q6J("ngForOf",c.cityList),r.xp6(5),r.Q6J("ngModel",c.user.address),r.xp6(5),r.Q6J("ngModel",c.user.user_type),r.xp6(4),r.Q6J("ngForOf",c.roleList),r.xp6(1),r.Q6J("ngIf",s.invalid&&(s.dirty||s.touched)),r.xp6(1),r.Q6J("disabled",!e.form.valid)}}function Yie(n,t){1&n&&(r.TgZ(0,"span",87),r._UZ(1,"i",88),r._uU(2," Agregar"),r.qZA())}function Wie(n,t){1&n&&(r.TgZ(0,"span",87),r._UZ(1,"i",89),r.qZA())}function Kie(n,t){1&n&&(r.TgZ(0,"th",90),r._uU(1,"ID "),r.qZA())}function Qie(n,t){if(1&n&&(r.TgZ(0,"td",91),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij("",e.id," ")}}function Jie(n,t){1&n&&(r.TgZ(0,"th",90),r._uU(1," NOMBRE "),r.qZA())}function Xie(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"td",92),r.NdJ("click",function(){const s=r.CHM(e).$implicit,c=r.oxw();return r.KtG(c.viewRecod(s))}),r._uU(1),r.qZA()}if(2&n){const e=t.$implicit;r.xp6(1),r.AsE(" ",e.name," ",e.lastname," ")}}function ere(n,t){1&n&&(r.TgZ(0,"th",90),r._uU(1," EMAIL "),r.qZA())}function tre(n,t){if(1&n&&(r.TgZ(0,"td",91),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.email," ")}}function nre(n,t){1&n&&(r.TgZ(0,"th",90),r._uU(1," PAIS "),r.qZA())}function ire(n,t){if(1&n&&(r.TgZ(0,"td",91),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.country," ")}}function rre(n,t){1&n&&(r.TgZ(0,"th",90),r._uU(1," CIUDAD "),r.qZA())}function ore(n,t){if(1&n&&(r.TgZ(0,"td",91),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.city," ")}}function sre(n,t){1&n&&(r.TgZ(0,"th",90),r._uU(1," TELEFONO "),r.qZA())}function are(n,t){if(1&n&&(r.TgZ(0,"td",91),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.tlf," ")}}function lre(n,t){1&n&&(r.TgZ(0,"th",90),r._uU(1," WHATSAPP "),r.qZA())}function cre(n,t){if(1&n&&(r.TgZ(0,"td",91),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.wapp," ")}}function ure(n,t){1&n&&(r.TgZ(0,"th",90),r._uU(1," ESTADO "),r.qZA())}function dre(n,t){if(1&n&&(r.TgZ(0,"td",91),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.state," ")}}function hre(n,t){1&n&&r._UZ(0,"tr",93)}function fre(n,t){1&n&&r._UZ(0,"tr",94)}function pre(n,t){1&n&&(r.TgZ(0,"tr",95)(1,"td",96),r._uU(2,"No hay datos que coincidan con la busqueda"),r.qZA()())}function mre(n,t){1&n&&(r.TgZ(0,"th",97),r._uU(1,"OPC"),r.qZA())}function gre(n,t){1&n&&(r.ynx(0),r._UZ(1,"i",105),r.BQk())}function _re(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"i",106),r.NdJ("click",function(){r.CHM(e);const o=r.oxw().$implicit,s=r.oxw();return r.KtG(s.deleteConfirmed(o))}),r.qZA(),r.TgZ(1,"i",107),r.NdJ("click",function(){r.CHM(e);const o=r.oxw().$implicit,s=r.oxw();return o.confirmDelete=!1,r.KtG(s.toggleConfirmDelete(o))}),r.qZA()}}function vre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"td",98)(1,"button",99),r.NdJ("click",function(){const s=r.CHM(e).$implicit,c=r.oxw();return r.KtG(c.editUser(s))}),r._UZ(2,"i",100),r.qZA(),r.TgZ(3,"div",101)(4,"button",102),r.NdJ("click",function(){const s=r.CHM(e).$implicit,c=r.oxw();return r.KtG(c.toggleConfirmDelete(s))}),r.YNc(5,gre,2,0,"ng-container",103),r.qZA(),r.YNc(6,_re,2,0,"ng-template",null,104,r.W1O),r.qZA()()}if(2&n){const e=t.$implicit,i=r.MAs(7);r.xp6(5),r.Q6J("ngIf",!e.confirmDelete)("ngIfElse",i)}}const yre=function(){return[10,25,50]};let bre=(()=>{class n{constructor(e,i,o,s,c,d,p){this.router=e,this.roleService=i,this.locationService=o,this.route=s,this.loginService=c,this.userService=d,this.alertService=p,this.showPassword=!1,this.showForm="",this.currentDate=new Date,this.user=new Lb,this.edditted=!1,this.mostrarForm=!1,this.mostrarViewForm=!1,this.currentUserEmail=null,this.strtitle="Agregar Usuarios",this.countryList=[],this.cityList=[],this.roleList=[],this.editing=!1,this.currentIndex=-1,this.title="",this.displayedColumns=["id","name","email","country","city","tlf","wapp","state","Opc"]}ngOnInit(){this.retrieveUsers(),this.paginatior._intl.itemsPerPageLabel="Elementos por p\xe1gina",this.paginatior._intl.firstPageLabel="Primera P\xe1gina",this.paginatior._intl.lastPageLabel="\xdaltima P\xe1gina",this.paginatior._intl.nextPageLabel="Siguiente",this.paginatior._intl.previousPageLabel="Anterior",this.paginatior._intl.getRangeLabel=(e,i,o)=>{if(0===o||0===i)return`0 de ${o}`;const s=e*i;return`${s+1} - ${s<(o=Math.max(o,0))?Math.min(s+i,o):s+i} de ${o}`},this.route.queryParams.subscribe(e=>{this.showForm=e.form,console.log(this.showForm)}),"NewForm"==this.showForm&&this.moForm(),this.locationService.getAllCountries().valueChanges().subscribe(e=>{this.countryList=e}),this.roleService.getAllRole().valueChanges().subscribe(e=>{this.roleList=e})}togglePasswordVisibility(){this.showPassword=!this.showPassword}editUser(e){this.editing=!0,this.user=e,this.mostrarForm=!0,this.strtitle="Modificar Usuarios",this.user.country&&this.locationService.getAllCityName(this.user.country).valueChanges().subscribe(i=>{this.cityList=i})}saveUser(){var e=this;return(0,de.Z)(function*(){if(e.loginService.user$.subscribe(i=>{e.currentUserEmail=i?i.email:null}),e.editing)try{e.user.lastUpdate=e.currentDate,e.user.lastUpdateUser=null!=e.currentUserEmail?e.currentUserEmail:"",yield e.userService.update(e.user),e.edditted=!0,e.doSomething("update","El usuario se ha modificado correctamente."),e.mostrarForm=!1}catch(i){console.error("Error al actualizar el usuario:",i)}else e.user.registration_date=e.currentDate,e.user.lastUpdate=e.currentDate,e.user.lastUpdateUser=null!=e.currentUserEmail?e.currentUserEmail:"",e.user.status=!0,e.user.state="Activo",e.strtitle="Agregar Usuarios",e.userService.create(e.user).then(()=>{console.log("\xa1Se ha enviado con \xe9xito!"),e.mostrarForm=!1,e.doSomething("create","El usuario se ha creado correctamente.")})})()}newUser(){this.edditted=!1,this.user=new Lb,this.editing=!1,this.user.uid="",this.strtitle="Agregar Usuarios"}refreshList(){this.currentUser=void 0,this.currentIndex=-1,this.retrieveUsers()}retrieveUsers(){this.userService.getAll().snapshotChanges().pipe((0,Ke.U)(e=>e.map(i=>({id:i.payload.doc.id,...i.payload.doc.data()})))).subscribe(e=>{this.users=e,this.dataSource=new zh(this.users),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginatior})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}setActiveUser(e,i){this.currentUser=e,this.currentIndex=i}removeUsr(e){var i=this;return(0,de.Z)(function*(){i.loginService.user$.subscribe(o=>{i.currentUserEmail=o?o.email:null}),i.currentUserEmail=null!=i.currentUserEmail?i.currentUserEmail:"",yield i.userService.delete(e,i.currentUserEmail.toString(),i.currentDate),i.doSomething("delete","El usuario se ha eliminado correctamente."),i.mostrarForm=!1})()}toggleConfirmDelete(e){void 0===e.confirmDelete&&(e.confirmDelete=!1),e.confirmDelete=!e.confirmDelete}deleteConfirmed(e){this.removeUsr(e.uid)}viewRecod(e){this.user=e,this.mostrarForm=!1,this.mostrarViewForm=!0}closeview(){this.mostrarForm=!1,this.mostrarViewForm=!1}moForm(){this.rutaTo("register")}validarEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}doSomething(e,i){this.alertService.ShowAlert(e,i,3e3)}getCity(e){this.locationService.getAllCityCode(e.target.options[e.target.selectedIndex].text.split(" ")[0]).valueChanges().subscribe(s=>{this.cityList=s})}rutaTo(e){this.router.navigate([e])}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(a),r.Y36(TH),r.Y36(gD),r.Y36(zs),r.Y36(Yr),r.Y36(Zh),r.Y36($h))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-user"]],viewQuery:function(e,i){if(1&e&&(r.Gf(ql,7),r.Gf(Ja,5)),2&e){let o;r.iGM(o=r.CRH())&&(i.paginatior=o.first),r.iGM(o=r.CRH())&&(i.sort=o.first)}},decls:48,vars:9,consts:[["class","register-container",4,"ngIf"],[4,"ngIf"],[2,"width","100%","margin-left","10px","padding-right","10px","padding-top","5px","padding-bottom","50px"],[1,"row","panel-addh",2,"text-align","right"],[1,"col-sm-6","col-md-6","col-lg-6","col-xl-6",2,"text-align","left"],[2,"margin","10px"],[1,"row","panel-add"],[1,"col-sm-12","col-md-12","col-lg-12","col-xl-12",3,"click"],["style","text-decoration: none;color: #dc3545;","class","btn btn-link",4,"ngIf"],[1,"form-group",2,"padding-top","3px"],["matInput","","placeholder","Buscar usuario",1,"form-control",2,"border-color","#dc3545","border-width","1px",3,"keyup"],["input",""],["mat-table","","matSort","",1,"table",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","","class","mat-header-row","style","text-align: left;",4,"matHeaderCellDef"],["mat-cell","","class","mat-cell",4,"matCellDef"],["matColumnDef","name"],["style","cursor: pointer; text-decoration:underline;","mat-cell","","class","mat-cell",3,"click",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","country"],["matColumnDef","city"],["matColumnDef","tlf"],["matColumnDef","wapp"],["matColumnDef","state"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["matColumnDef","Opc"],["class","mat-header-row",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["showFirstLastButtons","",3,"pageSizeOptions"],["paginator",""],[1,"register-container"],[1,"row"],[1,"col-sm-6","col-md-6","col-lg-6","col-xl-6"],[2,"font-size","22px","font-weight","bold"],[1,"close-icon"],[1,"fas","fa-times",3,"click"],[1,"form-group"],[1,"mb-3"],["for","titulo",1,"label-generic"],[1,"form-control-static"],["for","bibliografia",1,"label-generic"],["for","carrera",1,"label-generic"],["for","especialidad",1,"label-generic"],["for","tema",1,"label-generic"],["for","universidad",1,"label-generic"],["for","numero_paginas",1,"label-generic"],["for","entregas",1,"label-generic"],["for","descripcion",1,"label-generic"],["userForm","ngForm"],[1,"card"],[1,"card-body"],["for","name",1,"label-generic"],["type","text","id","name","required","","name","name",1,"form-control",3,"ngModel","ngModelChange"],["nameField","ngModel"],["class","text-danger",4,"ngIf"],["for","lastname",1,"label-generic"],["type","text","id","lastname","name","lastname",1,"form-control",3,"ngModel","ngModelChange"],["for","email",1,"label-generic"],["id","email","required","","name","email","pattern","[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)*@[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)*[.][a-zA-Z]{1,5}",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["for","password",1,"label-generic"],[1,"password-field-container"],["id","password","required","","name","password",1,"form-control",2,"width","400px",3,"type","ngModel","ngModelChange"],[1,"toggle-password","fas",3,"ngClass","mouseover","mouseout"],["for","tlf",1,"label-generic"],["id","tlf","name","tlf",1,"form-control",3,"ngModel","ngModelChange"],["for","wapp",1,"label-generic"],["id","wapp","name","wapp",1,"form-control",3,"ngModel","ngModelChange"],["for","pais",1,"label-generic"],["required","","id","pais","name","pais",1,"form-control",3,"ngModel","ngModelChange","change"],["pais",""],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","ciudad",1,"label-generic"],["id","ciudad","name","ciudad",1,"form-control",3,"ngModel","ngModelChange"],["ciudad",""],["value","","selected",""],["for","address",1,"label-generic"],["id","address","name","address",1,"form-control",3,"ngModel","ngModelChange"],["for","user_type",1,"label-generic"],["required","","id","user_type","name","user_type",1,"form-control",3,"ngModel","ngModelChange"],["user_type","ngModel"],["type","submit",1,"btn2",3,"disabled","click"],[1,"text-danger"],[3,"value"],[1,"btn","btn-link",2,"text-decoration","none","color","#dc3545"],[1,"fa","fa-solid","fa-circle-plus"],[1,"fa","fa-solid","fa-circle-minus"],["mat-sort-header","",1,"mat-header-row",2,"text-align","left"],["mat-cell","",1,"mat-cell"],["mat-cell","",1,"mat-cell",2,"cursor","pointer","text-decoration","underline",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","9",1,"mat-cell",2,"text-align","left"],[1,"mat-header-row"],["mat-cell",""],["data-toggle","tooltip","data-placement","top","title","Editar elemento",1,"btn","btn-light","btn-sm",3,"click"],["data-toggle","tooltip","data-placement","top","title","Editar elemento",1,"fa-solid","fa-pen"],[1,"btn-group"],["data-toggle","tooltip","data-placement","top","title","Eliminar elemento",1,"btn","btn-light","btn-sm",3,"click"],[4,"ngIf","ngIfElse"],["confirmIcon",""],["data-toggle","tooltip","data-placement","top","title","Eliminar elemento",1,"far","fa-trash-alt",2,"color","red"],["data-toggle","tooltip","data-placement","top","title","Confirmar eliminaci\xf3n",1,"fas","fa-check","facheckCustom",3,"click"],["data-toggle","tooltip","data-placement","top","title","Cancelar eliminaci\xf3n",1,"fas","fa-times","fatimesCustom",3,"click"]],template:function(e,i){1&e&&(r.YNc(0,Fie,63,9,"div",0),r.YNc(1,Gie,91,25,"div",1),r.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),r.NdJ("click",function(){return i.moForm()}),r.YNc(8,Yie,3,0,"span",8),r.YNc(9,Wie,2,0,"span",8),r.qZA()()()(),r.TgZ(10,"div",4)(11,"div",9)(12,"input",10,11),r.NdJ("keyup",function(s){return i.applyFilter(s)}),r.qZA()()()(),r.TgZ(14,"table",12),r.ynx(15,13),r.YNc(16,Kie,2,0,"th",14),r.YNc(17,Qie,2,1,"td",15),r.BQk(),r.ynx(18,16),r.YNc(19,Jie,2,0,"th",14),r.YNc(20,Xie,2,2,"td",17),r.BQk(),r.ynx(21,18),r.YNc(22,ere,2,0,"th",14),r.YNc(23,tre,2,1,"td",15),r.BQk(),r.ynx(24,19),r.YNc(25,nre,2,0,"th",14),r.YNc(26,ire,2,1,"td",15),r.BQk(),r.ynx(27,20),r.YNc(28,rre,2,0,"th",14),r.YNc(29,ore,2,1,"td",15),r.BQk(),r.ynx(30,21),r.YNc(31,sre,2,0,"th",14),r.YNc(32,are,2,1,"td",15),r.BQk(),r.ynx(33,22),r.YNc(34,lre,2,0,"th",14),r.YNc(35,cre,2,1,"td",15),r.BQk(),r.ynx(36,23),r.YNc(37,ure,2,0,"th",14),r.YNc(38,dre,2,1,"td",15),r.BQk(),r.YNc(39,hre,1,0,"tr",24),r.YNc(40,fre,1,0,"tr",25),r.YNc(41,pre,3,0,"tr",26),r.ynx(42,27),r.YNc(43,mre,2,0,"th",28),r.YNc(44,vre,8,2,"td",29),r.BQk(),r.qZA(),r.TgZ(45,"mat-paginator",30,31),r._uU(47,' [intl]="customPaginatorIntl" '),r.qZA()()),2&e&&(r.Q6J("ngIf",i.mostrarViewForm),r.xp6(1),r.Q6J("ngIf",i.mostrarForm),r.xp6(7),r.Q6J("ngIf",!i.mostrarForm),r.xp6(1),r.Q6J("ngIf",i.mostrarForm),r.xp6(5),r.Q6J("dataSource",i.dataSource),r.xp6(25),r.Q6J("matHeaderRowDef",i.displayedColumns),r.xp6(1),r.Q6J("matRowDefColumns",i.displayedColumns),r.xp6(5),r.Q6J("pageSizeOptions",r.DdM(8,yre)))},dependencies:[Gn,cr,Un,Il,Wd,ku,qi,Sc,vi,as,cs,jf,ha,qr,Ja,I0,ql,O_,Em,P_,Tm,Dm,N_,Am,F_,L_,U_,N0],styles:[".container[_ngcontent-%COMP%]{margin:0}.password-field-container[_ngcontent-%COMP%]{display:flex;align-items:center}.register-container[_ngcontent-%COMP%]{max-width:800px;padding:20px;border:1px solid #ccc;border-radius:5px}.btn2[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;border:none;padding:10px 20px;cursor:pointer;transition:background-color .3s;width:150px;border-radius:10px}.btn2[_ngcontent-%COMP%]:hover{background-color:#343a40}.btn2[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.submit-form[_ngcontent-%COMP%]{max-width:300px;margin:auto}.panel-add[_ngcontent-%COMP%]{max-width:200px;right:10px;border-color:#706c6c;background-color:#f2e9e9;box-shadow:0 2px 3px #0003;border-radius:10px;text-align:center;cursor:pointer}.panel-addh[_ngcontent-%COMP%]{border-color:#706c6c;background-color:#fff;border-radius:10px;text-align:center}.label-generic[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#161616}.mat-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.mat-header-row[_ngcontent-%COMP%]{background-color:#edf0f2e9;color:#dc3545;font-size:small}.mat-row[_ngcontent-%COMP%]:nth-child(even){background-color:#f9f9f9}.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{padding:10px;text-align:left;border-bottom:1px solid #c7c6c6}.mat-column-id[_ngcontent-%COMP%]{width:40px!important;text-align:left}.mat-column-name[_ngcontent-%COMP%]{width:220px!important;text-align:left}.mat-column-email[_ngcontent-%COMP%]{width:200px!important;text-align:left}.mat-column-country[_ngcontent-%COMP%], .mat-column-city[_ngcontent-%COMP%], .mat-column-tlf[_ngcontent-%COMP%], .mat-column-wapp[_ngcontent-%COMP%]{width:100px!important;text-align:left}.mat-column-state[_ngcontent-%COMP%]{text-align:left}.mat-column-Opc[_ngcontent-%COMP%]{width:100px!important;text-align:left}.close-icon[_ngcontent-%COMP%]{cursor:pointer;text-align:right}.close-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:red}.facheckCustom[_ngcontent-%COMP%]{margin-right:10px}.facheckCustom[_ngcontent-%COMP%]:hover{color:#31bb3c}.fatimesCustom[_ngcontent-%COMP%]{color:#fe6464}.fatimesCustom[_ngcontent-%COMP%]:hover{color:red}"]}),n})();const wre=["chatBody"];function Cre(n,t){if(1&n&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&n){const e=r.oxw().$implicit;r.xp6(1),r.hij(" ",e.message," ")}}function xre(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1," !$w9J^@2#*+3Xq!K6p^5@yG&z#-4a "),r.qZA())}function Dre(n,t){if(1&n&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&n){const e=r.oxw().$implicit;r.xp6(1),r.hij(" ",e.message," ")}}function Ere(n,t){if(1&n&&(r.TgZ(0,"span",13)(1,"strong"),r._uU(2),r.qZA(),r._uU(3),r._UZ(4,"i",14),r.qZA()),2&n){const e=r.oxw().$implicit;r.xp6(2),r.hij("",e.sendersName.split(" ")[0],"."),r.xp6(1),r.hij(" ",e.formattedTimestamp," ")}}function Tre(n,t){if(1&n&&(r.TgZ(0,"span",13)(1,"strong"),r._uU(2),r.qZA(),r._uU(3),r.ynx(4),r.TgZ(5,"span",15),r._uU(6," - El administrador ha bloqueado este mensaje debido a su contenido inapropiado"),r.qZA(),r._UZ(7,"i",16),r.BQk(),r.qZA()),2&n){const e=r.oxw().$implicit;r.xp6(2),r.hij("",e.sendersName.split(" ")[0],"."),r.xp6(1),r.hij(" ",e.formattedTimestamp," ")}}function Are(n,t){if(1&n&&(r.TgZ(0,"span",13)(1,"strong"),r._uU(2),r.qZA(),r._uU(3),r.ynx(4),r.TgZ(5,"span",17),r._uU(6," - Los comentarios est\xe1n sujetos a moderaci\xf3n antes de ser enviados"),r.qZA(),r._UZ(7,"i",18),r.BQk(),r.qZA()),2&n){const e=r.oxw().$implicit;r.xp6(2),r.hij("",e.sendersName.split(" ")[0],"."),r.xp6(1),r.hij(" ",e.formattedTimestamp," ")}}const Ire=function(n,t,e){return{"current-user-message":n,"current-user-message-refused":t,"other-user-message":e}};function Sre(n,t){if(1&n&&(r.TgZ(0,"div",9)(1,"div",10),r.YNc(2,Cre,2,1,"div",11),r.YNc(3,xre,2,0,"div",11),r.YNc(4,Dre,2,1,"div",11),r._UZ(5,"br"),r.YNc(6,Ere,5,2,"span",12),r.YNc(7,Tre,8,2,"span",12),r.YNc(8,Are,8,2,"span",12),r.qZA()()),2&n){const e=t.$implicit,i=r.oxw();r.xp6(1),r.Q6J("ngClass",r.kEZ(7,Ire,e.senderUid===i.currentUserUid&&"Refused"!==e.status,e.senderUid===i.currentUserUid&&"Refused"===e.status||e.senderUid!==i.currentUserUid&&"Refused"===e.status,e.senderUid!==i.currentUserUid&&"E"!==e.status)),r.xp6(1),r.Q6J("ngIf","Released"===e.status),r.xp6(1),r.Q6J("ngIf","Refused"===e.status),r.xp6(1),r.Q6J("ngIf","E"===e.status&&e.senderUid===i.currentUserUid),r.xp6(2),r.Q6J("ngIf","Released"===e.status),r.xp6(1),r.Q6J("ngIf","Refused"===e.status),r.xp6(1),r.Q6J("ngIf","E"===e.status&&e.senderUid===i.currentUserUid)}}let Mre=(()=>{class n{constructor(e,i,o,s){this.route=e,this.firestore=i,this.loginService=o,this.userService=s,this.sendingMessage=!1,this.user=new Lb,this.currentUserEmail="",this.sendersName="Usuario",this.uidProy="",this.id="",this.chatMessages=[],this.newMessage="",this.tituloPrd="",this.currentUserUid="uid_del_usuario_actual",this.receiveUserUid="uid_del_otro_usuario"}ngOnInit(){this.route.queryParams.subscribe(e=>{this.currentUserUid=e.uidCurrentUser,this.receiveUserUid=e.uidReceiveUser,this.uidProy=e.uidProject,this.id=e.id,this.tituloPrd=e.title}),this.firestore.collection("chats",e=>e.where("senderUid","in",[this.currentUserUid,this.receiveUserUid]).where("receiverUid","in",[this.currentUserUid,this.receiveUserUid]).where("uidProject","==",this.uidProy).orderBy("timestamp")).valueChanges().subscribe(e=>{this.chatMessages=e.map(i=>{const s=i.timestamp?.toDate()?.toLocaleString("es-VE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return{...i,formattedTimestamp:s}}),this.scrollToBottom()})}ngAfterViewInit(){this.scrollToBottom()}sendMessage(){this.sendingMessage=!0,this.loginService.user$.subscribe(e=>{this.currentUserEmail=e?e.email:null,null!=this.currentUserEmail&&this.userService.getusrbyEmail(this.currentUserEmail.toString()).valueChanges().subscribe(i=>{if(i[0]&&(this.user=i[0],this.user.name&&(this.sendersName=this.user.name+" "+this.user.lastname),this.newMessage)){const o=this.firestore.collection("chats").doc(),s=o.ref.id;o.set({senderUid:this.currentUserUid,receiverUid:this.receiveUserUid,message:this.newMessage,timestamp:$C.Z.firestore.FieldValue.serverTimestamp(),uidProject:this.uidProy,sendersName:this.sendersName,status:"E",id:s}).then(()=>{this.newMessage="",this.sendingMessage=!1}).catch(c=>{console.error("Error al enviar el mensaje:",c)})}})})}obtenerPrimerNombre(e){return e.split(" ")[0]}scrollToBottom(){setTimeout(()=>{this.chatBody.nativeElement.scrollTop=this.chatBody.nativeElement.scrollHeight},0)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(zs),r.Y36(Ka),r.Y36(Yr),r.Y36(Zh))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-chat"]],viewQuery:function(e,i){if(1&e&&r.Gf(wre,5),2&e){let o;r.iGM(o=r.CRH())&&(i.chatBody=o.first)}},decls:12,vars:5,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],["chatBody",""],["class","msmcontent",4,"ngFor","ngForOf"],[1,"card-footer"],[1,"input-group","mb-3"],["rows","2","wrap","hard","placeholder","Escribe un mensaje","aria-label","Escribe un mensaje","aria-describedby","button-addon2",1,"form-control",2,"resize","none",3,"ngModel","ngModelChange","keydown.enter"],["type","button","id","button-addon2",1,"btn","btn-outline-secondary",3,"disabled","click"],[1,"msmcontent"],[2,"overflow","hidden",3,"ngClass"],[4,"ngIf"],["class","smstime","style","float: right;",4,"ngIf"],[1,"smstime",2,"float","right"],["data-toggle","tooltip","data-placement","top","title","Enviado",1,"fa-solid","fa-check-double","facheckCustom"],[2,"color","red","text-decoration","none","font-size","12px"],["data-toggle","tooltip","data-placement","top","title","Rechazado",1,"fas","fa-times","fatimesCustom"],[2,"color","#022c26","; text-decoration","none","font-size","12px"],["aria-hidden","true","data-toggle","tooltip","data-placement","top","title","Moderaci\xf3n pendiente",1,"fa","fa-check","facheckCustom"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"div",1),r._uU(2),r.qZA(),r.TgZ(3,"div",2,3),r.YNc(5,Sre,9,11,"div",4),r.qZA(),r.TgZ(6,"div",5)(7,"div",6)(8,"textarea",7),r.NdJ("ngModelChange",function(s){return i.newMessage=s})("keydown.enter",function(){return i.sendMessage()}),r._uU(9,"      "),r.qZA(),r.TgZ(10,"button",8),r.NdJ("click",function(){return i.sendMessage()}),r._uU(11,"Enviar"),r.qZA()()()()),2&e&&(r.xp6(2),r.AsE(" CHAT - Proyecto #",i.id," (",i.tituloPrd,") "),r.xp6(3),r.Q6J("ngForOf",i.chatMessages),r.xp6(3),r.Q6J("ngModel",i.newMessage),r.xp6(2),r.Q6J("disabled",i.sendingMessage))},dependencies:[Gn,cr,Un,qi,vi,ha],styles:[".card[_ngcontent-%COMP%]{margin-top:5px;margin-left:5px;max-width:700px;min-width:250px;display:flex;flex-direction:column;justify-content:space-between;height:100%}.card-header[_ngcontent-%COMP%]{font-weight:500;background-color:#edf0f2e9;color:#dc3545;height:60px;display:flex;align-items:center;justify-content:left;border-bottom-color:#dc3545}.card-body[_ngcontent-%COMP%]{height:300px;overflow-y:scroll;scroll-behavior:smooth;scrollbar-width:thin;scrollbar-color:transparent transparent}.card-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.card-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:transparent}.msmcontent[_ngcontent-%COMP%]{display:block;text-align:right}.current-user-message[_ngcontent-%COMP%]{background-color:#ccf7ff;color:#2b2e2e;font-size:14px;margin:3px;padding:5px 10px;border-top-left-radius:15px;border-bottom-right-radius:15px;text-align:left;display:inline-block}.other-user-message[_ngcontent-%COMP%]{background-color:#f8e9fb;color:#2b2e2e;font-size:14px;margin:3px;padding:5px 10px;border-top-right-radius:15px;border-bottom-left-radius:15px;text-align:right;display:inline-block}.card-footer[_ngcontent-%COMP%]{display:flex}input[type=text][_ngcontent-%COMP%]{flex:1;margin-right:10px}.smstime[_ngcontent-%COMP%]{font-size:x-small;color:#010918}.current-user-message-refused[_ngcontent-%COMP%]{background-color:#eaeaee;font-size:14px;margin:3px;padding:5px 10px;border-top-right-radius:15px;border-bottom-left-radius:15px;text-align:right;display:inline-block;-webkit-text-decoration:line-through double red;text-decoration:line-through double red}.facheckCustom[_ngcontent-%COMP%]{margin-left:10px;color:gray}.fatimesCustom[_ngcontent-%COMP%]{margin-left:10px;color:red}"]}),n})();function kre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",8)(1,"label",9),r._uU(2,"P\xe1ginas"),r.qZA(),r.TgZ(3,"input",32),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.nroPaginas=o)}),r.qZA()()}if(2&n){const e=r.oxw();r.xp6(3),r.Q6J("ngModel",e.nroPaginas)}}function Rre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",8)(1,"label",9),r._uU(2,"Porcentaje de Avance"),r.qZA(),r.TgZ(3,"input",33),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.porcentajeAvance=o)}),r.qZA()()}if(2&n){const e=r.oxw();r.xp6(3),r.Q6J("ngModel",e.porcentajeAvance)}}function Ore(n,t){1&n&&(r.TgZ(0,"button",34),r._UZ(1,"span",35),r.TgZ(2,"span",36),r._uU(3,"Subiendo..."),r.qZA()())}function Pre(n,t){1&n&&(r.TgZ(0,"span"),r._uU(1,"Archivo subido exitosamente!"),r.qZA())}function Nre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"span",41),r.NdJ("click",function(){r.CHM(e);const o=r.oxw().$implicit,s=r.oxw();return r.KtG(s.showConfirmationIcons(o))}),r._uU(1,"Eliminar"),r.qZA()}}function Fre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"span")(1,"i",42),r.NdJ("click",function(){r.CHM(e);const o=r.oxw().$implicit,s=r.oxw();return r.KtG(s.confirmDelete(o))}),r.qZA(),r.TgZ(2,"span",43)(3,"i",44),r.NdJ("click",function(){r.CHM(e);const o=r.oxw().$implicit,s=r.oxw();return r.KtG(s.cancelDelete(o))}),r.qZA()()()}}function Lre(n,t){if(1&n&&(r.TgZ(0,"tr")(1,"td",28)(2,"a",37),r._UZ(3,"img",38),r.qZA()(),r.TgZ(4,"td")(5,"a",37),r._uU(6),r.qZA()(),r.TgZ(7,"td",29),r._uU(8),r.qZA(),r.TgZ(9,"td",39),r.YNc(10,Nre,2,0,"span",40),r.YNc(11,Fre,4,0,"span",21),r.qZA()()),2&n){const e=t.$implicit,i=r.oxw();r.xp6(2),r.Q6J("href",e.downloadURL,r.LSH),r.xp6(3),r.Q6J("href",e.downloadURL,r.LSH),r.xp6(1),r.Oqu(e.title),r.xp6(2),r.hij(" ",i.formatFecha(e.uploadDate)," "),r.xp6(2),r.Q6J("ngIf",e.OwnerId==i.currentUserUID||i.usertypeAdmin),r.xp6(1),r.Q6J("ngIf",i.confirmDeleteDoc[e.docName])}}function Ure(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"span",41),r.NdJ("click",function(){r.CHM(e);const o=r.oxw().$implicit,s=r.oxw();return r.KtG(s.showConfirmationIcons(o))}),r._uU(1,"Eliminar"),r.qZA()}}function Vre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"span")(1,"i",42),r.NdJ("click",function(){r.CHM(e);const o=r.oxw().$implicit,s=r.oxw();return r.KtG(s.confirmDelete(o))}),r.qZA(),r.TgZ(2,"span",43)(3,"i",44),r.NdJ("click",function(){r.CHM(e);const o=r.oxw().$implicit,s=r.oxw();return r.KtG(s.cancelDelete(o))}),r.qZA()()()}}function Zre(n,t){if(1&n&&(r.TgZ(0,"tr")(1,"td",28)(2,"a",37),r._UZ(3,"img",38),r.qZA()(),r.TgZ(4,"td")(5,"a",37),r._uU(6),r.qZA()(),r.TgZ(7,"td",29),r._uU(8),r.qZA(),r.TgZ(9,"td",29),r._uU(10),r.qZA(),r.TgZ(11,"td",29),r._uU(12),r.qZA(),r.TgZ(13,"td",39),r.YNc(14,Ure,2,0,"span",40),r.YNc(15,Vre,4,0,"span",21),r.qZA()()),2&n){const e=t.$implicit,i=r.oxw();r.xp6(2),r.Q6J("href",e.downloadURL,r.LSH),r.xp6(3),r.Q6J("href",e.downloadURL,r.LSH),r.xp6(1),r.Oqu(e.title),r.xp6(2),r.Oqu(e.numeroPaginas),r.xp6(2),r.hij(" ",e.porcentajeAvance,"% "),r.xp6(2),r.hij(" ",i.formatFecha(e.uploadDate)," "),r.xp6(2),r.Q6J("ngIf",e.OwnerId==i.currentUserUID||i.usertypeAdmin),r.xp6(1),r.Q6J("ngIf",i.confirmDeleteDoc[e.docName])}}let Bre=(()=>{class n{constructor(e,i,o,s,c){this.route=e,this.loginService=i,this.storage=o,this.firestore=s,this.elementRef=c,this.selectedFileName="",this.documentTitle="",this.porcentajeAvance=0,this.nroPaginas=0,this.tipoDocumento="",this.uploading=!1,this.uploadSuccess=!1,this.documentsTut=[],this.documentsCli=[],this.usertypeAdmin=!1,this.confirmDeleteDoc={},this.currentUserEmail="",this.currentUserUID="",this.displayField=!1,this.createBy="",this.createByEmail="",this.clientId="",this.clientName="",this.tutorId="",this.tutorName="",this.id="",this.uidProject="",this.title=""}onFileSelected(e){this.selectedFile=e.target.files[0],this.selectedFileName=this.selectedFile?this.selectedFile.name:null}uploadDocument(){this.uploading=!0;const e=this.firestore.createId(),i=`${e}_${this.selectedFileName}`,o=this.storage.ref(`docs/${i}`);o.put(this.selectedFile).then(()=>{o.getDownloadURL().subscribe(c=>{const d={id:e,docName:i,title:this.documentTitle,projectId:this.uidProject,projectNro:this.id,projectName:this.title,OwnerId:this.createBy,OwnerEmail:this.createByEmail,clienteId:this.clientId,clientName:this.clientName,tutorId:this.tutorId,tutorName:this.tutorName,numeroPaginas:this.nroPaginas,porcentajeAvance:this.porcentajeAvance,tipoDocumento:this.tipoDocumento,uploadDate:new Date,downloadURL:c,status:"active"};this.firestore.collection("docs").doc(e).set(d).then(()=>{this.uploading=!1,this.uploadSuccess=!0,console.log("Documento subido exitosamente"),this.selectedFile=void 0,this.documentTitle="",this.tipoDocumento="",document.getElementById("fileInput").value="",this.selectedFileName="";const _=this.elementRef.nativeElement.querySelector("#documentTitle");_&&(_.value=""),this.tipoDocumento=""}).catch(p=>{this.uploading=!1,console.error("Error al subir el documento",p)})})})}showConfirmationIcons(e){this.confirmDeleteDoc={},this.confirmDeleteDoc[e.docName]=!0}confirmDelete(e){this.storage.ref(`docs/${e.docName}`).delete().pipe((0,$r.b)(()=>{this.uploadSuccess=!1,this.selectedFile=void 0,this.selectedFileName=null,console.log("Documento eliminado correctamente"),this.firestore.collection("docs").doc(e.id).delete().then(()=>{console.log("Documento en la colecci\xf3n 'docs' eliminado correctamente")}).catch(o=>{console.error("Error al eliminar el documento de la colecci\xf3n 'docs'",o)})})).subscribe({error:o=>{console.error("Error al eliminar el documento",o)}}),this.confirmDeleteDoc[e.docName]=!1}cancelDelete(e){this.confirmDeleteDoc[e.docName]=!1}ngOnInit(){this.route.queryParams.subscribe(e=>{this.createBy=e.createBy,this.createByEmail=e.createByEmail,this.clientId=e.clientId,this.clientName=e.clientName,this.tutorId=e.tutorId,this.tutorName=e.tutorName,this.id=e.id,this.uidProject=e.uidProject,this.title=e.title}),this.firestore.collection("docs",e=>e.where("projectId","==",this.uidProject).where("projectNro","==",this.id).where("OwnerId","==",this.tutorId).orderBy("uploadDate","desc")).valueChanges().subscribe(e=>{this.documentsTut=e}),this.firestore.collection("docs",e=>e.where("projectId","==",this.uidProject).where("projectNro","==",this.id).where("OwnerId","!=",this.tutorId).orderBy("OwnerId").orderBy("uploadDate","desc")).valueChanges().subscribe(e=>{this.documentsCli=e}),this.loginService.getUserObservable().subscribe(e=>{e&&(this.currentUserEmail=e.email,this.currentUserUID=e.uid,this.loginService.getUserName(e.uid).subscribe(i=>{i.user_type&&(this.displayField="Cliente"!=i.user_type,"Admin"==i.user_type&&(this.usertypeAdmin=!0))}))})}formatFecha(e){const i=e.toDate();return`${i.getDate()}/${i.getMonth()+1}/${i.getFullYear()}`}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(zs),r.Y36(Yr),r.Y36(cH),r.Y36(Ka),r.Y36(r.SBq))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-document-upload"]],decls:94,vars:13,consts:[[1,"register-container","bg-light","rounded"],[1,"main-content"],[1,"container-fluid"],[1,"row","pt-1"],[1,"col-4","col-md-4"],[1,"text-left","fw-bold"],[3,"ngSubmit"],["uploadForm","ngForm"],[1,"form-group"],["for","documentTitle"],["type","text","max","70","id","documentTitle","name","documentTitle","required","",1,"form-control",3,"ngModel","ngModelChange"],["class","form-group",4,"ngIf"],["id","user_type","required","","value","selected","name","user_type","required","",1,"form-control",3,"ngModel","ngModelChange"],["selected",""],[1,"form-group","mb-3"],[1,"custom-file"],["id","file",1,"file-select",2,"margin-right","10px"],["type","file","id","fileInput","accept","application/pdf, .doc, .docx, .xls, .xlsx, .ppt, .pptx, .png, .jpg, .jpeg","required","",1,"custom-file-input",3,"disabled","change"],["for","file",1,"custom-file-label"],["type","submit",1,"btn2",3,"disabled"],["class","btn btn-primary","style","margin-right: 10px","type","button","disabled","",4,"ngIf"],[4,"ngIf"],[1,"col-8","col-md-8"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"table","table-striped"],["colspan","3"],[2,"width","35px"],[2,"width","50px"],[4,"ngFor","ngForOf"],["colspan","4"],["type","number","min","1","max","200","id","nroPaginas","name","nroPaginas",1,"form-control",3,"ngModel","ngModelChange"],["type","number","min","0","max","100","id","porcentajeAvance","name","porcentajeAvance",1,"form-control",3,"ngModel","ngModelChange"],["type","button","disabled","",1,"btn","btn-primary",2,"margin-right","10px"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"visually-hidden"],["target","_blank",1,"text-decoration-none",3,"href"],["src","assets/img/descarga-de-archivos.png",1,"img-fluid",2,"width","20px","height","15px"],[2,"width","150px","color","#dc3545"],["style","margin: 0 5px; cursor: pointer;",3,"click",4,"ngIf"],[2,"margin","0 5px","cursor","pointer",3,"click"],["title","Confirmar",1,"fas","fa-check",2,"color","rgb(5, 5, 5)","cursor","pointer",3,"click"],[2,"margin","0 5px"],["title","Cancelar",1,"fas","fa-times",2,"color","red","cursor","pointer",3,"click"]],template:function(e,i){if(1&e&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),r._uU(6,"Agregar Documentos"),r.qZA(),r.TgZ(7,"form",6,7),r.NdJ("ngSubmit",function(){return i.uploadDocument()}),r.TgZ(9,"div",8)(10,"label",9),r._uU(11,"T\xedtulo*"),r.qZA(),r.TgZ(12,"input",10),r.NdJ("ngModelChange",function(s){return i.documentTitle=s}),r.qZA()(),r.YNc(13,kre,4,1,"div",11),r.YNc(14,Rre,4,1,"div",11),r.TgZ(15,"div",8)(16,"label",9),r._uU(17,"Tipo de Documento*"),r.qZA(),r.TgZ(18,"select",12),r.NdJ("ngModelChange",function(s){return i.tipoDocumento=s}),r.TgZ(19,"option",13),r._uU(20,"Avance de proyecto (Entrega)"),r.qZA(),r.TgZ(21,"option"),r._uU(22," Documentos de referencia (Preliminares, Arranque) "),r.qZA(),r.TgZ(23,"option"),r._uU(24,"Correcciones"),r.qZA(),r.TgZ(25,"option"),r._uU(26,"Pautas universidad"),r.qZA(),r.TgZ(27,"option"),r._uU(28,"Plagio"),r.qZA(),r.TgZ(29,"option"),r._uU(30,"Avance propio"),r.qZA(),r.TgZ(31,"option"),r._uU(32,"PowerPoint"),r.qZA(),r.TgZ(33,"option"),r._uU(34,"Esquema"),r.qZA(),r.TgZ(35,"option"),r._uU(36,"Instrucciones generales"),r.qZA(),r.TgZ(37,"option"),r._uU(38,"R\xfabrica"),r.qZA(),r.TgZ(39,"option"),r._uU(40,"Informe del tutor"),r.qZA(),r.TgZ(41,"option"),r._uU(42,"Informe de la comisi\xf3n / jurado"),r.qZA(),r.TgZ(43,"option"),r._uU(44,"Calificaci\xf3n obtenida"),r.qZA(),r.TgZ(45,"option"),r._uU(46,"Otro"),r.qZA()(),r._UZ(47,"br"),r.qZA(),r.TgZ(48,"div",14)(49,"div",15)(50,"div",16)(51,"input",17),r.NdJ("change",function(s){return i.onFileSelected(s)}),r.qZA()(),r.TgZ(52,"label",18),r._uU(53),r.qZA()()(),r.TgZ(54,"button",19),r._uU(55," Subir Documento "),r.qZA(),r.YNc(56,Ore,4,0,"button",20),r.YNc(57,Pre,2,0,"span",21),r.qZA()(),r.TgZ(58,"div",22)(59,"div",23)(60,"div",24)(61,"h3",5),r._uU(62),r.qZA()(),r.TgZ(63,"div",25)(64,"table",26)(65,"thead")(66,"tr")(67,"th",27),r._uU(68,"Cliente"),r.qZA()(),r.TgZ(69,"tr"),r._UZ(70,"th",28),r.TgZ(71,"th"),r._uU(72,"T\xedtulo"),r.qZA(),r.TgZ(73,"th",29),r._uU(74,"Creado"),r.qZA()()(),r.TgZ(75,"tbody"),r.YNc(76,Lre,12,6,"tr",30),r.qZA()(),r.TgZ(77,"table",26)(78,"thead")(79,"tr")(80,"th",31),r._uU(81,"Tutor"),r.qZA()(),r.TgZ(82,"tr"),r._UZ(83,"th"),r.TgZ(84,"th"),r._uU(85,"T\xedtulo"),r.qZA(),r.TgZ(86,"th",29),r._uU(87,"P\xe1ginas"),r.qZA(),r.TgZ(88,"th",29),r._uU(89,"Avance"),r.qZA(),r.TgZ(90,"th",29),r._uU(91,"Creado"),r.qZA()()(),r.TgZ(92,"tbody"),r.YNc(93,Zre,16,8,"tr",30),r.qZA()()()()()()()()()),2&e){const o=r.MAs(8);r.xp6(12),r.Q6J("ngModel",i.documentTitle),r.xp6(1),r.Q6J("ngIf",i.displayField),r.xp6(1),r.Q6J("ngIf",i.displayField),r.xp6(4),r.Q6J("ngModel",i.tipoDocumento),r.xp6(33),r.Q6J("disabled",i.uploading),r.xp6(2),r.Oqu(i.selectedFileName||" "),r.xp6(1),r.Q6J("disabled",!o.valid||!i.selectedFile),r.xp6(2),r.Q6J("ngIf",i.uploading),r.xp6(1),r.Q6J("ngIf",i.uploadSuccess),r.xp6(5),r.AsE(" Documentos: Proyecto #",i.id," - ",i.title," "),r.xp6(14),r.Q6J("ngForOf",i.documentsCli),r.xp6(17),r.Q6J("ngForOf",i.documentsTut)}},dependencies:[cr,Un,Il,Wd,ku,qi,Bf,Sc,vi,as,cs,Y0,G0,ha,qr],styles:['.btn2[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;border:none;padding:10px 20px;cursor:pointer;transition:background-color .3s;width:150px;border-radius:10px}.btn2[_ngcontent-%COMP%]:hover{background-color:#343a40}.btn2[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.custom-file-input[_ngcontent-%COMP%]{cursor:pointer}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block}.file-select[_ngcontent-%COMP%]:before{background-color:#134e9d;cursor:pointer;color:#fff;display:flex;justify-content:center;align-items:center;border-radius:10px;content:"Seleccionar";position:absolute;inset:0}.file-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{opacity:0;width:150px;height:32px;display:inline-block}#file[_ngcontent-%COMP%]:before{content:"Seleccionar archivo"}a[_ngcontent-%COMP%]{outline:none;text-decoration:none;padding:2px 1px 0 2px}a[_ngcontent-%COMP%]:link{color:#292929}a[_ngcontent-%COMP%]:focus{color:#3883e4}a[_ngcontent-%COMP%]:hover{color:#3883e4}']}),n})();var qre=U(930);function jre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"tr")(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.TgZ(9,"td"),r._uU(10),r.qZA(),r.TgZ(11,"td")(12,"button",11),r.NdJ("click",function(){const s=r.CHM(e).$implicit,c=r.oxw(2);return r.KtG(c.asignrSol(s.leadUID,s.currentUser,s.currentUserId))}),r._uU(13,"Asignar"),r.qZA()()()}if(2&n){const e=t.$implicit,i=r.oxw(2);r.xp6(2),r.Oqu(e.currentUser),r.xp6(2),r.Oqu(e.cliente),r.xp6(2),r.Oqu(e.titulo),r.xp6(2),r.Oqu(i.formatFecha(e.lastUpdate)),r.xp6(2),r.Oqu(e.status)}}function zre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"div")(4,"a",15),r._uU(5),r.qZA()(),r.TgZ(6,"div",16),r._uU(7),r.qZA()(),r.TgZ(8,"div",17),r._uU(9),r.qZA(),r.TgZ(10,"div",18),r._uU(11),r.qZA(),r.TgZ(12,"div",19)(13,"span",20),r._uU(14," Moderaci\xf3n pendiente"),r.qZA()(),r.TgZ(15,"div",21)(16,"i",22),r.NdJ("click",function(){const s=r.CHM(e).$implicit,c=r.oxw(2);return r.KtG(c.approveMessages(!0,s.id))}),r.qZA(),r.TgZ(17,"i",23),r.NdJ("click",function(){const s=r.CHM(e).$implicit,c=r.oxw(2);return r.KtG(c.approveMessages(!1,s.id))}),r.qZA()()()()}if(2&n){const e=t.$implicit,i=r.oxw(2);r.xp6(5),r.Oqu(e.sendersName),r.xp6(2),r.Oqu(i.formatFechacts(e.timestamp)),r.xp6(2),r.hij(" ",e.message," "),r.xp6(2),r.hij(" ",e.uid," ")}}function $re(n,t){if(1&n&&(r.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h2"),r._uU(6,"Listado de Postulaciones"),r.qZA()(),r.TgZ(7,"div",6)(8,"table",7)(9,"thead")(10,"tr")(11,"th"),r._uU(12,"Postulante"),r.qZA(),r.TgZ(13,"th"),r._uU(14,"Cliente"),r.qZA(),r.TgZ(15,"th"),r._uU(16,"Proyecto"),r.qZA(),r.TgZ(17,"th"),r._uU(18,"Fecha"),r.qZA(),r.TgZ(19,"th"),r._uU(20,"Estado"),r.qZA(),r._UZ(21,"th"),r.qZA()(),r.TgZ(22,"tbody"),r.YNc(23,jre,14,5,"tr",8),r.qZA()()()()(),r.TgZ(24,"div",9)(25,"div",4)(26,"div",5)(27,"h2"),r._uU(28,"Mensajes de Chat"),r.qZA()(),r.TgZ(29,"div",6),r.YNc(30,zre,18,4,"div",10),r.qZA()()()()()),2&n){const e=r.oxw();r.xp6(23),r.Q6J("ngForOf",e.postulaciones),r.xp6(7),r.Q6J("ngForOf",e.chats)}}let Gre=(()=>{class n{constructor(e,i,o,s,c,d){this.router=e,this.proyectServices=i,this.alertService=o,this.firestore=s,this.leadServices=c,this.loginService=d,this.postulaciones=[],this.chats=[],this.project=new vM,this.currentUserEmail=null,this.currentUserUid=null,this.currentDate=new Date,this.displayframe=!1}ngOnInit(){this.getPostulaciones(),this.getChats(),this.loginService.getUserObservable().subscribe(e=>{e&&this.loginService.getUserTypeObservable(e.uid).subscribe(i=>{this.displayframeOpt(i)})})}displayframeOpt(e){e&&("Admin"==e||"Asistente"==e?this.displayframe=!0:this.router.navigate(["/main"]))}retrieveLeads(e,i,o){var s=this;return(0,de.Z)(function*(){try{const c=yield function Hre(n,t){const e="object"==typeof t;return new Promise((i,o)=>{const s=new qre.Hp({next:c=>{i(c),s.unsubscribe()},error:o,complete:()=>{e?i(t.defaultValue):o(new Ip)}});n.subscribe(s)})}(s.leadServices.getbyId(e).snapshotChanges().pipe((0,Ke.U)(d=>d.map(p=>({id:p.payload.doc.id,...p.payload.doc.data()})))));s.leads=c,s.loginService.user$.subscribe(d=>{s.currentUserEmail=d?d.email:null}),s.project.registration_date=s.currentDate,s.project.lastUpdate=s.currentDate,s.project.lastUpdateUser=null!=s.currentUserEmail?s.currentUserEmail:"",s.project.status=!0,s.project.state="Activo",s.project.client_name=s.leads[0].name,s.project.client_lastname=s.leads[0].lastname,s.project.client_email=s.leads[0].email,s.project.tutor_name=i,s.project.tutor_id=o,s.project.client_whatsapp=s.leads[0].wapp,s.project.pais=s.leads[0].country,s.project.ciudad=s.leads[0].city,s.project.paisCode=s.leads[0].paisCode,s.project.universidad=s.leads[0].university,s.project.titulo=s.leads[0].titulo,s.project.bibliografia=s.leads[0].bibliografia,s.project.carrera=s.leads[0].carrera,s.project.especialidad=s.leads[0].especialidad,s.project.tema=s.leads[0].tema,s.project.tipofuente=s.leads[0].tipofuente,s.project.tamanofuente=s.leads[0].tamanofuente,s.project.interlineado=s.leads[0].interlineado,s.project.numero_paginas=s.leads[0].numero_paginas,s.project.entregas=s.leads[0].entregas,s.project.descripcion=s.leads[0].descripcion,s.project.fecha_inicio=s.leads[0].fecha_inicio,s.project.fecha_entrega1=s.leads[0].fecha_entrega1,s.project.fecha_entrega2=s.leads[0].fecha_entrega2,s.project.fecha_entrega3=s.leads[0].fecha_entrega3,s.project.fecha_entrega4=s.leads[0].fecha_entrega4,s.proyectServices.create(s.project,e).then(()=>{console.log("\xa1Proyecto asignado con \xe9xito!"),s.firestore.collection("docs",d=>d.where("projectId","==",s.project.uid)).get().subscribe(d=>{d.forEach(p=>{p.ref.update({projectNro:s.project.project_id})})})}),s.updatePostulacionStatus(e,"Asignada a "+i),s.leads&&s.leads[0]&&s.leads[0].uid?s.updateLeadStatus(s.leads[0].uid,"Postulaci\xf3n Cerrada",!1):console.error("Advertencia: No se pudo acceder a this.leads[0].uid. La llamada a updateLeadStatus se omiti\xf3.")}catch(c){console.error("Error al recuperar los datos de leads:",c)}})()}doSomething(e,i){this.alertService.ShowAlert(e,i,3e3)}asignrSol(e,i,o){this.retrieveLeads(e,i,o)}getPostulaciones(){this.firestore.collection("postulaciones",e=>e.where("status","==","Pendiente").orderBy("titulo").orderBy("lastUpdate","desc")).valueChanges().subscribe(e=>{this.postulaciones=e})}getChats(){this.firestore.collection("chats",e=>e.where("status","==","E").where("uidProject","!=","AyudaAdmin").orderBy("uidProject","desc").orderBy("timestamp","desc")).valueChanges().subscribe(e=>{this.chats=e})}updateChatStatus(e,i){this.firestore.collection("chats").doc(e).update({status:i}).then(()=>{console.log("Estado del chat actualizado exitosamente")}).catch(o=>{console.error("Error al actualizar el estado del chat:",o)})}updateLeadStatus(e,i,o){this.firestore.collection("leads").doc(e).update({state:i,status:o}).then(()=>{console.log("Lead actualizado exitosamente")}).catch(s=>{console.error("Error al actualizar lead: ",s)})}updatePostulacionStatus(e,i){this.firestore.collection("postulaciones",o=>o.where("leadUID","==",e)).get().subscribe({next:o=>{o.forEach(s=>{s.ref.update({status:i}).then(()=>{console.log("Postulaci\xf3n actualizada exitosamente")}).catch(c=>{console.error("Error al actualizar postulaci\xf3n: ",c)})})},error:o=>{console.error("Error al obtener postulaciones: ",o)}})}approveMessages(e,i){this.updateChatStatus(i,e?"Released":"Refused")}formatFecha(e){if(e&&"function"==typeof e.toDate){const i=e.toDate();return`${i.getDate()}/${i.getMonth()+1}/${i.getFullYear()}`}return e instanceof Date?`${e.getDate()}/${e.getMonth()+1}/${e.getFullYear()}`:""}formatFechacts(e){if(e&&"function"==typeof e.toDate){const i=e.toDate();return`${i.getDate()}/${i.getMonth()+1}/${i.getFullYear()} ${i.getHours()}:${i.getMinutes()}:${i.getSeconds()}`}return e instanceof Date?`${e.getDate()}/${e.getMonth()+1}/${e.getFullYear()} ${e.getHours()}:${e.getMinutes()}:${e.getSeconds()}`:""}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(a),r.Y36(EH),r.Y36($h),r.Y36(Ka),r.Y36(Cq),r.Y36(Yr))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-managerequests"]],decls:1,vars:1,consts:[["class","container1",4,"ngIf"],[1,"container1"],[1,"row"],[1,"col-lg-7","col-md-7"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"table"],[4,"ngFor","ngForOf"],[1,"col-lg-5","col-md-5"],["class","grid grid-cols-1 sm:grid-cols-2 gap-4 md:hidden",4,"ngFor","ngForOf"],["type","submit",1,"btn2",3,"click"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","md:hidden"],[1,"bg-white","p-3","rounded-lg","shadow","mt-2"],[1,"flex","items-center","space-x-2","text-sm"],["href","#",1,"text-blue-500","font-bold","hover:underline"],[1,"text-gray-500"],[1,"text-sm","text-gray-700"],[1,"text-sm","font-medium","text-black"],["role","alert",1,"alert","alert-danger","p-0","m-0"],[1,"p-1.5","text-xs","font-medium","uppercase","tracking-wider","rounded-lg","bg-opacity-50"],[1,"rowbtn"],["data-toggle","tooltip","data-placement","top","title","Liberar Mensaje",1,"fas","fa-check","facheckCustom",3,"click"],["data-toggle","tooltip","data-placement","top","title","Eliminar Mensaje",1,"fas","fa-times","fatimesCustom",3,"click"]],template:function(e,i){1&e&&r.YNc(0,$re,31,2,"div",0),2&e&&r.Q6J("ngIf",i.displayframe)},dependencies:[cr,Un],styles:[".space-y-3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:.75rem}.rowbtn[_ngcontent-%COMP%]{padding-left:0;padding-top:10px;padding-bottom:10px}.facheckCustom[_ngcontent-%COMP%]{margin-right:10px;cursor:pointer}.facheckCustom[_ngcontent-%COMP%]:hover{color:#31bb3c}.fatimesCustom[_ngcontent-%COMP%]{color:#fe6464;cursor:pointer}.fatimesCustom[_ngcontent-%COMP%]:hover{color:red}.btn2[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;border:none;padding:1px 2px;cursor:pointer;transition:background-color .3s;width:70px;height:25px;border-radius:10px}.btn2[_ngcontent-%COMP%]:hover{background-color:#343a40}.btn2[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}"]}),n})();class jL{}function Yre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",27)(1,"div",28)(2,"div",29)(3,"div")(4,"h3",30),r._uU(5,"Datos de Roles"),r.qZA()()(),r.TgZ(6,"div",29)(7,"div",31)(8,"i",32),r.NdJ("click",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.closeview())}),r.qZA()()()(),r.TgZ(9,"div",33)(10,"div",34)(11,"label",35),r._uU(12,"Id"),r.qZA(),r.TgZ(13,"p",36),r._uU(14),r.qZA()()(),r.TgZ(15,"div",33)(16,"div",34)(17,"label",37),r._uU(18,"Nombre del Role"),r.qZA(),r.TgZ(19,"p",36),r._uU(20),r.qZA()()(),r.TgZ(21,"div",33)(22,"div",34)(23,"label",38),r._uU(24,"Descripci\xf3n"),r.qZA(),r.TgZ(25,"p",36),r._uU(26),r.qZA()()()()}if(2&n){const e=r.oxw();r.xp6(14),r.Oqu(e.role.roleId),r.xp6(6),r.Oqu(e.role.roleName),r.xp6(6),r.Oqu(e.role.roleDescripcion)}}function Wre(n,t){1&n&&(r.TgZ(0,"div",48),r._uU(1," El role es requerido. "),r.qZA())}function Kre(n,t){1&n&&(r.TgZ(0,"div",48),r._uU(1," Ingrese una descripci\xf3n sobre este Role "),r.qZA())}function Qre(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div")(1,"div",27)(2,"div",28)(3,"div",29)(4,"div")(5,"h3",30),r._uU(6),r.qZA()()(),r.TgZ(7,"div",29)(8,"div",31)(9,"i",32),r.NdJ("click",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.closeview())}),r.qZA()()()(),r.TgZ(10,"div")(11,"form",null,39)(13,"div",40)(14,"div",41)(15,"div",33)(16,"div",34)(17,"label",37),r._uU(18,"Role*"),r.qZA(),r.TgZ(19,"input",42,43),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.role.roleName=o)}),r.qZA(),r.YNc(21,Wre,2,0,"div",44),r.qZA()(),r.TgZ(22,"div",33)(23,"div",34)(24,"label",38),r._uU(25,"Descripci\xf3n*"),r.qZA(),r.TgZ(26,"textarea",45,46),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.role.roleDescripcion=o)}),r._uU(28,"\n                      "),r.qZA(),r.YNc(29,Kre,2,0,"div",44),r.qZA()()()(),r.TgZ(30,"button",47),r.NdJ("click",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.saveRole())}),r._uU(31,"Enviar"),r.qZA()()(),r._UZ(32,"br")(33,"br"),r.qZA()()}if(2&n){const e=r.MAs(12),i=r.MAs(20),o=r.MAs(27),s=r.oxw();r.xp6(6),r.Oqu(s.strtitle),r.xp6(13),r.Q6J("ngModel",s.role.roleName),r.xp6(2),r.Q6J("ngIf",i.invalid&&(i.dirty||i.touched)),r.xp6(5),r.Q6J("ngModel",s.role.roleDescripcion),r.xp6(3),r.Q6J("ngIf",o.invalid&&(o.dirty||o.touched)),r.xp6(1),r.Q6J("disabled",!e.form.valid)}}function Jre(n,t){1&n&&(r.TgZ(0,"span",49),r._UZ(1,"i",50),r._uU(2," Agregar"),r.qZA())}function Xre(n,t){1&n&&(r.TgZ(0,"span",49),r._UZ(1,"i",51),r.qZA())}function eoe(n,t){1&n&&(r.TgZ(0,"th",52),r._uU(1,"ID "),r.qZA())}function toe(n,t){if(1&n&&(r.TgZ(0,"td",53),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij("",e.roleId," ")}}function noe(n,t){1&n&&(r.TgZ(0,"th",52),r._uU(1," NOMBRE "),r.qZA())}function ioe(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"td",54),r.NdJ("click",function(){const s=r.CHM(e).$implicit,c=r.oxw();return r.KtG(c.viewRecod(s))}),r._uU(1),r.qZA()}if(2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.roleName,"")}}function roe(n,t){1&n&&(r.TgZ(0,"th",52),r._uU(1," ESTADO "),r.qZA())}function ooe(n,t){if(1&n&&(r.TgZ(0,"td",53),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.status?"Activo":""," ")}}function soe(n,t){1&n&&r._UZ(0,"tr",55)}function aoe(n,t){1&n&&r._UZ(0,"tr",56)}function loe(n,t){1&n&&(r.TgZ(0,"tr",57)(1,"td",58),r._uU(2,"No hay datos que coincidan con la busqueda"),r.qZA()())}function coe(n,t){1&n&&(r.TgZ(0,"th",59),r._uU(1,"OPC"),r.qZA())}function uoe(n,t){1&n&&(r.ynx(0),r._UZ(1,"i",67),r.BQk())}function doe(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"i",68),r.NdJ("click",function(){r.CHM(e);const o=r.oxw().$implicit,s=r.oxw();return r.KtG(s.deleteConfirmed(o))}),r.qZA(),r.TgZ(1,"i",69),r.NdJ("click",function(){r.CHM(e);const o=r.oxw().$implicit,s=r.oxw();return o.confirmDelete=!1,r.KtG(s.toggleConfirmDelete(o))}),r.qZA()}}function hoe(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"td",60)(1,"button",61),r.NdJ("click",function(){const s=r.CHM(e).$implicit,c=r.oxw();return r.KtG(c.editRole(s))}),r._UZ(2,"i",62),r.qZA(),r.TgZ(3,"div",63)(4,"button",64),r.NdJ("click",function(){const s=r.CHM(e).$implicit,c=r.oxw();return r.KtG(c.toggleConfirmDelete(s))}),r.YNc(5,uoe,2,0,"ng-container",65),r.qZA(),r.YNc(6,doe,2,0,"ng-template",null,66,r.W1O),r.qZA()()}if(2&n){const e=t.$implicit,i=r.MAs(7);r.xp6(5),r.Q6J("ngIf",!e.confirmDelete)("ngIfElse",i)}}const foe=function(){return[10,25,50]};let poe=(()=>{class n{constructor(e,i,o,s){this.route=e,this.loginService=i,this.roleService=o,this.alertService=s,this.showForm="",this.currentDate=new Date,this.role=new jL,this.edditted=!1,this.mostrarForm=!1,this.mostrarViewForm=!1,this.currentRoleEmail=null,this.strtitle="Agregar Role",this.editing=!1,this.currentIndex=-1,this.title="",this.displayedColumns=["roleId","roleName","status","Opc"]}ngOnInit(){this.retrieveRoles(),this.paginatior._intl.itemsPerPageLabel="Elementos por p\xe1gina",this.paginatior._intl.firstPageLabel="Primera P\xe1gina",this.paginatior._intl.lastPageLabel="\xdaltima P\xe1gina",this.paginatior._intl.nextPageLabel="Siguiente",this.paginatior._intl.previousPageLabel="Anterior",this.paginatior._intl.getRangeLabel=(e,i,o)=>{if(0===o||0===i)return`0 de ${o}`;const s=e*i;return`${s+1} - ${s<(o=Math.max(o,0))?Math.min(s+i,o):s+i} de ${o}`},this.route.queryParams.subscribe(e=>{this.showForm=e.form,console.log(this.showForm)}),"NewForm"==this.showForm&&this.moForm()}editRole(e){this.editing=!0,this.role=e,this.mostrarForm=!0,this.strtitle="Modificar Role"}saveRole(){var e=this;return(0,de.Z)(function*(){if(e.loginService.user$.subscribe(i=>{e.currentRoleEmail=i?i.email:null}),e.editing)try{e.role.lastUpdate=e.currentDate,e.role.lastUpdateUser=null!=e.currentRoleEmail?e.currentRoleEmail:"",yield e.roleService.update(e.role),e.edditted=!0,e.doSomething("update","El Role se ha modificado correctamente."),e.mostrarForm=!1}catch(i){console.error("Error al actualizar el Role:",i)}else e.role.lastUpdate=e.currentDate,e.role.lastUpdateUser=null!=e.currentRoleEmail?e.currentRoleEmail:"",e.role.status=!0,e.strtitle="Agregar Role",e.roleService.createRole(e.role).then(()=>{console.log("\xa1Se ha enviado con \xe9xito!"),e.mostrarForm=!1,e.doSomething("create","El Role se ha creado correctamente.")})})()}newRole(){this.edditted=!1,this.role=new jL,this.editing=!1,this.role.uid="",this.strtitle="Agregar Role"}refreshList(){this.currentRole=void 0,this.currentIndex=-1,this.retrieveRoles()}retrieveRoles(){this.roleService.getAllRole().snapshotChanges().pipe((0,Ke.U)(e=>e.map(i=>({id:i.payload.doc.id,...i.payload.doc.data()})))).subscribe(e=>{this.roles=e,this.dataSource=new zh(this.roles),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginatior})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}setActiveRole(e,i){this.currentRole=e,this.currentIndex=i}removeUsr(e){var i=this;return(0,de.Z)(function*(){i.loginService.user$.subscribe(o=>{i.currentRoleEmail=o?o.email:null}),i.currentRoleEmail=null!=i.currentRoleEmail?i.currentRoleEmail:"",yield i.roleService.delete(e,i.currentRoleEmail.toString(),i.currentDate),i.doSomething("delete","El Role se ha eliminado correctamente."),i.mostrarForm=!1})()}toggleConfirmDelete(e){void 0===e.confirmDelete&&(e.confirmDelete=!1),e.confirmDelete=!e.confirmDelete}deleteConfirmed(e){this.removeUsr(e.uid)}viewRecod(e){this.role=e,this.mostrarForm=!1,this.mostrarViewForm=!0}closeview(){this.mostrarForm=!1,this.mostrarViewForm=!1}moForm(){this.mostrarForm=!this.mostrarForm,this.strtitle="Agregar Role",this.currentIndex=-1,this.editing=!1,this.currentRole=void 0,this.role=new jL}validarEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}doSomething(e,i){this.alertService.ShowAlert(e,i,3e3)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(zs),r.Y36(Yr),r.Y36(TH),r.Y36($h))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-role"]],viewQuery:function(e,i){if(1&e&&(r.Gf(ql,7),r.Gf(Ja,5)),2&e){let o;r.iGM(o=r.CRH())&&(i.paginatior=o.first),r.iGM(o=r.CRH())&&(i.sort=o.first)}},decls:33,vars:9,consts:[["class","register-container",4,"ngIf"],[4,"ngIf"],[2,"width","100%","margin-left","10px","padding-right","10px","padding-top","5px","padding-bottom","50px"],[1,"row","panel-addh",2,"text-align","right"],[1,"col-sm-6","col-md-6","col-lg-6","col-xl-6",2,"text-align","left"],[2,"margin","10px"],[1,"row","panel-add"],[1,"col-sm-12","col-md-12","col-lg-12","col-xl-12",3,"click"],["style","text-decoration: none;color: #dc3545;","class","btn btn-link",4,"ngIf"],[1,"form-group",2,"padding-top","3px"],["matInput","","placeholder","Buscar Role",1,"form-control",2,"border-color","#dc3545","border-width","1px",3,"keyup"],["input",""],["mat-table","","matSort","",1,"table",3,"dataSource"],["matColumnDef","roleId"],["mat-sort-header","","class","mat-header-row","style","text-align: left;",4,"matHeaderCellDef"],["mat-cell","","class","mat-cell",4,"matCellDef"],["matColumnDef","roleName"],["style","cursor: pointer; text-decoration:underline;","mat-cell","","class","mat-cell",3,"click",4,"matCellDef"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["matColumnDef","Opc"],["class","mat-header-row",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["showFirstLastButtons","",3,"pageSizeOptions"],["paginator",""],[1,"register-container"],[1,"row"],[1,"col-sm-6","col-md-6","col-lg-6","col-xl-6"],[2,"font-size","22px","font-weight","bold"],[1,"close-icon"],[1,"fas","fa-times",3,"click"],[1,"form-group"],[1,"mb-3"],["for","roleId",1,"label-generic"],[1,"form-control-static"],["for","roleName",1,"label-generic"],["for","roleDescripcion",1,"label-generic"],["roleForm","ngForm"],[1,"card"],[1,"card-body"],["type","text","id","roleName","required","","name","roleName",1,"form-control",3,"ngModel","ngModelChange"],["roleName","ngModel"],["class","text-danger",4,"ngIf"],["id","roleDescripcion","required","","name","roleDescripcion",1,"form-control",3,"ngModel","ngModelChange"],["roleDescripcion","ngModel"],["type","submit",1,"btn2",3,"disabled","click"],[1,"text-danger"],[1,"btn","btn-link",2,"text-decoration","none","color","#dc3545"],[1,"fa","fa-solid","fa-circle-plus"],[1,"fa","fa-solid","fa-circle-minus"],["mat-sort-header","",1,"mat-header-row",2,"text-align","left"],["mat-cell","",1,"mat-cell"],["mat-cell","",1,"mat-cell",2,"cursor","pointer","text-decoration","underline",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","9",1,"mat-cell",2,"text-align","left"],[1,"mat-header-row"],["mat-cell",""],["data-toggle","tooltip","data-placement","top","title","Editar elemento",1,"btn","btn-light","btn-sm",3,"click"],["data-toggle","tooltip","data-placement","top","title","Editar elemento",1,"fa-solid","fa-pen"],[1,"btn-group"],["data-toggle","tooltip","data-placement","top","title","Eliminar elemento",1,"btn","btn-light","btn-sm",3,"click"],[4,"ngIf","ngIfElse"],["confirmIcon",""],["data-toggle","tooltip","data-placement","top","title","Eliminar elemento",1,"far","fa-trash-alt",2,"color","red"],["data-toggle","tooltip","data-placement","top","title","Confirmar eliminaci\xf3n",1,"fas","fa-check","facheckCustom",3,"click"],["data-toggle","tooltip","data-placement","top","title","Cancelar eliminaci\xf3n",1,"fas","fa-times","fatimesCustom",3,"click"]],template:function(e,i){1&e&&(r.YNc(0,Yre,27,3,"div",0),r.YNc(1,Qre,34,6,"div",1),r.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),r.NdJ("click",function(){return i.moForm()}),r.YNc(8,Jre,3,0,"span",8),r.YNc(9,Xre,2,0,"span",8),r.qZA()()()(),r.TgZ(10,"div",4)(11,"div",9)(12,"input",10,11),r.NdJ("keyup",function(s){return i.applyFilter(s)}),r.qZA()()()(),r.TgZ(14,"table",12),r.ynx(15,13),r.YNc(16,eoe,2,0,"th",14),r.YNc(17,toe,2,1,"td",15),r.BQk(),r.ynx(18,16),r.YNc(19,noe,2,0,"th",14),r.YNc(20,ioe,2,1,"td",17),r.BQk(),r.ynx(21,18),r.YNc(22,roe,2,0,"th",14),r.YNc(23,ooe,2,1,"td",15),r.BQk(),r.YNc(24,soe,1,0,"tr",19),r.YNc(25,aoe,1,0,"tr",20),r.YNc(26,loe,3,0,"tr",21),r.ynx(27,22),r.YNc(28,coe,2,0,"th",23),r.YNc(29,hoe,8,2,"td",24),r.BQk(),r.qZA(),r.TgZ(30,"mat-paginator",25,26),r._uU(32,' [intl]="customPaginatorIntl" '),r.qZA()()),2&e&&(r.Q6J("ngIf",i.mostrarViewForm),r.xp6(1),r.Q6J("ngIf",i.mostrarForm),r.xp6(7),r.Q6J("ngIf",!i.mostrarForm),r.xp6(1),r.Q6J("ngIf",i.mostrarForm),r.xp6(5),r.Q6J("dataSource",i.dataSource),r.xp6(10),r.Q6J("matHeaderRowDef",i.displayedColumns),r.xp6(1),r.Q6J("matRowDefColumns",i.displayedColumns),r.xp6(5),r.Q6J("pageSizeOptions",r.DdM(8,foe)))},dependencies:[Un,Il,qi,vi,as,cs,ha,qr,Ja,I0,ql,O_,Em,P_,Tm,Dm,N_,Am,F_,L_,U_,N0],styles:[".container[_ngcontent-%COMP%]{margin:0}.register-container[_ngcontent-%COMP%]{max-width:800px;padding:20px;border:1px solid #ccc;border-radius:5px}.btn2[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;border:none;padding:10px 20px;cursor:pointer;transition:background-color .3s;width:150px;border-radius:10px}.btn2[_ngcontent-%COMP%]:hover{background-color:#343a40}.btn2[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.submit-form[_ngcontent-%COMP%]{max-width:300px;margin:auto}.panel-add[_ngcontent-%COMP%]{max-width:200px;right:10px;border-color:#706c6c;background-color:#f2e9e9;box-shadow:0 2px 3px #0003;border-radius:10px;text-align:center;cursor:pointer}.panel-addh[_ngcontent-%COMP%]{border-color:#706c6c;background-color:#fff;border-radius:10px;text-align:center}.label-generic[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#161616}.mat-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.mat-header-row[_ngcontent-%COMP%]{background-color:#edf0f2e9;color:#dc3545;font-size:small}.mat-row[_ngcontent-%COMP%]:nth-child(even){background-color:#f9f9f9}.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{padding:10px;text-align:left;border-bottom:1px solid #c7c6c6}.mat-column-id[_ngcontent-%COMP%]{width:40px!important;text-align:left}.mat-column-name[_ngcontent-%COMP%]{width:220px!important;text-align:left}.mat-column-email[_ngcontent-%COMP%]{width:200px!important;text-align:left}.mat-column-country[_ngcontent-%COMP%], .mat-column-city[_ngcontent-%COMP%], .mat-column-tlf[_ngcontent-%COMP%], .mat-column-wapp[_ngcontent-%COMP%]{width:100px!important;text-align:left}.mat-column-state[_ngcontent-%COMP%]{text-align:left}.mat-column-Opc[_ngcontent-%COMP%]{width:100px!important;text-align:left}.close-icon[_ngcontent-%COMP%]{cursor:pointer;text-align:right}.close-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:red}.facheckCustom[_ngcontent-%COMP%]{margin-right:10px}.facheckCustom[_ngcontent-%COMP%]:hover{color:#31bb3c}.fatimesCustom[_ngcontent-%COMP%]{color:#fe6464}.fatimesCustom[_ngcontent-%COMP%]:hover{color:red}"]}),n})(),moe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-currency"]],decls:194,vars:0,consts:[[1,"p-5","h-screen","bg-gray-100"],[1,"text-xl","mb-2"],[1,"overflow-auto","rounded-lg","shadow","hidden","md:block"],[1,"w-full"],[1,"bg-gray-50","border-b-2","border-gray-200"],[1,"w-20","p-3","text-sm","font-semibold","tracking-wide","text-left"],[1,"p-3","text-sm","font-semibold","tracking-wide","text-left"],[1,"w-24","p-3","text-sm","font-semibold","tracking-wide","text-left"],[1,"w-32","p-3","text-sm","font-semibold","tracking-wide","text-left"],[1,"divide-y","divide-gray-100"],[1,"bg-white"],[1,"p-3","text-sm","text-gray-700","whitespace-nowrap"],["href","#",1,"font-bold","text-blue-500","hover:underline"],[1,"p-1.5","text-xs","font-medium","uppercase","tracking-wider","text-green-800","bg-green-200","rounded-lg","bg-opacity-50"],[1,"bg-gray-50"],[1,"p-1.5","text-xs","font-medium","uppercase","tracking-wider","text-yellow-800","bg-yellow-200","rounded-lg","bg-opacity-50"],[1,"p-1.5","text-xs","font-medium","uppercase","tracking-wider","text-gray-800","bg-gray-200","rounded-lg","bg-opacity-50"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","md:hidden"],[1,"bg-white","space-y-3","p-4","rounded-lg","shadow"],[1,"flex","items-center","space-x-2","text-sm"],["href","#",1,"text-blue-500","font-bold","hover:underline"],[1,"text-gray-500"],[1,"text-sm","text-gray-700"],[1,"text-sm","font-medium","text-black"]],template:function(e,i){1&e&&(r.TgZ(0,"template"),r._uU(1,"\n    "),r.TgZ(2,"div",0),r._uU(3,"\n      "),r.TgZ(4,"h1",1),r._uU(5,"Your orders"),r.qZA(),r._uU(6,"\n  \n      "),r.TgZ(7,"div",2),r._uU(8,"\n        "),r.TgZ(9,"table",3),r._uU(10,"\n          "),r.TgZ(11,"thead",4),r._uU(12,"\n          "),r.TgZ(13,"tr"),r._uU(14,"\n            "),r.TgZ(15,"th",5),r._uU(16,"No."),r.qZA(),r._uU(17,"\n            "),r.TgZ(18,"th",6),r._uU(19,"Details"),r.qZA(),r._uU(20,"\n            "),r.TgZ(21,"th",7),r._uU(22,"Status"),r.qZA(),r._uU(23,"\n            "),r.TgZ(24,"th",7),r._uU(25,"Date"),r.qZA(),r._uU(26,"\n            "),r.TgZ(27,"th",8),r._uU(28,"Total"),r.qZA(),r._uU(29,"\n          "),r.qZA(),r._uU(30,"\n          "),r.qZA(),r._uU(31,"\n          "),r.TgZ(32,"tbody",9),r._uU(33,"\n          "),r.TgZ(34,"tr",10),r._uU(35,"\n            "),r.TgZ(36,"td",11),r._uU(37,"\n              "),r.TgZ(38,"a",12),r._uU(39,"10001"),r.qZA(),r._uU(40,"\n            "),r.qZA(),r._uU(41,"\n            "),r.TgZ(42,"td",11),r._uU(43,"\n              Kring New Fit office chair, mesh + PU, black\n            "),r.qZA(),r._uU(44,"\n            "),r.TgZ(45,"td",11),r._uU(46,"\n            "),r.TgZ(47,"span",13),r._uU(48,"Delivered"),r.qZA(),r._uU(49,"\n            "),r.qZA(),r._uU(50,"\n            "),r.TgZ(51,"td",11),r._uU(52,"16/10/2021"),r.qZA(),r._uU(53,"\n            "),r.TgZ(54,"td",11),r._uU(55,"$200.00"),r.qZA(),r._uU(56,"\n          "),r.qZA(),r._uU(57,"\n          "),r.TgZ(58,"tr",14),r._uU(59,"\n            "),r.TgZ(60,"td",11),r._uU(61,"\n              "),r.TgZ(62,"a",12),r._uU(63,"10002"),r.qZA(),r._uU(64,"\n            "),r.qZA(),r._uU(65,"\n            "),r.TgZ(66,"td",11),r._uU(67,"Kring New Fit office chair, mesh + PU, black"),r.qZA(),r._uU(68,"\n            "),r.TgZ(69,"td",11),r._uU(70,"\n            "),r.TgZ(71,"span",15),r._uU(72,"Shipped"),r.qZA(),r._uU(73,"\n            "),r.qZA(),r._uU(74,"\n            "),r.TgZ(75,"td",11),r._uU(76,"16/10/2021"),r.qZA(),r._uU(77,"\n            "),r.TgZ(78,"td",11),r._uU(79,"$200.00"),r.qZA(),r._uU(80,"\n          "),r.qZA(),r._uU(81,"\n          "),r.TgZ(82,"tr",10),r._uU(83,"\n            "),r.TgZ(84,"td",11),r._uU(85,"\n              "),r.TgZ(86,"a",12),r._uU(87,"10002"),r.qZA(),r._uU(88,"\n            "),r.qZA(),r._uU(89,"\n            "),r.TgZ(90,"td",11),r._uU(91,"Kring New Fit office chair, mesh + PU, black"),r.qZA(),r._uU(92,"\n            "),r.TgZ(93,"td",11),r._uU(94,"\n            "),r.TgZ(95,"span",16),r._uU(96,"Cancelled"),r.qZA(),r._uU(97,"\n            "),r.qZA(),r._uU(98,"\n            "),r.TgZ(99,"td",11),r._uU(100,"16/10/2021"),r.qZA(),r._uU(101,"\n            "),r.TgZ(102,"td",11),r._uU(103,"$200.00"),r.qZA(),r._uU(104,"\n          "),r.qZA(),r._uU(105,"\n          "),r.qZA(),r._uU(106,"\n        "),r.qZA(),r._uU(107,"\n      "),r.qZA(),r._uU(108,"\n  \n      "),r.TgZ(109,"div",17),r._uU(110,"\n        "),r.TgZ(111,"div",18),r._uU(112,"\n          "),r.TgZ(113,"div",19),r._uU(114,"\n            "),r.TgZ(115,"div"),r._uU(116,"\n              "),r.TgZ(117,"a",20),r._uU(118,"#1000"),r.qZA(),r._uU(119,"\n            "),r.qZA(),r._uU(120,"\n            "),r.TgZ(121,"div",21),r._uU(122,"10/10/2021"),r.qZA(),r._uU(123,"\n            "),r.TgZ(124,"div"),r._uU(125,"\n              "),r.TgZ(126,"span",13),r._uU(127,"Delivered"),r.qZA(),r._uU(128,"\n            "),r.qZA(),r._uU(129,"\n          "),r.qZA(),r._uU(130,"\n          "),r.TgZ(131,"div",22),r._uU(132,"\n            Kring New Fit office chair, mesh + PU, black\n          "),r.qZA(),r._uU(133,"\n          "),r.TgZ(134,"div",23),r._uU(135,"\n            $200.00\n          "),r.qZA(),r._uU(136,"\n        "),r.qZA(),r._uU(137,"\n        "),r.TgZ(138,"div",18),r._uU(139,"\n          "),r.TgZ(140,"div",19),r._uU(141,"\n            "),r.TgZ(142,"div"),r._uU(143,"\n              "),r.TgZ(144,"a",20),r._uU(145,"#1001"),r.qZA(),r._uU(146,"\n            "),r.qZA(),r._uU(147,"\n            "),r.TgZ(148,"div",21),r._uU(149,"10/10/2021"),r.qZA(),r._uU(150,"\n            "),r.TgZ(151,"div"),r._uU(152,"\n              "),r.TgZ(153,"span",15),r._uU(154,"Shipped"),r.qZA(),r._uU(155,"\n            "),r.qZA(),r._uU(156,"\n          "),r.qZA(),r._uU(157,"\n          "),r.TgZ(158,"div",22),r._uU(159,"\n            Kring New Fit office chair, mesh + PU, black\n          "),r.qZA(),r._uU(160,"\n          "),r.TgZ(161,"div",23),r._uU(162,"\n            $200.00\n          "),r.qZA(),r._uU(163,"\n        "),r.qZA(),r._uU(164,"\n        "),r.TgZ(165,"div",18),r._uU(166,"\n          "),r.TgZ(167,"div",19),r._uU(168,"\n            "),r.TgZ(169,"div"),r._uU(170,"\n              "),r.TgZ(171,"a",20),r._uU(172,"#1002"),r.qZA(),r._uU(173,"\n            "),r.qZA(),r._uU(174,"\n            "),r.TgZ(175,"div",21),r._uU(176,"10/10/2021"),r.qZA(),r._uU(177,"\n            "),r.TgZ(178,"div"),r._uU(179,"\n              "),r.TgZ(180,"span",16),r._uU(181,"Canceled"),r.qZA(),r._uU(182,"\n            "),r.qZA(),r._uU(183,"\n          "),r.qZA(),r._uU(184,"\n          "),r.TgZ(185,"div",22),r._uU(186,"\n            Kring New Fit office chair, mesh + PU, black\n          "),r.qZA(),r._uU(187,"\n          "),r.TgZ(188,"div",23),r._uU(189,"\n            $200.00\n          "),r.qZA(),r._uU(190,"\n        "),r.qZA(),r._uU(191,"\n      "),r.qZA(),r._uU(192,"\n    "),r.qZA(),r._uU(193,"\n  "),r.qZA())}}),n})(),goe=(()=>{class n{constructor(e){this.locationService=e,this.countriesString="",this.lblmsj=""}ngOnInit(){}confirmAddCountries(){let e;e=window.confirm("\xbfDesea agregar los pa\xedses?"),e&&this.addCountries()}addCountries(){this.countriesString.split("\n").forEach(i=>{let o=i.split(","),s={countryId:o[0].trim(),countryName:o[1].trim(),countryCode:o[2].trim(),status:!0};this.locationService.addCountry(s)}),console.log("Se termin\xf3 de agregar los pa\xedses"),this.lblmsj="Se termin\xf3 de agregar los pa\xedses",this.countriesString=""}catch(e){this.lblmsj="Ocurri\xf3 un error al agregar los pa\xedses",console.log("Ocurri\xf3 un error al agregar los pa\xedses: ",e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(gD))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-country"]],decls:36,vars:2,consts:[[1,"container"],[1,"card"],[1,"card-header"],[1,"card-body"],["rows","20","cols","50",3,"ngModel","ngModelChange"],[1,"btn2",3,"click"],[2,"color","darkgreen"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),r._uU(4,"Agregar Pa\xedses"),r.qZA(),r.TgZ(5,"span"),r._uU(6," - Agrega los pa\xedses de forma masiva. Cada l\xednea representa un registro."),r._UZ(7,"br"),r._uU(8," - Las columnas deben estar separadas por una coma (,). "),r._UZ(9,"br"),r._uU(10," - Recuerda no repetir los codigo"),r._UZ(11,"br"),r._uU(12," - Ejemplo:"),r._UZ(13,"br")(14,"br"),r._uU(15," ID | Pa\xeds | CODIGO "),r._UZ(16,"br"),r._uU(17," ---------------------------------------"),r._UZ(18,"br"),r._uU(19," 01,Estados Unidos,US "),r._UZ(20,"br"),r._uU(21," 02,M\xe9xico,MX"),r._UZ(22,"br"),r._uU(23," 03,Espa\xf1a,ES"),r._UZ(24,"br"),r._uU(25," 04,Colombia,CO"),r._UZ(26,"br"),r._uU(27," 05,Chile,CL"),r._UZ(28,"br"),r._uU(29," 06,Argentina,AR "),r.qZA()(),r.TgZ(30,"div",3)(31,"textarea",4),r.NdJ("ngModelChange",function(s){return i.countriesString=s}),r.qZA(),r.TgZ(32,"button",5),r.NdJ("click",function(){return i.confirmAddCountries()}),r._uU(33,"Agregar"),r.qZA(),r.TgZ(34,"label",6),r._uU(35),r.qZA()()()()),2&e&&(r.xp6(31),r.Q6J("ngModel",i.countriesString),r.xp6(4),r.Oqu(i.lblmsj))},dependencies:[qi,vi,ha],styles:[".btn2[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;border:none;padding:4px 8px;cursor:pointer;transition:background-color .3s;display:block;border-radius:7px;box-shadow:0 2px 4px #0000001a;font-size:14px;text-align:center}@media (min-width: 576px){.btn2[_ngcontent-%COMP%]{padding:6px 13px}}@media (min-width: 768px){.btn2[_ngcontent-%COMP%]{padding:8px 16px}}.btn2[_ngcontent-%COMP%]:hover{background-color:#343a40}.btn2[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}"]}),n})();class zL{}function _oe(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",28)(1,"div",29)(2,"div",30)(3,"div")(4,"h3",31),r._uU(5,"Datos de Ciudad"),r.qZA()()(),r.TgZ(6,"div",30)(7,"div",32)(8,"i",33),r.NdJ("click",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.closeview())}),r.qZA()()()(),r.TgZ(9,"div",34)(10,"div",35)(11,"label",36),r._uU(12,"Id"),r.qZA(),r.TgZ(13,"p",37),r._uU(14),r.qZA()()(),r.TgZ(15,"div",34)(16,"div",35)(17,"label",38),r._uU(18,"Nombre"),r.qZA(),r.TgZ(19,"p",37),r._uU(20),r.qZA()()(),r.TgZ(21,"div",34)(22,"div",35)(23,"label",38),r._uU(24,"Pa\xeds"),r.qZA(),r.TgZ(25,"p",37),r._uU(26),r.qZA()()()()}if(2&n){const e=r.oxw();r.xp6(14),r.Oqu(e.city.cityId),r.xp6(6),r.Oqu(e.city.cityName),r.xp6(6),r.Oqu(e.city.countryName)}}function voe(n,t){if(1&n&&(r.TgZ(0,"option",52),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.Q6J("value",e.countryCode+"**"+e.countryName),r.xp6(1),r.Oqu(e.countryName)}}function yoe(n,t){1&n&&(r.TgZ(0,"div",53),r._uU(1," El nombre de la ciudad es requerido. "),r.qZA())}function boe(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div")(1,"div",28)(2,"div",29)(3,"div",30)(4,"div")(5,"h3",31),r._uU(6),r.qZA()()(),r.TgZ(7,"div",30)(8,"div",32)(9,"i",33),r.NdJ("click",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.closeview())}),r.qZA()()()(),r.TgZ(10,"div")(11,"form",null,39)(13,"div",40)(14,"div",41)(15,"div",34)(16,"div",35)(17,"label",42),r._uU(18,"Pa\xeds"),r.qZA(),r.TgZ(19,"select",43,44),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.city.countryName=o)}),r.TgZ(21,"option",45),r._uU(22,"Seleccionar opci\xf3n"),r.qZA(),r.YNc(23,voe,2,2,"option",46),r.qZA()()(),r.TgZ(24,"div",34)(25,"div",35)(26,"label",47),r._uU(27,"Ciudad *"),r.qZA(),r.TgZ(28,"input",48,49),r.NdJ("ngModelChange",function(o){r.CHM(e);const s=r.oxw();return r.KtG(s.city.cityName=o)}),r.qZA(),r.YNc(30,yoe,2,0,"div",50),r.qZA()()()(),r.TgZ(31,"button",51),r.NdJ("click",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.saveCity())}),r._uU(32,"Enviar"),r.qZA()()(),r._UZ(33,"br")(34,"br"),r.qZA()()}if(2&n){const e=r.MAs(12),i=r.MAs(29),o=r.oxw();r.xp6(6),r.Oqu(o.strtitle),r.xp6(13),r.Q6J("ngModel",o.city.countryName),r.xp6(4),r.Q6J("ngForOf",o.countryList),r.xp6(5),r.Q6J("ngModel",o.city.cityName),r.xp6(2),r.Q6J("ngIf",i.invalid&&(i.dirty||i.touched)),r.xp6(1),r.Q6J("disabled",!e.form.valid)}}function woe(n,t){1&n&&(r.TgZ(0,"span",54),r._UZ(1,"i",55),r._uU(2," Agregar"),r.qZA())}function Coe(n,t){1&n&&(r.TgZ(0,"span",54),r._UZ(1,"i",56),r.qZA())}function xoe(n,t){1&n&&(r.TgZ(0,"th",57),r._uU(1,"ID "),r.qZA())}function Doe(n,t){if(1&n&&(r.TgZ(0,"td",58),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij("",e.cityId," ")}}function Eoe(n,t){1&n&&(r.TgZ(0,"th",57),r._uU(1," CIUDAD "),r.qZA())}function Toe(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"td",59),r.NdJ("click",function(){const s=r.CHM(e).$implicit,c=r.oxw();return r.KtG(c.viewRecod(s))}),r._uU(1),r.qZA()}if(2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.cityName,"")}}function Aoe(n,t){1&n&&(r.TgZ(0,"th",57),r._uU(1," PAIS "),r.qZA())}function Ioe(n,t){if(1&n&&(r.TgZ(0,"td",58),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.countryName,"")}}function Soe(n,t){1&n&&(r.TgZ(0,"th",57),r._uU(1," ESTADO "),r.qZA())}function Moe(n,t){if(1&n&&(r.TgZ(0,"td",58),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.status?"Activo":""," ")}}function koe(n,t){1&n&&r._UZ(0,"tr",60)}function Roe(n,t){1&n&&r._UZ(0,"tr",61)}function Ooe(n,t){1&n&&(r.TgZ(0,"tr",62)(1,"td",63),r._uU(2,"No hay datos que coincidan con la busqueda"),r.qZA()())}function Poe(n,t){1&n&&(r.TgZ(0,"th",64),r._uU(1,"OPC"),r.qZA())}function Noe(n,t){1&n&&(r.ynx(0),r._UZ(1,"i",72),r.BQk())}function Foe(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"i",73),r.NdJ("click",function(){r.CHM(e);const o=r.oxw().$implicit,s=r.oxw();return r.KtG(s.deleteConfirmed(o))}),r.qZA(),r.TgZ(1,"i",74),r.NdJ("click",function(){r.CHM(e);const o=r.oxw().$implicit,s=r.oxw();return o.confirmDelete=!1,r.KtG(s.toggleConfirmDelete(o))}),r.qZA()}}function Loe(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"td",65)(1,"button",66),r.NdJ("click",function(){const s=r.CHM(e).$implicit,c=r.oxw();return r.KtG(c.editCity(s))}),r._UZ(2,"i",67),r.qZA(),r.TgZ(3,"div",68)(4,"button",69),r.NdJ("click",function(){const s=r.CHM(e).$implicit,c=r.oxw();return r.KtG(c.toggleConfirmDelete(s))}),r.YNc(5,Noe,2,0,"ng-container",70),r.qZA(),r.YNc(6,Foe,2,0,"ng-template",null,71,r.W1O),r.qZA()()}if(2&n){const e=t.$implicit,i=r.MAs(7);r.xp6(5),r.Q6J("ngIf",!e.confirmDelete)("ngIfElse",i)}}const Uoe=function(){return[10,25,50]};let Voe=(()=>{class n{constructor(e,i,o,s){this.route=e,this.loginService=i,this.locationService=o,this.alertService=s,this.showForm="",this.currentDate=new Date,this.city=new zL,this.edditted=!1,this.mostrarForm=!1,this.mostrarViewForm=!1,this.currentCityEmail=null,this.strtitle="Agregar Ciudades",this.countryList=[],this.editing=!1,this.currentIndex=-1,this.title="",this.displayedColumns=["cityId","cityName","countryName","status","Opc"]}ngOnInit(){this.retrieveCitys(),this.paginatior._intl.itemsPerPageLabel="Elementos por p\xe1gina",this.paginatior._intl.firstPageLabel="Primera P\xe1gina",this.paginatior._intl.lastPageLabel="\xdaltima P\xe1gina",this.paginatior._intl.nextPageLabel="Siguiente",this.paginatior._intl.previousPageLabel="Anterior",this.paginatior._intl.getRangeLabel=(e,i,o)=>{if(0===o||0===i)return`0 de ${o}`;const s=e*i;return`${s+1} - ${s<(o=Math.max(o,0))?Math.min(s+i,o):s+i} de ${o}`},this.route.queryParams.subscribe(e=>{this.showForm=e.form,console.log(this.showForm)}),this.locationService.getAllCountries().valueChanges().subscribe(e=>{this.countryList=e}),"NewForm"==this.showForm&&this.moForm()}editCity(e){this.editing=!0,this.city=e,this.mostrarForm=!0,this.strtitle="Modificar Ciudades"}saveCity(){var e=this;return(0,de.Z)(function*(){if(e.loginService.user$.subscribe(i=>{e.currentCityEmail=i?i.email:null}),e.editing)try{let i;e.city.lastUpdate=e.currentDate,e.city.lastUpdateUser=null!=e.currentCityEmail?e.currentCityEmail:"",i=e.city.countryName?.split("**"),e.city.countryCode=i[0],e.city.countryName=i[1],yield e.locationService.update(e.city),e.edditted=!0,e.doSomething("update","La ciudad se ha modificado correctamente."),e.mostrarForm=!1}catch(i){console.error("Error al actualizar el usuario:",i)}else{let i;e.city.lastUpdate=e.currentDate,e.city.lastUpdateUser=null!=e.currentCityEmail?e.currentCityEmail:"",i=e.city.countryName?.split("**"),e.city.countryCode=i[0],e.city.countryName=i[1],e.city.status=!0,e.strtitle="Agregar Ciudades",e.locationService.createCity(e.city).then(()=>{console.log("\xa1Se ha enviado con \xe9xito!"),e.mostrarForm=!1,e.doSomething("create","La ciudad se ha creado correctamente.")})}})()}newCity(){this.edditted=!1,this.city=new zL,this.editing=!1,this.city.uid="",this.strtitle="Agregar Ciudades"}refreshList(){this.currentCity=void 0,this.currentIndex=-1,this.retrieveCitys()}retrieveCitys(){this.locationService.getAllCity().snapshotChanges().pipe((0,Ke.U)(e=>e.map(i=>({id:i.payload.doc.id,...i.payload.doc.data()})))).subscribe(e=>{this.citys=e,this.dataSource=new zh(this.citys),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginatior})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}setActiveCity(e,i){this.currentCity=e,this.currentIndex=i}removeUsr(e){var i=this;return(0,de.Z)(function*(){i.loginService.user$.subscribe(o=>{i.currentCityEmail=o?o.email:null}),i.currentCityEmail=null!=i.currentCityEmail?i.currentCityEmail:"",yield i.locationService.delete(e,i.currentCityEmail.toString(),i.currentDate),i.doSomething("delete","La ciudad se ha eliminado correctamente."),i.mostrarForm=!1})()}toggleConfirmDelete(e){void 0===e.confirmDelete&&(e.confirmDelete=!1),e.confirmDelete=!e.confirmDelete}deleteConfirmed(e){this.removeUsr(e.uid)}viewRecod(e){this.city=e,this.mostrarForm=!1,this.mostrarViewForm=!0}closeview(){this.mostrarForm=!1,this.mostrarViewForm=!1}moForm(){this.mostrarForm=!this.mostrarForm,this.strtitle="Agregar Ciudades",this.currentIndex=-1,this.editing=!1,this.currentCity=void 0,this.city=new zL}validarEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}doSomething(e,i){this.alertService.ShowAlert(e,i,3e3)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(zs),r.Y36(Yr),r.Y36(gD),r.Y36($h))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-city"]],viewQuery:function(e,i){if(1&e&&(r.Gf(ql,7),r.Gf(Ja,5)),2&e){let o;r.iGM(o=r.CRH())&&(i.paginatior=o.first),r.iGM(o=r.CRH())&&(i.sort=o.first)}},decls:36,vars:9,consts:[["class","register-container",4,"ngIf"],[4,"ngIf"],[2,"width","100%","margin-left","10px","padding-right","10px","padding-top","5px","padding-bottom","50px"],[1,"row","panel-addh",2,"text-align","right"],[1,"col-sm-6","col-md-6","col-lg-6","col-xl-6",2,"text-align","left"],[2,"margin","10px"],[1,"row","panel-add"],[1,"col-sm-12","col-md-12","col-lg-12","col-xl-12",3,"click"],["style","text-decoration: none;color: #dc3545;","class","btn btn-link",4,"ngIf"],[1,"form-group",2,"padding-top","3px"],["matInput","","placeholder","Buscar Ciudad",1,"form-control",2,"border-color","#dc3545","border-width","1px",3,"keyup"],["input",""],["mat-table","","matSort","",1,"table",3,"dataSource"],["matColumnDef","cityId"],["mat-sort-header","","class","mat-header-row","style","text-align: left;",4,"matHeaderCellDef"],["mat-cell","","class","mat-cell",4,"matCellDef"],["matColumnDef","cityName"],["style","cursor: pointer; text-decoration:underline;","mat-cell","","class","mat-cell",3,"click",4,"matCellDef"],["matColumnDef","countryName"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["matColumnDef","Opc"],["class","mat-header-row",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["showFirstLastButtons","",3,"pageSizeOptions"],["paginator",""],[1,"register-container"],[1,"row"],[1,"col-sm-6","col-md-6","col-lg-6","col-xl-6"],[2,"font-size","22px","font-weight","bold"],[1,"close-icon"],[1,"fas","fa-times",3,"click"],[1,"form-group"],[1,"mb-3"],["for","bibliografia",1,"label-generic"],[1,"form-control-static"],["for","titulo",1,"label-generic"],["cityForm","ngForm"],[1,"card"],[1,"card-body"],["for","countryName",1,"label-generic"],["id","countryName","name","countryName",1,"form-control",3,"ngModel","ngModelChange"],["countryName",""],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","name",1,"label-generic"],["type","text","id","name","required","","name","name",1,"form-control",3,"ngModel","ngModelChange"],["nameField","ngModel"],["class","text-danger",4,"ngIf"],["type","submit",1,"btn2",3,"disabled","click"],[3,"value"],[1,"text-danger"],[1,"btn","btn-link",2,"text-decoration","none","color","#dc3545"],[1,"fa","fa-solid","fa-circle-plus"],[1,"fa","fa-solid","fa-circle-minus"],["mat-sort-header","",1,"mat-header-row",2,"text-align","left"],["mat-cell","",1,"mat-cell"],["mat-cell","",1,"mat-cell",2,"cursor","pointer","text-decoration","underline",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","9",1,"mat-cell",2,"text-align","left"],[1,"mat-header-row"],["mat-cell",""],["data-toggle","tooltip","data-placement","top","title","Editar elemento",1,"btn","btn-light","btn-sm",3,"click"],["data-toggle","tooltip","data-placement","top","title","Editar elemento",1,"fa-solid","fa-pen"],[1,"btn-group"],["data-toggle","tooltip","data-placement","top","title","Eliminar elemento",1,"btn","btn-light","btn-sm",3,"click"],[4,"ngIf","ngIfElse"],["confirmIcon",""],["data-toggle","tooltip","data-placement","top","title","Eliminar elemento",1,"far","fa-trash-alt",2,"color","red"],["data-toggle","tooltip","data-placement","top","title","Confirmar eliminaci\xf3n",1,"fas","fa-check","facheckCustom",3,"click"],["data-toggle","tooltip","data-placement","top","title","Cancelar eliminaci\xf3n",1,"fas","fa-times","fatimesCustom",3,"click"]],template:function(e,i){1&e&&(r.YNc(0,_oe,27,3,"div",0),r.YNc(1,boe,35,6,"div",1),r.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),r.NdJ("click",function(){return i.moForm()}),r.YNc(8,woe,3,0,"span",8),r.YNc(9,Coe,2,0,"span",8),r.qZA()()()(),r.TgZ(10,"div",4)(11,"div",9)(12,"input",10,11),r.NdJ("keyup",function(s){return i.applyFilter(s)}),r.qZA()()()(),r.TgZ(14,"table",12),r.ynx(15,13),r.YNc(16,xoe,2,0,"th",14),r.YNc(17,Doe,2,1,"td",15),r.BQk(),r.ynx(18,16),r.YNc(19,Eoe,2,0,"th",14),r.YNc(20,Toe,2,1,"td",17),r.BQk(),r.ynx(21,18),r.YNc(22,Aoe,2,0,"th",14),r.YNc(23,Ioe,2,1,"td",15),r.BQk(),r.ynx(24,19),r.YNc(25,Soe,2,0,"th",14),r.YNc(26,Moe,2,1,"td",15),r.BQk(),r.YNc(27,koe,1,0,"tr",20),r.YNc(28,Roe,1,0,"tr",21),r.YNc(29,Ooe,3,0,"tr",22),r.ynx(30,23),r.YNc(31,Poe,2,0,"th",24),r.YNc(32,Loe,8,2,"td",25),r.BQk(),r.qZA(),r.TgZ(33,"mat-paginator",26,27),r._uU(35,' [intl]="customPaginatorIntl" '),r.qZA()()),2&e&&(r.Q6J("ngIf",i.mostrarViewForm),r.xp6(1),r.Q6J("ngIf",i.mostrarForm),r.xp6(7),r.Q6J("ngIf",!i.mostrarForm),r.xp6(1),r.Q6J("ngIf",i.mostrarForm),r.xp6(5),r.Q6J("dataSource",i.dataSource),r.xp6(13),r.Q6J("matHeaderRowDef",i.displayedColumns),r.xp6(1),r.Q6J("matRowDefColumns",i.displayedColumns),r.xp6(5),r.Q6J("pageSizeOptions",r.DdM(8,Uoe)))},dependencies:[cr,Un,Il,Wd,ku,qi,Sc,vi,as,cs,ha,qr,Ja,I0,ql,O_,Em,P_,Tm,Dm,N_,Am,F_,L_,U_,N0],styles:[".container[_ngcontent-%COMP%]{margin:0}.register-container[_ngcontent-%COMP%]{max-width:800px;padding:20px;border:1px solid #ccc;border-radius:5px}.btn2[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;border:none;padding:10px 20px;cursor:pointer;transition:background-color .3s;width:150px;border-radius:10px}.btn2[_ngcontent-%COMP%]:hover{background-color:#343a40}.btn2[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.submit-form[_ngcontent-%COMP%]{max-width:300px;margin:auto}.panel-add[_ngcontent-%COMP%]{max-width:200px;right:10px;border-color:#706c6c;background-color:#f2e9e9;box-shadow:0 2px 3px #0003;border-radius:10px;text-align:center;cursor:pointer}.panel-addh[_ngcontent-%COMP%]{border-color:#706c6c;background-color:#fff;border-radius:10px;text-align:center}.label-generic[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#161616}.mat-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.mat-header-row[_ngcontent-%COMP%]{background-color:#edf0f2e9;color:#dc3545;font-size:small}.mat-row[_ngcontent-%COMP%]:nth-child(even){background-color:#f9f9f9}.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{padding:10px;text-align:left;border-bottom:1px solid #c7c6c6}.mat-column-id[_ngcontent-%COMP%]{width:40px!important;text-align:left}.mat-column-name[_ngcontent-%COMP%]{width:220px!important;text-align:left}.mat-column-email[_ngcontent-%COMP%]{width:200px!important;text-align:left}.mat-column-country[_ngcontent-%COMP%], .mat-column-city[_ngcontent-%COMP%], .mat-column-tlf[_ngcontent-%COMP%], .mat-column-wapp[_ngcontent-%COMP%]{width:100px!important;text-align:left}.mat-column-state[_ngcontent-%COMP%]{text-align:left}.mat-column-Opc[_ngcontent-%COMP%]{width:100px!important;text-align:left}.close-icon[_ngcontent-%COMP%]{cursor:pointer;text-align:right}.close-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:red}.facheckCustom[_ngcontent-%COMP%]{margin-right:10px}.facheckCustom[_ngcontent-%COMP%]:hover{color:#31bb3c}.fatimesCustom[_ngcontent-%COMP%]{color:#fe6464}.fatimesCustom[_ngcontent-%COMP%]:hover{color:red}"]}),n})(),Zoe=(()=>{class n{constructor(e,i){this.loginService=e,this.router=i}ngOnInit(){}onClick(e){1==e?this.loginService.logout().then(()=>{this.router.navigate(["/register"])}).catch(i=>console.log(i)):this.router.navigate(["/login"])}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Yr),r.Y36(a))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-main"]],decls:11,vars:0,consts:[[1,"register-container","bg-light","rounded","p-3"],[2,"text-align","justify"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"h1"),r._uU(2,"P\xe1gina principal"),r.qZA(),r.TgZ(3,"p",1),r._uU(4," \xa1Bienvenido a "),r.TgZ(5,"b"),r._uU(6,"TesisHub"),r.qZA(),r._uU(7,", nuestra aplicaci\xf3n de gesti\xf3n de proyectos! Aqu\xed podr\xe1s realizar todas las tareas necesarias para llevar a cabo tus proyectos de manera eficiente. Podr\xe1s agregar, modificar y eliminar proyectos seg\xfan tus necesidades. Adem\xe1s, tendr\xe1s la posibilidad de asignar proyectos a usuarios espec\xedficos, lo que facilitar\xe1 la colaboraci\xf3n y el seguimiento del progreso. "),r._UZ(8,"br")(9,"br"),r._uU(10," Nuestra aplicaci\xf3n tambi\xe9n cuenta con funciones avanzadas de seguridad. Los administradores tendr\xe1n acceso a datos sensibles y podr\xe1n gestionar la informaci\xf3n y los datos maestros de manera segura. Nos aseguramos de que tus datos est\xe9n protegidos y de que tengas el control total sobre ellos. "),r.qZA()())}}),n})(),Boe=(()=>{class n{constructor(e,i,o){this.router=e,this.LoginService=i,this.alertService=o,this.email=new yo}onReset(){var e=this;return(0,de.Z)(function*(){try{const i=e.email.value;yield e.LoginService.resetPassword(i),e.doSomething("update","Se ha enviThesisHubado un enlace de recuperaci\xf3n a su cuenta!"),e.router.navigate(["/login"])}catch(i){console.log(i)}})()}doSomething(e,i){this.alertService.ShowAlert(e,i,3e3)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(a),r.Y36(Yr),r.Y36($h))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-passwd-reset"]],decls:10,vars:1,consts:[[1,"container"],[1,"card","mt-5","w-50"],[1,"card-body"],[1,"card-title","text-center"],[1,"form-group"],["type","email","placeholder","a@a.com","required","",1,"form-control",3,"formControl"],[1,"form-group","text-center"],[1,"btn2",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),r._uU(4,"Ingrese su cuenta de email"),r.qZA(),r.TgZ(5,"div",4),r._UZ(6,"input",5),r.qZA(),r.TgZ(7,"div",6)(8,"button",7),r.NdJ("click",function(){return i.onReset()}),r._uU(9," Recuperar contrase\xf1a "),r.qZA()()()()()),2&e&&(r.xp6(6),r.Q6J("formControl",i.email))},dependencies:[qi,vi,cs,sv],styles:[".btn2[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;border:none;padding:10px 20px;cursor:pointer;transition:background-color .3s;width:200px;border-radius:10px}.btn2[_ngcontent-%COMP%]:hover{background-color:#343a40}.btn2[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}"]}),n})();const qoe=[{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"dashboard",component:yG,...vs(()=>ys(["/login"]))},{path:"project",component:Nie,...vs(()=>ys(["/login"]))},{path:"admincontact",component:GG,...vs(()=>ys(["/login"]))},{path:"leads",component:rne,...vs(()=>ys(["/login"]))},{path:"invoices",component:Bne,...vs(()=>ys(["/login"]))},{path:"infor",component:qne,...vs(()=>ys(["/login"]))},{path:"settings",component:jne,...vs(()=>ys(["/login"]))},{path:"user",component:bre,...vs(()=>ys(["/login"]))},{path:"chat",component:Mre,...vs(()=>ys(["/login"]))},{path:"document-upload",component:Bre,...vs(()=>ys(["/login"]))},{path:"managerequests",component:Gre,...vs(()=>ys(["/login"]))},{path:"role",component:poe,...vs(()=>ys(["/login"]))},{path:"currency",component:moe,...vs(()=>ys(["/login"]))},{path:"country",component:goe,...vs(()=>ys(["/login"]))},{path:"city",component:Voe,...vs(()=>ys(["/login"]))},{path:"register",component:IG,...vs(()=>ys(["/login"]))},{path:"login",component:UG},{path:"passwd-reset",component:Boe},{path:"**",component:Zoe}];let Hoe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[T3.forRoot(qoe),T3]}),n})();function joe(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"li")(1,"a",9),r.NdJ("click",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.rutaa("register"))}),r._UZ(2,"i",13),r._uU(3," Registrar Usuario"),r.qZA()()}}let zoe=(()=>{class n{constructor(e,i,o){this.router=e,this.loginService=i,this.usrs=o,this.userSubscription=new xi.w0,this.sideNavToggled=new r.vpe,this.menuStatus=!1,this.userEmail=null,this.userSeudonimo=null,this.photoUrl=null,this.registerBtnDisplay=!1,this.highlight=!1}ngOnInit(){this.userSubscription=this.loginService.getUserObservable().subscribe(e=>{e?this.loginService.getUserName(e.uid).subscribe(i=>{i&&i.name?(this.userSeudonimo=", "+this.capitalizeText(i.name),i.user_type&&("Cliente"==i.user_type&&(this.registerBtnDisplay=!1),"Profesor"==i.user_type&&(this.registerBtnDisplay=!1),"Admin"==i.user_type&&(this.registerBtnDisplay=!0),"Asistente"==i.user_type&&(this.registerBtnDisplay=!0))):console.log("No se encontr\xf3 el nombre del usuario")}):(this.userEmail=null,this.userSeudonimo=null)})}ngOnDestroy(){this.userSubscription&&this.userSubscription.unsubscribe()}SideNavToggle(){this.menuStatus=!this.menuStatus,this.sideNavToggled.emit(this.menuStatus),this.highlight=!this.highlight}rutaa(e){this.router.navigate([e])}logOut(){this.loginService.logout().then(()=>{this.router.navigate(["/login"])}).catch(e=>console.log(e))}capitalizeText(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(a),r.Y36(Yr),r.Y36(Zh))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-header"]],outputs:{sideNavToggled:"sideNavToggled"},decls:25,vars:3,consts:[[1,"navbar","navbar-expand","navbar-dark","bg-dark","px-2"],[1,"side-nav-button","p-2","me-3","text-light",3,"click"],[1,"fa","fa-solid","fa-bars"],["href","#",1,"navbar-brand","px-3"],[1,"navbar-collapse"],[1,"profile-logo","dropstart"],["data-bs-toggle","dropdown",1,"btn","btn-outline-light","dropdown-toggle"],[1,"dropdown-menu"],[4,"ngIf"],[1,"dropdown-item",3,"click"],[1,"fa-solid","fa-arrow-right-to-bracket"],[1,"fa-solid","fa-user"],[1,"fa-solid","fa-xmark"],[1,"fa-solid","fa-address-card"]],template:function(e,i){1&e&&(r.TgZ(0,"nav",0)(1,"div",1),r.NdJ("click",function(){return i.SideNavToggle()}),r._UZ(2,"i",2),r.qZA(),r.TgZ(3,"a",3),r._uU(4,"Tesis"),r.TgZ(5,"span"),r._uU(6,"Hub"),r.qZA()(),r._UZ(7,"div",4),r.TgZ(8,"div",5)(9,"button",6),r._uU(10),r.qZA(),r.TgZ(11,"ul",7),r.YNc(12,joe,4,0,"li",8),r.TgZ(13,"li")(14,"a",9),r.NdJ("click",function(){return i.rutaa("login")}),r._UZ(15,"i",10),r._uU(16," Iniciar Sesi\xf3n"),r.qZA()(),r.TgZ(17,"li")(18,"a",9),r.NdJ("click",function(){return i.rutaa("infor")}),r._UZ(19,"i",11),r._uU(20," Perfil"),r.qZA()(),r.TgZ(21,"li")(22,"a",9),r.NdJ("click",function(){return i.logOut()}),r._UZ(23,"i",12),r._uU(24," Cerra Sesi\xf3n"),r.qZA()()()()()),2&e&&(r.xp6(5),r.Q6J("@highlightAnimation",i.highlight?"active":"inactive"),r.xp6(5),r.hij(" Hola",i.userSeudonimo," "),r.xp6(2),r.Q6J("ngIf",i.registerBtnDisplay))},dependencies:[Un],styles:["nav[_ngcontent-%COMP%]{height:100%}.side-nav-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-size:1.5rem;cursor:pointer}.side-nav-button[_ngcontent-%COMP%]:hover{background-color:#fff3;border-radius:30%}.dropdown-menu[_ngcontent-%COMP%]{font-family:poppins,sans-serif;font-size:14px;font-weight:300}.dropdown-item[_ngcontent-%COMP%]{cursor:pointer}"],data:{animation:[Qa("highlightAnimation",[Kr("inactive",yn({borderColor:"transparent",backgroundColor:"#343a40",color:"white",borderRadius:"12%"})),Kr("active",yn({backgroundColor:"white",color:"brown",borderRadius:"12%"})),Nr("inactive <=> active",fo("300ms ease-in-out"))])]}}),n})();const $oe=function(n){return{selected:n}},Goe=function(n){return[n]};function Yoe(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"li",3)(1,"a",4),r.NdJ("click",function(){const s=r.CHM(e).$implicit,c=r.oxw();return r.KtG(c.selectItem(s))}),r._UZ(2,"i"),r.TgZ(3,"span"),r._uU(4),r.qZA()()()}if(2&n){const e=t.$implicit;r.Q6J("ngClass",r.VKq(6,$oe,e.selected)),r.xp6(1),r.Q6J("routerLink",r.VKq(8,Goe,e.routeLink)),r.xp6(1),r.Tol(e.icon),r.xp6(2),r.Oqu(e.name)}}const Woe=function(n,t){return{"nav-list-open":n,"nav-list-close":t}};let Koe=(()=>{class n{constructor(e){this.loginService=e,this.sideNavStatus=!1,this.listDisplay=[],this.list=[{number:"1",name:"Dashboard",icon:"fa fa-solid fa-gauge-high",routeLink:"dashboard",selected:!1,display:!1},{number:"2",name:"Proyectos",icon:"fa-solid fa-chart-column",routeLink:"project",selected:!1,display:!1},{number:"3",name:"Proyectos Potenciales",icon:"fa-solid fa-filter",routeLink:"leads",selected:!1,display:!1},{number:"4",name:"Gesti\xf3n Solicitudes",icon:"fa-solid fa-envelope",routeLink:"managerequests",selected:!1,display:!1},{number:"5",name:"Facturas",icon:"fa fa-solid fa-file-invoice",routeLink:"invoices",selected:!1,display:!1},{number:"6",name:"Informaci\xf3n",icon:"fa fa-solid fa-circle-info",routeLink:"infor",selected:!1,display:!1},{number:"7",name:"Consulta Adm",icon:"fa-solid fa-message",routeLink:"admincontact",selected:!1,display:!1},{number:"8",name:"Configuraci\xf3n",icon:"fa-solid fa-ellipsis",routeLink:"settings",selected:!1,display:!1}]}ngOnInit(){this.loginService.getUserObservable().subscribe(e=>{e&&this.loginService.getUserTypeObservable(e.uid).subscribe(i=>{this.updateMenuOptions(i)})})}updateMenuOptions(e){e&&(this.listDisplay=[],"Admin"==e&&(this.list[0].display=!0,this.list[1].display=!0,this.list[2].display=!0,this.list[3].display=!0,this.list[4].display=!0,this.list[5].display=!0,this.list[6].display=!0,this.list[7].display=!0),"Cliente"==e&&(this.list[0].display=!1,this.list[1].display=!0,this.list[2].display=!1,this.list[3].display=!1,this.list[4].display=!1,this.list[5].display=!0,this.list[6].display=!0,this.list[7].display=!1),"Profesor"==e&&(this.list[0].display=!1,this.list[1].display=!0,this.list[2].display=!0,this.list[3].display=!1,this.list[4].display=!1,this.list[5].display=!0,this.list[6].display=!0,this.list[7].display=!1),"Asistente"==e&&(this.list[0].display=!1,this.list[1].display=!0,this.list[2].display=!0,this.list[3].display=!0,this.list[4].display=!0,this.list[5].display=!0,this.list[6].display=!0,this.list[7].display=!0)),this.list.forEach((i,o)=>{i.display&&this.listDisplay.push({number:i.number,name:i.name,icon:i.icon,routeLink:i.routeLink,selected:i.selected,display:i.display})})}ngOnDestroy(){}selectItem(e){this.listDisplay.forEach(i=>{i.selected=!1}),e.selected=!0}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Yr))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-sidenav"]],inputs:{sideNavStatus:"sideNavStatus"},decls:3,vars:5,consts:[[1,"side-nav-content"],[1,"nav-list",3,"ngClass"],["class","nav-list-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"nav-list-item",3,"ngClass"],["href","#",3,"routerLink","click"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"ul",1),r.YNc(2,Yoe,5,10,"li",2),r.qZA()()),2&e&&(r.xp6(1),r.Q6J("ngClass",r.WLB(2,Woe,i.sideNavStatus,!i.sideNavStatus)),r.xp6(1),r.Q6J("ngForOf",i.listDisplay))},dependencies:[Gn,cr,u],styles:[".side-nav-content[_ngcontent-%COMP%]{color:#fff;width:230px;margin-left:10px;margin-right:10px;margin-top:10px}.nav-list[_ngcontent-%COMP%]{list-style:none;height:100%;padding:0%;margin-bottom:0%}.nav-list-item[_ngcontent-%COMP%]{display:flex;align-items:center;height:50px}.nav-list-close[_ngcontent-%COMP%]   .nav-list-item[_ngcontent-%COMP%]:hover{height:50px;width:45px;cursor:pointer;background-color:#ffffff4d;border-radius:10px}.nav-list-open[_ngcontent-%COMP%]   .nav-list-item[_ngcontent-%COMP%]:hover{border-radius:10px;cursor:pointer}.nav-list-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:25px;height:30px;width:25px;margin-right:25px;margin-left:10px;text-align:center;line-height:25px}.nav-list-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:170px;text-transform:capitalize}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}.nav-list-item.selected[_ngcontent-%COMP%]{background-color:#ffffff80;border-radius:10px}"]}),n})();const Qoe=function(n){return{"app-sidenav-open":n}};function Joe(n,t){if(1&n&&r._UZ(0,"app-sidenav",5),2&n){const e=r.oxw();r.Q6J("sideNavStatus",e.sideNavStatus)("ngClass",r.VKq(2,Qoe,e.sideNavStatus))}}function Xoe(n,t){if(1&n&&(r.TgZ(0,"div",6),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.Tol(e.typeAlert),r.xp6(1),r.hij(" ",e.message," ")}}const ese=function(n){return{"display-area-shrink":n}};let tse=(()=>{class n{constructor(e,i){this.alertService=e,this.loginService=i,this.title="Creado en Angular 16 Firebase htts://andromedaoll.com",this.sideNavStatus=!1,this.tipoUsr="",this.sideNavDisplay=!1,this.showAlert=!1,this.message="",this.typeAlert="alert alert-info alerta",this.userEmail=null,this.userSeudonimo=null,this.userSubscription=new xi.w0}ngOnInit(){this.alertService.alert$.subscribe(e=>{this.message=e.message,this.showAlert=!0,"create"==e.type&&(this.typeAlert="alert alert-info alerta"),"update"==e.type&&(this.typeAlert="alert alert-info alerta"),"delete"==e.type&&(this.typeAlert="alert alert-danger alerta"),setTimeout(()=>{this.showAlert=!1},e.time)}),this.userSubscription=this.loginService.getUserObservable().subscribe(e=>{e?this.loginService.getUserName(e.uid).subscribe(i=>{i&&i.name?(this.userSeudonimo=", "+this.capitalizeText(i.name),this.tipoUsr=i.user_type,this.sideNavDisplay=!0):console.log("No se encontr\xf3 el nombre del usuario")}):(this.userEmail=null,this.userSeudonimo=null,this.sideNavDisplay=!1)})}capitalizeText(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36($h),r.Y36(Yr))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-root"]],decls:7,vars:5,consts:[[1,"container-fluid","g-0"],[3,"sideNavToggled"],[3,"sideNavStatus","ngClass",4,"ngIf"],[1,"display-area","p-3",3,"ngClass"],["role","alert",3,"class",4,"ngIf"],[3,"sideNavStatus","ngClass"],["role","alert"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"app-header",1),r.NdJ("sideNavToggled",function(s){return i.sideNavStatus=s}),r.qZA(),r.TgZ(2,"main"),r.YNc(3,Joe,1,4,"app-sidenav",2),r.TgZ(4,"div",3),r.YNc(5,Xoe,2,3,"div",4),r._UZ(6,"router-outlet"),r.qZA()()()),2&e&&(r.xp6(3),r.Q6J("ngIf",i.sideNavDisplay),r.xp6(1),r.Q6J("ngClass",r.VKq(3,ese,i.sideNavStatus)),r.xp6(1),r.Q6J("ngIf",i.showAlert))},dependencies:[Gn,Un,Ab,zoe,Koe],styles:[".container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;margin:25px auto}.navbar-brand.ml-2[_ngcontent-%COMP%]{margin-left:10px}.black-border[_ngcontent-%COMP%]{border:1px solid black}app-header[_ngcontent-%COMP%]{position:fixed;width:100%;top:0;height:4rem;z-index:2}main[_ngcontent-%COMP%]{position:absolute;width:100%;top:4rem;z-index:1}app-sidenav[_ngcontent-%COMP%]{position:absolute;left:0rem;width:65px;height:calc(100vh - 4rem);box-shadow:0 0 10px #00000080;background-color:#263238;border-top:1px solid rgb(110,107,107);overflow-x:hidden;white-space:nowrap;transition:width .35s ease-in}.app-sidenav-open[_ngcontent-%COMP%]{width:250px}.display-area[_ngcontent-%COMP%]{position:absolute;left:65px;width:calc(100% - 65px);transition:left .35s linear,width .35s linear}.display-area-shrink[_ngcontent-%COMP%]{width:calc(100% - 250px);left:250px}.alerta[_ngcontent-%COMP%]{position:fixed;max-width:750px;top:70px;right:10px}"]}),n})();!function(){function n(t,e,i){this.el=t,this.vcr=e,this.renderer=i,this.dtOptions={}}n.prototype.ngOnInit=function(){var t=this;this.dtTrigger?this.dtTrigger.subscribe(function(e){t.displayTable(e)}):this.displayTable(null)},n.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},n.prototype.displayTable=function(t){var e=this;t&&(this.dtOptions=t),this.dtInstance=new Promise(function(i,o){Promise.resolve(e.dtOptions).then(function(s){0===Object.keys(s).length&&0===$("tbody tr",e.el.nativeElement).length?o("Both the table and dtOptions cannot be empty"):setTimeout(function(){var d={rowCallback:function(p,_,b){if(s.columns){var E=s.columns;e.applyNgPipeTransform(p,E),e.applyNgRefTemplate(p,E,_)}s.rowCallback&&s.rowCallback(p,_,b)}};d=Object.assign({},s,d),e.dt=$(e.el.nativeElement).DataTable(d),i(e.dt)})})})},n.prototype.applyNgPipeTransform=function(t,e){e.filter(function(o){return o.ngPipeInstance&&!o.ngTemplateRef}).forEach(function(o){var s=o.ngPipeInstance,c=o.ngPipeArgs||[],d=e.filter(function(E){return!1!==E.visible}).findIndex(function(E){return E.data===o.data}),p=t.childNodes.item(d),_=$(p).text(),b=s.transform.apply(s,function(n,t,e){if(e||2===arguments.length)for(var s,i=0,o=t.length;i<o;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return n.concat(s||Array.prototype.slice.call(t))}([_],c,!1));$(p).text(b)})},n.prototype.applyNgRefTemplate=function(t,e,i){var o=this;e.filter(function(c){return c.ngTemplateRef&&!c.ngPipeInstance}).forEach(function(c){var d,p=(d=c.ngTemplateRef).ref,_=d.context,b=e.filter(function(q){return!1!==q.visible}).findIndex(function(q){return q.data===c.data}),E=t.childNodes.item(b);$(E).html("");var k=Object.assign({},_,_?.userData,{adtData:i}),F=o.vcr.createEmbeddedView(p,k);o.renderer.appendChild(E,F.rootNodes[0])})},n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.s_b),r.Y36(r.Qsj))},n.\u0275dir=r.lG2({type:n,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}})}();var ise=function(){function n(){}return n.forRoot=function(){return{ngModule:n}},n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[Vi]}),n}();let rse=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[pq,hq,wq,hD,ML,ML,DH,n5,pq,hq,wq,hD,ML,DH,n5]}),n})();function AH(n){return new r.vHH(3e3,!1)}function Mm(n){switch(n.length){case 0:return new dD;case 1:return n[0];default:return new W5(n)}}function IH(n,t,e=new Map,i=new Map){const o=[],s=[];let c=-1,d=null;if(t.forEach(p=>{const _=p.get("offset"),b=_==c,E=b&&d||new Map;p.forEach((k,F)=>{let q=F,K=k;if("offset"!==F)switch(q=n.normalizePropertyName(q,o),K){case iL:K=e.get(F);break;case qh:K=i.get(F);break;default:K=n.normalizeStyleValue(F,q,K,o)}E.set(q,K)}),b||s.push(E),d=E,c=_}),o.length)throw function Ase(n){return new r.vHH(3502,!1)}();return s}function $L(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&GL(e,"start",n)));break;case"done":n.onDone(()=>i(e&&GL(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&GL(e,"destroy",n)))}}function GL(n,t,e){const s=YL(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),c=n._data;return null!=c&&(s._data=c),s}function YL(n,t,e,i,o="",s=0,c){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:o,totalTime:s,disabled:!!c}}function tl(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function SH(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const Vse=(()=>typeof document>"u"?null:document.documentElement)();function WL(n){const t=n.parentNode||n.host||null;return t===Vse?null:t}let Z_=null,MH=!1;function kH(n,t){for(;t;){if(t===n)return!0;t=WL(t)}return!1}function RH(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let OH=(()=>{class n{validateStyleProperty(e){return function Bse(n){Z_||(Z_=function qse(){return typeof document<"u"?document.body:null}()||{},MH=!!Z_.style&&"WebkitAppearance"in Z_.style);let t=!0;return Z_.style&&!function Zse(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Z_.style,!t&&MH&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Z_.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return kH(e,i)}getParentElement(e){return WL(e)}query(e,i,o){return RH(e,i,o)}computeStyle(e,i,o){return o||""}animate(e,i,o,s,c,d=[],p){return new dD(o,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),KL=(()=>{class n{}return n.NOOP=new OH,n})();const Hse=1e3,QL="ng-enter",yM="ng-leave",bM="ng-trigger",wM=".ng-trigger",NH="ng-animating",JL=".ng-animating";function Wh(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:XL(parseFloat(t[1]),t[2])}function XL(n,t){return"s"===t?n*Hse:n}function CM(n,t,e){return n.hasOwnProperty("duration")?n:function zse(n,t,e){let o,s=0,c="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return t.push(AH()),{duration:0,delay:0,easing:""};o=XL(parseFloat(d[1]),d[2]);const p=d[3];null!=p&&(s=XL(parseFloat(p),d[4]));const _=d[5];_&&(c=_)}else o=n;if(!e){let d=!1,p=t.length;o<0&&(t.push(function ose(){return new r.vHH(3100,!1)}()),d=!0),s<0&&(t.push(function sse(){return new r.vHH(3101,!1)}()),d=!0),d&&t.splice(p,0,AH())}return{duration:o,delay:s,easing:c}}(n,t,e)}function DD(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function FH(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function km(n,t=new Map,e){if(e)for(let[i,o]of e)t.set(i,o);for(let[i,o]of n)t.set(i,o);return t}function dd(n,t,e){t.forEach((i,o)=>{const s=tU(o);e&&!e.has(o)&&e.set(o,n.style[s]),n.style[s]=i})}function B_(n,t){t.forEach((e,i)=>{const o=tU(i);n.style[o]=""})}function ED(n){return Array.isArray(n)?1==n.length?n[0]:z5(n):n}const eU=new RegExp("{{\\s*(.+?)\\s*}}","g");function UH(n){let t=[];if("string"==typeof n){let e;for(;e=eU.exec(n);)t.push(e[1]);eU.lastIndex=0}return t}function TD(n,t,e){const i=n.toString(),o=i.replace(eU,(s,c)=>{let d=t[c];return null==d&&(e.push(function lse(n){return new r.vHH(3003,!1)}()),d=""),d.toString()});return o==i?n:o}function xM(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Yse=/-+([a-z0-9])/g;function tU(n){return n.replace(Yse,(...t)=>t[1].toUpperCase())}function nl(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function cse(n){return new r.vHH(3004,!1)}()}}function VH(n,t){return window.getComputedStyle(n)[t]}const DM="*";function Qse(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Jse(n,t,e){if(":"==n[0]){const p=function Xse(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function xse(n){return new r.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof p)return void t.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Cse(n){return new r.vHH(3015,!1)}()),t;const o=i[1],s=i[2],c=i[3];t.push(ZH(o,c));"<"==s[0]&&!(o==DM&&c==DM)&&t.push(ZH(c,o))}(i,e,t)):e.push(n),e}const EM=new Set(["true","1"]),TM=new Set(["false","0"]);function ZH(n,t){const e=EM.has(n)||TM.has(n),i=EM.has(t)||TM.has(t);return(o,s)=>{let c=n==DM||n==o,d=t==DM||t==s;return!c&&e&&"boolean"==typeof o&&(c=o?EM.has(n):TM.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?EM.has(t):TM.has(t)),c&&d}}const eae=new RegExp("s*:selfs*,?","g");function nU(n,t,e,i){return new tae(n).build(t,e,i)}class tae{constructor(t){this._driver=t}build(t,e,i){const o=new rae(e);return this._resetContextStyleTimingState(o),nl(this,ED(t),o)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,o=e.depCount=0;const s=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push(function dse(){return new r.vHH(3006,!1)}()),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),0==d.type){const p=d,_=p.name;_.toString().split(/\s*,\s*/).forEach(b=>{p.name=b,s.push(this.visitState(p,e))}),p.name=_}else if(1==d.type){const p=this.visitTransition(d,e);i+=p.queryCount,o+=p.depCount,c.push(p)}else e.errors.push(function hse(){return new r.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:c,queryCount:i,depCount:o,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),o=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=o||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(p=>{UH(p).forEach(_=>{c.hasOwnProperty(_)||s.add(_)})})}),s.size&&(xM(s.values()),e.errors.push(function fse(n,t){return new r.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:o?{params:o}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=nl(this,ED(t.animation),e);return{type:1,matchers:Qse(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:q_(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>nl(this,i,e)),options:q_(t.options)}}visitGroup(t,e){const i=e.currentTime;let o=0;const s=t.steps.map(c=>{e.currentTime=i;const d=nl(this,c,e);return o=Math.max(o,e.currentTime),d});return e.currentTime=o,{type:3,steps:s,options:q_(t.options)}}visitAnimate(t,e){const i=function sae(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return iU(CM(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=iU(0,0,"");return s.dynamic=!0,s.strValue=e,s}const o=CM(e,t);return iU(o.duration,o.delay,o.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let o,s=t.styles?t.styles:yn({});if(5==s.type)o=this.visitKeyframes(s,e);else{let c=t.styles,d=!1;if(!c){d=!0;const _={};i.easing&&(_.easing=i.easing),c=yn(_)}e.currentTime+=i.duration+i.delay;const p=this.visitStyle(c,e);p.isEmptyStep=d,o=p}return e.currentAnimateTimings=null,{type:4,timings:i,style:o,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],o=Array.isArray(t.styles)?t.styles:[t.styles];for(let d of o)"string"==typeof d?d===qh?i.push(d):e.errors.push(new r.vHH(3002,!1)):i.push(FH(d));let s=!1,c=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(c=d.get("easing"),d.delete("easing")),!s))for(let p of d.values())if(p.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:c,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let o=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(c=>{"string"!=typeof c&&c.forEach((d,p)=>{const _=e.collectedStyles.get(e.currentQuerySelector),b=_.get(p);let E=!0;b&&(s!=o&&s>=b.startTime&&o<=b.endTime&&(e.errors.push(function mse(n,t,e,i,o){return new r.vHH(3010,!1)}()),E=!1),s=b.startTime),E&&_.set(p,{startTime:s,endTime:o}),e.options&&function Gse(n,t,e){const i=t.params||{},o=UH(n);o.length&&o.forEach(s=>{i.hasOwnProperty(s)||e.push(function ase(n){return new r.vHH(3001,!1)}())})}(d,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function gse(){return new r.vHH(3011,!1)}()),i;let s=0;const c=[];let d=!1,p=!1,_=0;const b=t.steps.map(Oe=>{const ze=this._makeStyleAst(Oe,e);let He=null!=ze.offset?ze.offset:function oae(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(ze.styles),Je=0;return null!=He&&(s++,Je=ze.offset=He),p=p||Je<0||Je>1,d=d||Je<_,_=Je,c.push(Je),ze});p&&e.errors.push(function _se(){return new r.vHH(3012,!1)}()),d&&e.errors.push(function vse(){return new r.vHH(3200,!1)}());const E=t.steps.length;let k=0;s>0&&s<E?e.errors.push(function yse(){return new r.vHH(3202,!1)}()):0==s&&(k=1/(E-1));const F=E-1,q=e.currentTime,K=e.currentAnimateTimings,ee=K.duration;return b.forEach((Oe,ze)=>{const He=k>0?ze==F?1:k*ze:c[ze],Je=He*ee;e.currentTime=q+K.delay+Je,K.duration=Je,this._validateStyleAst(Oe,e),Oe.offset=He,i.styles.push(Oe)}),i}visitReference(t,e){return{type:8,animation:nl(this,ED(t.animation),e),options:q_(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:q_(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:q_(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,o=t.options||{};e.queryCount++,e.currentQuery=t;const[s,c]=function nae(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(eae,"")),n=n.replace(/@\*/g,wM).replace(/@\w+/g,e=>wM+"-"+e.slice(1)).replace(/:animating/g,JL),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,tl(e.collectedStyles,e.currentQuerySelector,new Map);const d=nl(this,ED(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:o.limit||0,optional:!!o.optional,includeSelf:c,animation:d,originalSelector:t.selector,options:q_(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function bse(){return new r.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:CM(t.timings,e.errors,!0);return{type:12,animation:nl(this,ED(t.animation),e),timings:i,options:null}}}class rae{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function q_(n){return n?(n=DD(n)).params&&(n.params=function iae(n){return n?DD(n):null}(n.params)):n={},n}function iU(n,t,e){return{duration:n,delay:t,easing:e}}function rU(n,t,e,i,o,s,c=null,d=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:o,delay:s,totalTime:o+s,easing:c,subTimeline:d}}class AM{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const cae=new RegExp(":enter","g"),dae=new RegExp(":leave","g");function oU(n,t,e,i,o,s=new Map,c=new Map,d,p,_=[]){return(new hae).buildKeyframes(n,t,e,i,o,s,c,d,p,_)}class hae{buildKeyframes(t,e,i,o,s,c,d,p,_,b=[]){_=_||new AM;const E=new sU(t,e,_,o,s,b,[]);E.options=p;const k=p.delay?Wh(p.delay):0;E.currentTimeline.delayNextStep(k),E.currentTimeline.setStyles([c],null,E.errors,p),nl(this,i,E);const F=E.timelines.filter(q=>q.containsAnimation());if(F.length&&d.size){let q;for(let K=F.length-1;K>=0;K--){const ee=F[K];if(ee.element===e){q=ee;break}}q&&!q.allowOnlyTimelineStyles()&&q.setStyles([d],null,E.errors,p)}return F.length?F.map(q=>q.buildKeyframes()):[rU(e,[],[],[],0,k,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const o=e.createSubContext(t.options),s=e.currentTimeline.currentTime,c=this._visitSubInstructions(i,o,o.options);s!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const o of t){const s=o?.delay;if(s){const c="number"==typeof s?s:Wh(TD(s,o?.params??{},e.errors));i.delayNextStep(c)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const c=null!=i.duration?Wh(i.duration):null,d=null!=i.delay?Wh(i.delay):null;return 0!==c&&t.forEach(p=>{const _=e.appendInstructionToTimeline(p,c,d);s=Math.max(s,_.duration+_.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),nl(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let o=e;const s=t.options;if(s&&(s.params||s.delay)&&(o=e.createSubContext(s),o.transformIntoNewTimeline(),null!=s.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=IM);const c=Wh(s.delay);o.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>nl(this,c,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>i&&o.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let o=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Wh(t.options.delay):0;t.steps.forEach(c=>{const d=e.createSubContext(t.options);s&&d.delayNextStep(s),nl(this,c,d),o=Math.max(o,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(o),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return CM(e.params?TD(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),o=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),o.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,o=e.currentAnimateTimings;!o&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=o&&o.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,o=e.currentTimeline.duration,s=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,t.styles.forEach(p=>{d.forwardTime((p.offset||0)*s),d.setStyles(p.styles,p.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(o+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,o=t.options||{},s=o.delay?Wh(o.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=IM);let c=i;const d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=d.length;let p=null;d.forEach((_,b)=>{e.currentQueryIndex=b;const E=e.createSubContext(t.options,_);s&&E.delayNextStep(s),_===e.element&&(p=E.currentTimeline),nl(this,t.animation,E),E.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,E.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),p&&(e.currentTimeline.mergeTimelineCollectedStyles(p),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,o=e.currentTimeline,s=t.timings,c=Math.abs(s.duration),d=c*(e.currentQueryTotal-1);let p=c*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=d-p;break;case"full":p=i.currentStaggerTime}const b=e.currentTimeline;p&&b.delayNextStep(p);const E=b.currentTime;nl(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=o.currentTime-E+(o.startTime-i.currentTimeline.startTime)}}const IM={};class sU{constructor(t,e,i,o,s,c,d,p){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=o,this._leaveClassName=s,this.errors=c,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=IM,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new SM(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let o=this.options;null!=i.duration&&(o.duration=Wh(i.duration)),null!=i.delay&&(o.delay=Wh(i.delay));const s=i.params;if(s){let c=o.params;c||(c=this.options.params={}),Object.keys(s).forEach(d=>{(!e||!c.hasOwnProperty(d))&&(c[d]=TD(s[d],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(o=>{i[o]=e[o]})}}return t}createSubContext(t=null,e,i){const o=e||this.element,s=new sU(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=IM,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const o={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new fae(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,o,t.stretchStartingKeyframe);return this.timelines.push(s),o}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,o,s,c){let d=[];if(o&&d.push(this.element),t.length>0){t=(t=t.replace(cae,"."+this._enterClassName)).replace(dae,"."+this._leaveClassName);let _=this._driver.query(this.element,t,1!=i);0!==i&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),d.push(..._)}return!s&&0==d.length&&c.push(function wse(n){return new r.vHH(3014,!1)}()),d}}class SM{constructor(t,e,i,o){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=o,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new SM(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||qh),this._currentKeyframe.set(e,qh);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,o){e&&this._previousKeyframe.set("easing",e);const s=o&&o.params||{},c=function pae(n,t){const e=new Map;let i;return n.forEach(o=>{if("*"===o){i=i||t.keys();for(let s of i)e.set(s,qh)}else km(o,e)}),e}(t,this._globalTimelineStyles);for(let[d,p]of c){const _=TD(p,s,i);this._pendingStyles.set(d,_),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??qh),this._updateStyle(d,_)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const o=this._styleSummary.get(i);(!o||e.time>o.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((d,p)=>{const _=km(d,new Map,this._backFill);_.forEach((b,E)=>{b===iL?t.add(E):b===qh&&e.add(E)}),i||_.set("offset",p/this.duration),o.push(_)});const s=t.size?xM(t.values()):[],c=e.size?xM(e.values()):[];if(i){const d=o[0],p=new Map(d);d.set("offset",0),p.set("offset",1),o=[d,p]}return rU(this.element,o,s,c,this.duration,this.startTime,this.easing,!1)}}class fae extends SM{constructor(t,e,i,o,s,c,d=!1){super(t,e,c.delay),this.keyframes=i,this.preStyleProps=o,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],c=i+e,d=e/c,p=km(t[0]);p.set("offset",0),s.push(p);const _=km(t[0]);_.set("offset",HH(d)),s.push(_);const b=t.length-1;for(let E=1;E<=b;E++){let k=km(t[E]);const F=k.get("offset");k.set("offset",HH((e+F*i)/c)),s.push(k)}i=c,e=0,o="",t=s}return rU(this.element,t,this.preStyleProps,this.postStyleProps,i,e,o,!0)}}function HH(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class aU{}const mae=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class gae extends aU{normalizePropertyName(t,e){return tU(t)}normalizeStyleValue(t,e,i,o){let s="";const c=i.toString().trim();if(mae.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&o.push(function use(n,t){return new r.vHH(3005,!1)}())}return c+s}}function jH(n,t,e,i,o,s,c,d,p,_,b,E,k){return{type:0,element:n,triggerName:t,isRemovalTransition:o,fromState:e,fromStyles:s,toState:i,toStyles:c,timelines:d,queriedElements:p,preStyleProps:_,postStyleProps:b,totalTime:E,errors:k}}const lU={};class zH{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,o){return function _ae(n,t,e,i,o){return n.some(s=>s(t,e,i,o))}(this.ast.matchers,t,e,i,o)}buildStyles(t,e,i){let o=this._stateStyles.get("*");return void 0!==t&&(o=this._stateStyles.get(t?.toString())||o),o?o.buildStyles(e,i):new Map}build(t,e,i,o,s,c,d,p,_,b){const E=[],k=this.ast.options&&this.ast.options.params||lU,q=this.buildStyles(i,d&&d.params||lU,E),K=p&&p.params||lU,ee=this.buildStyles(o,K,E),Oe=new Set,ze=new Map,He=new Map,Je="void"===o,Nt={params:vae(K,k),delay:this.ast.options?.delay},Vt=b?[]:oU(t,e,this.ast.animation,s,c,q,ee,Nt,_,E);let En=0;if(Vt.forEach(ws=>{En=Math.max(ws.duration+ws.delay,En)}),E.length)return jH(e,this._triggerName,i,o,Je,q,ee,[],[],ze,He,En,E);Vt.forEach(ws=>{const Kh=ws.element,sj=tl(ze,Kh,new Set);ws.preStyleProps.forEach(H_=>sj.add(H_));const ID=tl(He,Kh,new Set);ws.postStyleProps.forEach(H_=>ID.add(H_)),Kh!==e&&Oe.add(Kh)});const sr=xM(Oe.values());return jH(e,this._triggerName,i,o,Je,q,ee,Vt,sr,ze,He,En)}}function vae(n,t){const e=DD(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class yae{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,o=DD(this.defaultParams);return Object.keys(t).forEach(s=>{const c=t[s];null!==c&&(o[s]=c)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((c,d)=>{c&&(c=TD(c,o,e));const p=this.normalizer.normalizePropertyName(d,e);c=this.normalizer.normalizeStyleValue(d,p,c,e),i.set(d,c)})}),i}}class wae{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(o=>{this.states.set(o.name,new yae(o.style,o.options&&o.options.params||{},i))}),$H(this.states,"true","1"),$H(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new zH(t,o,this.states))}),this.fallbackTransition=function Cae(n,t,e){return new zH(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,d)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,o){return this.transitionFactories.find(c=>c.match(t,e,i,o))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function $H(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const xae=new AM;class Dae{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=nU(this._driver,e,i,[]);if(i.length)throw function Ise(n){return new r.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const o=t.element,s=IH(this._normalizer,t.keyframes,e,i);return this._driver.animate(o,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const o=[],s=this._animations.get(t);let c;const d=new Map;if(s?(c=oU(this._driver,e,s,QL,yM,new Map,new Map,i,xae,o),c.forEach(b=>{const E=tl(d,b.element,new Map);b.postStyleProps.forEach(k=>E.set(k,null))})):(o.push(function Sse(){return new r.vHH(3300,!1)}()),c=[]),o.length)throw function Mse(n){return new r.vHH(3504,!1)}();d.forEach((b,E)=>{b.forEach((k,F)=>{b.set(F,this._driver.computeStyle(E,F,qh))})});const _=Mm(c.map(b=>{const E=d.get(b.element);return this._buildPlayer(b,new Map,E)}));return this._playersById.set(t,_),_.onDestroy(()=>this.destroy(t)),this.players.push(_),_}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function kse(n){return new r.vHH(3301,!1)}();return e}listen(t,e,i,o){const s=YL(e,"","","");return $L(this._getPlayer(t),i,s,o),()=>{}}command(t,e,i,o){if("register"==i)return void this.register(t,o[0]);if("create"==i)return void this.create(t,e,o[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(t)}}}const GH="ng-animate-queued",cU="ng-animate-disabled",Sae=[],YH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Mae={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hl="__ng_removed";class uU{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function Pae(n){return n??null}(i?t.value:t),i){const s=DD(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(o=>{null==i[o]&&(i[o]=e[o])})}}}const AD="void",dU=new uU(AD);class kae{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,jl(e,this._hostClassName)}listen(t,e,i,o){if(!this._triggers.has(e))throw function Rse(n,t){return new r.vHH(3302,!1)}();if(null==i||0==i.length)throw function Ose(n){return new r.vHH(3303,!1)}();if(!function Nae(n){return"start"==n||"done"==n}(i))throw function Pse(n,t){return new r.vHH(3400,!1)}();const s=tl(this._elementListeners,t,[]),c={name:e,phase:i,callback:o};s.push(c);const d=tl(this._engine.statesByElement,t,new Map);return d.has(e)||(jl(t,bM),jl(t,bM+"-"+e),d.set(e,dU)),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(c);p>=0&&s.splice(p,1),this._triggers.has(e)||d.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Nse(n){return new r.vHH(3401,!1)}();return e}trigger(t,e,i,o=!0){const s=this._getTrigger(e),c=new hU(this.id,e,t);let d=this._engine.statesByElement.get(t);d||(jl(t,bM),jl(t,bM+"-"+e),this._engine.statesByElement.set(t,d=new Map));let p=d.get(e);const _=new uU(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&_.absorbOptions(p.options),d.set(e,_),p||(p=dU),_.value!==AD&&p.value===_.value){if(!function Uae(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let o=0;o<e.length;o++){const s=e[o];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(p.params,_.params)){const K=[],ee=s.matchStyles(p.value,p.params,K),Oe=s.matchStyles(_.value,_.params,K);K.length?this._engine.reportError(K):this._engine.afterFlush(()=>{B_(t,ee),dd(t,Oe)})}return}const k=tl(this._engine.playersByElement,t,[]);k.forEach(K=>{K.namespaceId==this.id&&K.triggerName==e&&K.queued&&K.destroy()});let F=s.matchTransition(p.value,_.value,t,_.params),q=!1;if(!F){if(!o)return;F=s.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:F,fromState:p,toState:_,player:c,isFallbackTransition:q}),q||(jl(t,GH),c.onStart(()=>{L0(t,GH)})),c.onDone(()=>{let K=this.players.indexOf(c);K>=0&&this.players.splice(K,1);const ee=this._engine.playersByElement.get(t);if(ee){let Oe=ee.indexOf(c);Oe>=0&&ee.splice(Oe,1)}}),this.players.push(c),k.push(c),c}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(o=>o.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,wM,!0);i.forEach(o=>{if(o[Hl])return;const s=this._engine.fetchNamespacesByElement(o);s.size?s.forEach(c=>c.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(t,e,i,o){const s=this._engine.statesByElement.get(t),c=new Map;if(s){const d=[];if(s.forEach((p,_)=>{if(c.set(_,p.value),this._triggers.has(_)){const b=this.trigger(t,_,AD,o);b&&d.push(b)}}),d.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,c),i&&Mm(d).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const o=new Set;e.forEach(s=>{const c=s.name;if(o.has(c))return;o.add(c);const p=this._triggers.get(c).fallbackTransition,_=i.get(c)||dU,b=new uU(AD),E=new hU(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:p,fromState:_,toState:b,player:E,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let o=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)o=!0;else{let c=t;for(;c=c.parentNode;)if(i.statesByElement.get(c)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(t),o)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Hl];(!s||s===YH)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){jl(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const o=i.player;if(o.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(d=>{if(d.name==i.triggerName){const p=YL(s,i.triggerName,i.fromState.value,i.toState.value);p._data=t,$L(i.player,d.phase,p,d.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(i)}),this._queue=[],e.sort((i,o)=>{const s=i.transition.ast.depCount,c=o.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,o.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Rae{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new kae(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,o=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,d=this.driver.getParentElement(e);for(;d;){const p=o.get(d);if(p){const _=i.indexOf(p);i.splice(_+1,0,t),c=!0;break}d=this.driver.getParentElement(d)}c||i.unshift(t)}else i.push(t);return o.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let o=this._namespaceLookup[t];o&&o.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const o=this._namespaceList.indexOf(i);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let o of i.values())if(o.namespaceId){const s=this._fetchNamespace(o.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,o){if(MM(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,o),!0}return!1}insertNode(t,e,i,o){if(!MM(e))return;const s=e[Hl];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,i)}o&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),jl(t,cU)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),L0(t,cU))}removeNode(t,e,i){if(MM(e)){const o=t?this._fetchNamespace(t):null;o?o.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,o,s){this.collectedLeaveElements.push(e),e[Hl]={namespaceId:t,setForRemoval:o,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,o,s){return MM(e)?this._fetchNamespace(t).listen(e,i,o,s):()=>{}}_buildInstruction(t,e,i,o,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,o,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,wM,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,JL,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Mm(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Hl];if(e&&e.setForRemoval){if(t[Hl]=YH,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(cU)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,o)=>this._balanceNamespaceList(i,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)jl(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let o=0;o<i.length;o++)i[o]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Mm(e).onDone(()=>{i.forEach(o=>o())}):i.forEach(o=>o())}}reportError(t){throw function Fse(n){return new r.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new AM,o=[],s=new Map,c=[],d=new Map,p=new Map,_=new Map,b=new Set;this.disabledNodes.forEach(At=>{b.add(At);const Zt=this.driver.query(At,".ng-animate-queued",!0);for(let Gt=0;Gt<Zt.length;Gt++)b.add(Zt[Gt])});const E=this.bodyNode,k=Array.from(this.statesByElement.keys()),F=QH(k,this.collectedEnterElements),q=new Map;let K=0;F.forEach((At,Zt)=>{const Gt=QL+K++;q.set(Zt,Gt),At.forEach(Fn=>jl(Fn,Gt))});const ee=[],Oe=new Set,ze=new Set;for(let At=0;At<this.collectedLeaveElements.length;At++){const Zt=this.collectedLeaveElements[At],Gt=Zt[Hl];Gt&&Gt.setForRemoval&&(ee.push(Zt),Oe.add(Zt),Gt.hasAnimation?this.driver.query(Zt,".ng-star-inserted",!0).forEach(Fn=>Oe.add(Fn)):ze.add(Zt))}const He=new Map,Je=QH(k,Array.from(Oe));Je.forEach((At,Zt)=>{const Gt=yM+K++;He.set(Zt,Gt),At.forEach(Fn=>jl(Fn,Gt))}),t.push(()=>{F.forEach((At,Zt)=>{const Gt=q.get(Zt);At.forEach(Fn=>L0(Fn,Gt))}),Je.forEach((At,Zt)=>{const Gt=He.get(Zt);At.forEach(Fn=>L0(Fn,Gt))}),ee.forEach(At=>{this.processLeaveNode(At)})});const Nt=[],Vt=[];for(let At=this._namespaceList.length-1;At>=0;At--)this._namespaceList[At].drainQueuedTransitions(e).forEach(Gt=>{const Fn=Gt.player,Ro=Gt.element;if(Nt.push(Fn),this.collectedEnterElements.length){const Cs=Ro[Hl];if(Cs&&Cs.setForMove){if(Cs.previousTriggersValues&&Cs.previousTriggersValues.has(Gt.triggerName)){const j_=Cs.previousTriggersValues.get(Gt.triggerName),zl=this.statesByElement.get(Gt.element);if(zl&&zl.has(Gt.triggerName)){const OM=zl.get(Gt.triggerName);OM.value=j_,zl.set(Gt.triggerName,OM)}}return void Fn.destroy()}}const hd=!E||!this.driver.containsElement(E,Ro),il=He.get(Ro),Rm=q.get(Ro),ar=this._buildInstruction(Gt,i,Rm,il,hd);if(ar.errors&&ar.errors.length)return void Vt.push(ar);if(hd)return Fn.onStart(()=>B_(Ro,ar.fromStyles)),Fn.onDestroy(()=>dd(Ro,ar.toStyles)),void o.push(Fn);if(Gt.isFallbackTransition)return Fn.onStart(()=>B_(Ro,ar.fromStyles)),Fn.onDestroy(()=>dd(Ro,ar.toStyles)),void o.push(Fn);const cj=[];ar.timelines.forEach(Cs=>{Cs.stretchStartingKeyframe=!0,this.disabledNodes.has(Cs.element)||cj.push(Cs)}),ar.timelines=cj,i.append(Ro,ar.timelines),c.push({instruction:ar,player:Fn,element:Ro}),ar.queriedElements.forEach(Cs=>tl(d,Cs,[]).push(Fn)),ar.preStyleProps.forEach((Cs,j_)=>{if(Cs.size){let zl=p.get(j_);zl||p.set(j_,zl=new Set),Cs.forEach((OM,mU)=>zl.add(mU))}}),ar.postStyleProps.forEach((Cs,j_)=>{let zl=_.get(j_);zl||_.set(j_,zl=new Set),Cs.forEach((OM,mU)=>zl.add(mU))})});if(Vt.length){const At=[];Vt.forEach(Zt=>{At.push(function Lse(n,t){return new r.vHH(3505,!1)}())}),Nt.forEach(Zt=>Zt.destroy()),this.reportError(At)}const En=new Map,sr=new Map;c.forEach(At=>{const Zt=At.element;i.has(Zt)&&(sr.set(Zt,Zt),this._beforeAnimationBuild(At.player.namespaceId,At.instruction,En))}),o.forEach(At=>{const Zt=At.element;this._getPreviousPlayers(Zt,!1,At.namespaceId,At.triggerName,null).forEach(Fn=>{tl(En,Zt,[]).push(Fn),Fn.destroy()})});const ws=ee.filter(At=>XH(At,p,_)),Kh=new Map;KH(Kh,this.driver,ze,_,qh).forEach(At=>{XH(At,p,_)&&ws.push(At)});const ID=new Map;F.forEach((At,Zt)=>{KH(ID,this.driver,new Set(At),p,iL)}),ws.forEach(At=>{const Zt=Kh.get(At),Gt=ID.get(At);Kh.set(At,new Map([...Zt?.entries()??[],...Gt?.entries()??[]]))});const H_=[],aj=[],lj={};c.forEach(At=>{const{element:Zt,player:Gt,instruction:Fn}=At;if(i.has(Zt)){if(b.has(Zt))return Gt.onDestroy(()=>dd(Zt,Fn.toStyles)),Gt.disabled=!0,Gt.overrideTotalTime(Fn.totalTime),void o.push(Gt);let Ro=lj;if(sr.size>1){let il=Zt;const Rm=[];for(;il=il.parentNode;){const ar=sr.get(il);if(ar){Ro=ar;break}Rm.push(il)}Rm.forEach(ar=>sr.set(ar,Ro))}const hd=this._buildAnimation(Gt.namespaceId,Fn,En,s,ID,Kh);if(Gt.setRealPlayer(hd),Ro===lj)H_.push(Gt);else{const il=this.playersByElement.get(Ro);il&&il.length&&(Gt.parentPlayer=Mm(il)),o.push(Gt)}}else B_(Zt,Fn.fromStyles),Gt.onDestroy(()=>dd(Zt,Fn.toStyles)),aj.push(Gt),b.has(Zt)&&o.push(Gt)}),aj.forEach(At=>{const Zt=s.get(At.element);if(Zt&&Zt.length){const Gt=Mm(Zt);At.setRealPlayer(Gt)}}),o.forEach(At=>{At.parentPlayer?At.syncPlayerEvents(At.parentPlayer):At.destroy()});for(let At=0;At<ee.length;At++){const Zt=ee[At],Gt=Zt[Hl];if(L0(Zt,yM),Gt&&Gt.hasAnimation)continue;let Fn=[];if(d.size){let hd=d.get(Zt);hd&&hd.length&&Fn.push(...hd);let il=this.driver.query(Zt,JL,!0);for(let Rm=0;Rm<il.length;Rm++){let ar=d.get(il[Rm]);ar&&ar.length&&Fn.push(...ar)}}const Ro=Fn.filter(hd=>!hd.destroyed);Ro.length?Fae(this,Zt,Ro):this.processLeaveNode(Zt)}return ee.length=0,H_.forEach(At=>{this.players.push(At),At.onDone(()=>{At.destroy();const Zt=this.players.indexOf(At);this.players.splice(Zt,1)}),At.play()}),H_}elementContainsData(t,e){let i=!1;const o=e[Hl];return o&&o.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,o,s){let c=[];if(e){const d=this.playersByQueriedElement.get(t);d&&(c=d)}else{const d=this.playersByElement.get(t);if(d){const p=!s||s==AD;d.forEach(_=>{_.queued||!p&&_.triggerName!=o||c.push(_)})}}return(i||o)&&(c=c.filter(d=>!(i&&i!=d.namespaceId||o&&o!=d.triggerName))),c}_beforeAnimationBuild(t,e,i){const s=e.element,c=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:e.triggerName;for(const p of e.timelines){const _=p.element,b=_!==s,E=tl(i,_,[]);this._getPreviousPlayers(_,b,c,d,e.toState).forEach(F=>{const q=F.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),F.destroy(),E.push(F)})}B_(s,e.fromStyles)}_buildAnimation(t,e,i,o,s,c){const d=e.triggerName,p=e.element,_=[],b=new Set,E=new Set,k=e.timelines.map(q=>{const K=q.element;b.add(K);const ee=K[Hl];if(ee&&ee.removedBeforeQueried)return new dD(q.duration,q.delay);const Oe=K!==p,ze=function Lae(n){const t=[];return JH(n,t),t}((i.get(K)||Sae).map(En=>En.getRealPlayer())).filter(En=>!!En.element&&En.element===K),He=s.get(K),Je=c.get(K),Nt=IH(this._normalizer,q.keyframes,He,Je),Vt=this._buildPlayer(q,Nt,ze);if(q.subTimeline&&o&&E.add(K),Oe){const En=new hU(t,d,K);En.setRealPlayer(Vt),_.push(En)}return Vt});_.forEach(q=>{tl(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function Oae(n,t,e){let i=n.get(t);if(i){if(i.length){const o=i.indexOf(e);i.splice(o,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,q.element,q))}),b.forEach(q=>jl(q,NH));const F=Mm(k);return F.onDestroy(()=>{b.forEach(q=>L0(q,NH)),dd(p,e.toStyles)}),E.forEach(q=>{tl(o,q,[]).push(F)}),F}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new dD(t.duration,t.delay)}}class hU{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new dD,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(o=>$L(t,i,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){tl(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function MM(n){return n&&1===n.nodeType}function WH(n,t){const e=n.style.display;return n.style.display=t??"none",e}function KH(n,t,e,i,o){const s=[];e.forEach(p=>s.push(WH(p)));const c=[];i.forEach((p,_)=>{const b=new Map;p.forEach(E=>{const k=t.computeStyle(_,E,o);b.set(E,k),(!k||0==k.length)&&(_[Hl]=Mae,c.push(_))}),n.set(_,b)});let d=0;return e.forEach(p=>WH(p,s[d++])),c}function QH(n,t){const e=new Map;if(n.forEach(d=>e.set(d,[])),0==t.length)return e;const i=1,o=new Set(t),s=new Map;function c(d){if(!d)return i;let p=s.get(d);if(p)return p;const _=d.parentNode;return p=e.has(_)?_:o.has(_)?i:c(_),s.set(d,p),p}return t.forEach(d=>{const p=c(d);p!==i&&e.get(p).push(d)}),e}function jl(n,t){n.classList?.add(t)}function L0(n,t){n.classList?.remove(t)}function Fae(n,t,e){Mm(e).onDone(()=>n.processLeaveNode(t))}function JH(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof W5?JH(i.players,t):t.push(i)}}function XH(n,t,e){const i=e.get(n);if(!i)return!1;let o=t.get(n);return o?i.forEach(s=>o.add(s)):t.set(n,i),e.delete(n),!0}class kM{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new Rae(t,e,i),this._timelineEngine=new Dae(t,e,i),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(t,e,i,o,s){const c=t+"-"+o;let d=this._triggerCache[c];if(!d){const p=[],b=nU(this._driver,s,p,[]);if(p.length)throw function Tse(n,t){return new r.vHH(3404,!1)}();d=function bae(n,t,e){return new wae(n,t,e)}(o,b,this._normalizer),this._triggerCache[c]=d}this._transitionEngine.registerTrigger(e,o,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,o){this._transitionEngine.insertNode(t,e,i,o)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,o){if("@"==i.charAt(0)){const[s,c]=SH(i);this._timelineEngine.command(s,e,c,o)}else this._transitionEngine.trigger(t,e,i,o)}listen(t,e,i,o,s){if("@"==i.charAt(0)){const[c,d]=SH(i);return this._timelineEngine.listen(c,e,d,s)}return this._transitionEngine.listen(t,e,i,o,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Zae=(()=>{class n{constructor(e,i,o){this._element=e,this._startStyles=i,this._endStyles=o,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&dd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(dd(this._element,this._initialStyles),this._endStyles&&(dd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(B_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(B_(this._element,this._endStyles),this._endStyles=null),dd(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function fU(n){let t=null;return n.forEach((e,i)=>{(function Bae(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class ej{constructor(t,e,i,o){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,o)=>{"offset"!==o&&t.set(o,this._finished?i:VH(this.element,o))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class qae{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return kH(t,e)}getParentElement(t){return WL(t)}query(t,e,i){return RH(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,o,s,c=[]){const p={duration:i,delay:o,fill:0==o?"both":"forwards"};s&&(p.easing=s);const _=new Map,b=c.filter(F=>F instanceof ej);(function Wse(n,t){return 0===n||0===t})(i,o)&&b.forEach(F=>{F.currentSnapshot.forEach((q,K)=>_.set(K,q))});let E=function $se(n){return n.length?n[0]instanceof Map?n:n.map(t=>FH(t)):[]}(e).map(F=>km(F));E=function Kse(n,t,e){if(e.size&&t.length){let i=t[0],o=[];if(e.forEach((s,c)=>{i.has(c)||o.push(c),i.set(c,s)}),o.length)for(let s=1;s<t.length;s++){let c=t[s];o.forEach(d=>c.set(d,VH(n,d)))}}return t}(t,E,_);const k=function Vae(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=fU(t[0]),t.length>1&&(i=fU(t[t.length-1]))):t instanceof Map&&(e=fU(t)),e||i?new Zae(n,e,i):null}(t,E);return new ej(t,E,p,k)}}let Hae=(()=>{class n extends j5{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:r.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?z5(e):e;return tj(this._renderer,null,i,"register",[o]),new jae(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.FYo),r.LFG(he))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class jae extends _K{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new zae(this._id,t,e||{},this._renderer)}}class zae{constructor(t,e,i,o){this.id=t,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return tj(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function tj(n,t,e,i,o){return n.setProperty(t,`@@${e}:${i}`,o)}const nj="@.disabled";let $ae=(()=>{class n{constructor(e,i,o){this.delegate=e,this.engine=i,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,c)=>{const d=c?.parentNode(s);d&&c.removeChild(d,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let b=this._rendererCache.get(s);return b||(b=new ij("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,b)),b}const c=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,e);const p=b=>{Array.isArray(b)?b.forEach(p):this.engine.registerTrigger(c,d,e,b.name,b)};return i.data.animation.forEach(p),new Gae(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,o){e>=0&&e<this._microtaskId?this._zone.run(()=>i(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,d]=s;c(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.FYo),r.LFG(kM),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class ij{constructor(t,e,i,o){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=o,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,o=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,o)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,o){this.delegate.setAttribute(t,e,i,o)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,o){this.delegate.setStyle(t,e,i,o)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==nj?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Gae extends ij{constructor(t,e,i,o,s){super(e,i,o,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==nj?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const o=function Yae(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),c="";return"@"!=s.charAt(0)&&([s,c]=function Wae(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,o,s,c,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(t,e,i)}}let Kae=(()=>{class n extends kM{constructor(e,i,o,s){super(e.body,i,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(he),r.LFG(KL),r.LFG(aU),r.LFG(r.z2F))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const rj=[{provide:j5,useClass:Hae},{provide:aU,useFactory:function Qae(){return new gae}},{provide:kM,useClass:Kae},{provide:r.FYo,useFactory:function Jae(n,t,e){return new $ae(n,t,e)},deps:[Ia,kM,r.R0b]}],pU=[{provide:KL,useFactory:()=>new qae},{provide:r.QbO,useValue:"BrowserAnimations"},...rj],oj=[{provide:KL,useClass:OH},{provide:r.QbO,useValue:"NoopAnimations"},...rj];let Xae=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?oj:pU}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:pU,imports:[Ma]}),n})(),ele=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n,bootstrap:[tse]}),n.\u0275inj=r.cJS({providers:[{provide:t5,useValue:"es-VE"}],imports:[Ma,Hoe,X0,fv,fr.hO.initializeApp(Bg_firebase),gA,Xae,ise,rse,HR(()=>jR(Bg_firebase)),Oj(()=>Fj())]}),n})();Hm().bootstrapModule(ele).catch(n=>console.error(n))},1135:(vt,Te,U)=>{U.d(Te,{X:()=>j});var r=U(7579);class j extends r.x{constructor(re){super(),this._value=re}get value(){return this.getValue()}_subscribe(re){const ue=super._subscribe(re);return!ue.closed&&re.next(this._value),ue}getValue(){const{hasError:re,thrownError:ue,_value:he}=this;if(re)throw ue;return this._throwIfClosed(),he}next(re){super.next(this._value=re)}}},9751:(vt,Te,U)=>{U.d(Te,{y:()=>ke});var r=U(930),j=U(727),P=U(8822),re=U(9635),ue=U(2416),he=U(576),xe=U(2806);let ke=(()=>{class ae{constructor(Se){Se&&(this._subscribe=Se)}lift(Se){const nt=new ae;return nt.source=this,nt.operator=Se,nt}subscribe(Se,nt,Pe){const Xe=function W(ae){return ae&&ae instanceof r.Lv||function G(ae){return ae&&(0,he.m)(ae.next)&&(0,he.m)(ae.error)&&(0,he.m)(ae.complete)}(ae)&&(0,j.Nn)(ae)}(Se)?Se:new r.Hp(Se,nt,Pe);return(0,xe.x)(()=>{const{operator:Fe,source:Ct}=this;Xe.add(Fe?Fe.call(Xe,Ct):Ct?this._subscribe(Xe):this._trySubscribe(Xe))}),Xe}_trySubscribe(Se){try{return this._subscribe(Se)}catch(nt){Se.error(nt)}}forEach(Se,nt){return new(nt=we(nt))((Pe,Xe)=>{const Fe=new r.Hp({next:Ct=>{try{Se(Ct)}catch(mt){Xe(mt),Fe.unsubscribe()}},error:Xe,complete:Pe});this.subscribe(Fe)})}_subscribe(Se){var nt;return null===(nt=this.source)||void 0===nt?void 0:nt.subscribe(Se)}[P.L](){return this}pipe(...Se){return(0,re.U)(Se)(this)}toPromise(Se){return new(Se=we(Se))((nt,Pe)=>{let Xe;this.subscribe(Fe=>Xe=Fe,Fe=>Pe(Fe),()=>nt(Xe))})}}return ae.create=Ve=>new ae(Ve),ae})();function we(ae){var Ve;return null!==(Ve=ae??ue.config.Promise)&&void 0!==Ve?Ve:Promise}},7579:(vt,Te,U)=>{U.d(Te,{x:()=>xe});var r=U(9751),j=U(727);const re=(0,U(3888).d)(we=>function(){we(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=U(8737),he=U(2806);let xe=(()=>{class we extends r.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const ae=new ke(this,this);return ae.operator=W,ae}_throwIfClosed(){if(this.closed)throw new re}next(W){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ae of this.currentObservers)ae.next(W)}})}error(W){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:ae}=this;for(;ae.length;)ae.shift().error(W)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:ae,isStopped:Ve,observers:Se}=this;return ae||Ve?j.Lc:(this.currentObservers=null,Se.push(W),new j.w0(()=>{this.currentObservers=null,(0,ue.P)(Se,W)}))}_checkFinalizedStatuses(W){const{hasError:ae,thrownError:Ve,isStopped:Se}=this;ae?W.error(Ve):Se&&W.complete()}asObservable(){const W=new r.y;return W.source=this,W}}return we.create=(G,W)=>new ke(G,W),we})();class ke extends xe{constructor(G,W){super(),this.destination=G,this.source=W}next(G){var W,ae;null===(ae=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===ae||ae.call(W,G)}error(G){var W,ae;null===(ae=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===ae||ae.call(W,G)}complete(){var G,W;null===(W=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===W||W.call(G)}_subscribe(G){var W,ae;return null!==(ae=null===(W=this.source)||void 0===W?void 0:W.subscribe(G))&&void 0!==ae?ae:j.Lc}}},930:(vt,Te,U)=>{U.d(Te,{Hp:()=>Pe,Lv:()=>ae});var r=U(576),j=U(727),P=U(2416),re=U(7849),ue=U(5032);const he=we("C",void 0,void 0);function we(se,De,ce){return{kind:se,value:De,error:ce}}var G=U(3410),W=U(2806);class ae extends j.w0{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,j.Nn)(De)&&De.add(this)):this.destination=mt}static create(De,ce,ye){return new Pe(De,ce,ye)}next(De){this.isStopped?Ct(function ke(se){return we("N",se,void 0)}(De),this):this._next(De)}error(De){this.isStopped?Ct(function xe(se){return we("E",void 0,se)}(De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?Ct(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function Se(se,De){return Ve.call(se,De)}class nt{constructor(De){this.partialObserver=De}next(De){const{partialObserver:ce}=this;if(ce.next)try{ce.next(De)}catch(ye){Xe(ye)}}error(De){const{partialObserver:ce}=this;if(ce.error)try{ce.error(De)}catch(ye){Xe(ye)}else Xe(De)}complete(){const{partialObserver:De}=this;if(De.complete)try{De.complete()}catch(ce){Xe(ce)}}}class Pe extends ae{constructor(De,ce,ye){let Ne;if(super(),(0,r.m)(De)||!De)Ne={next:De??void 0,error:ce??void 0,complete:ye??void 0};else{let oe;this&&P.config.useDeprecatedNextContext?(oe=Object.create(De),oe.unsubscribe=()=>this.unsubscribe(),Ne={next:De.next&&Se(De.next,oe),error:De.error&&Se(De.error,oe),complete:De.complete&&Se(De.complete,oe)}):Ne=De}this.destination=new nt(Ne)}}function Xe(se){P.config.useDeprecatedSynchronousErrorHandling?(0,W.O)(se):(0,re.h)(se)}function Ct(se,De){const{onStoppedNotification:ce}=P.config;ce&&G.z.setTimeout(()=>ce(se,De))}const mt={closed:!0,next:ue.Z,error:function Fe(se){throw se},complete:ue.Z}},727:(vt,Te,U)=>{U.d(Te,{Lc:()=>he,w0:()=>ue,Nn:()=>xe});var r=U(576);const P=(0,U(3888).d)(we=>function(W){we(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((ae,Ve)=>`${Ve+1}) ${ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var re=U(8737);class ue{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const Se of W)Se.remove(this);else W.remove(this);const{initialTeardown:ae}=this;if((0,r.m)(ae))try{ae()}catch(Se){G=Se instanceof P?Se.errors:[Se]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const Se of Ve)try{ke(Se)}catch(nt){G=G??[],nt instanceof P?G=[...G,...nt.errors]:G.push(nt)}}if(G)throw new P(G)}}add(G){var W;if(G&&G!==this)if(this.closed)ke(G);else{if(G instanceof ue){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(W=this._finalizers)&&void 0!==W?W:[]).push(G)}}_hasParent(G){const{_parentage:W}=this;return W===G||Array.isArray(W)&&W.includes(G)}_addParent(G){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(G),W):W?[W,G]:G}_removeParent(G){const{_parentage:W}=this;W===G?this._parentage=null:Array.isArray(W)&&(0,re.P)(W,G)}remove(G){const{_finalizers:W}=this;W&&(0,re.P)(W,G),G instanceof ue&&G._removeParent(this)}}ue.EMPTY=(()=>{const we=new ue;return we.closed=!0,we})();const he=ue.EMPTY;function xe(we){return we instanceof ue||we&&"closed"in we&&(0,r.m)(we.remove)&&(0,r.m)(we.add)&&(0,r.m)(we.unsubscribe)}function ke(we){(0,r.m)(we)?we():we.unsubscribe()}},2416:(vt,Te,U)=>{U.d(Te,{config:()=>r});const r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(vt,Te,U)=>{U.d(Te,{E:()=>j});const j=new(U(9751).y)(ue=>ue.complete())},8996:(vt,Te,U)=>{U.d(Te,{D:()=>De});var r=U(8421),j=U(5363),P=U(9468),he=U(9751),ke=U(2202),we=U(576),G=U(9672);function ae(ce,ye){if(!ce)throw new Error("Iterable cannot be null");return new he.y(Ne=>{(0,G.f)(Ne,ye,()=>{const oe=ce[Symbol.asyncIterator]();(0,G.f)(Ne,ye,()=>{oe.next().then(rt=>{rt.done?Ne.complete():Ne.next(rt.value)})},0,!0)})})}var Ve=U(3670),Se=U(8239),nt=U(1144),Pe=U(6495),Xe=U(2206),Fe=U(4532),Ct=U(3260);function De(ce,ye){return ye?function se(ce,ye){if(null!=ce){if((0,Ve.c)(ce))return function re(ce,ye){return(0,r.Xf)(ce).pipe((0,P.R)(ye),(0,j.Q)(ye))}(ce,ye);if((0,nt.z)(ce))return function xe(ce,ye){return new he.y(Ne=>{let oe=0;return ye.schedule(function(){oe===ce.length?Ne.complete():(Ne.next(ce[oe++]),Ne.closed||this.schedule())})})}(ce,ye);if((0,Se.t)(ce))return function ue(ce,ye){return(0,r.Xf)(ce).pipe((0,P.R)(ye),(0,j.Q)(ye))}(ce,ye);if((0,Xe.D)(ce))return ae(ce,ye);if((0,Pe.T)(ce))return function W(ce,ye){return new he.y(Ne=>{let oe;return(0,G.f)(Ne,ye,()=>{oe=ce[ke.h](),(0,G.f)(Ne,ye,()=>{let rt,$e;try{({value:rt,done:$e}=oe.next())}catch(ln){return void Ne.error(ln)}$e?Ne.complete():Ne.next(rt)},0,!0)}),()=>(0,we.m)(oe?.return)&&oe.return()})}(ce,ye);if((0,Ct.L)(ce))return function mt(ce,ye){return ae((0,Ct.Q)(ce),ye)}(ce,ye)}throw(0,Fe.z)(ce)}(ce,ye):(0,r.Xf)(ce)}},8421:(vt,Te,U)=>{U.d(Te,{Xf:()=>Ve});var r=U(7582),j=U(1144),P=U(8239),re=U(9751),ue=U(3670),he=U(2206),xe=U(4532),ke=U(6495),we=U(3260),G=U(576),W=U(7849),ae=U(8822);function Ve(se){if(se instanceof re.y)return se;if(null!=se){if((0,ue.c)(se))return function Se(se){return new re.y(De=>{const ce=se[ae.L]();if((0,G.m)(ce.subscribe))return ce.subscribe(De);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(se);if((0,j.z)(se))return function nt(se){return new re.y(De=>{for(let ce=0;ce<se.length&&!De.closed;ce++)De.next(se[ce]);De.complete()})}(se);if((0,P.t)(se))return function Pe(se){return new re.y(De=>{se.then(ce=>{De.closed||(De.next(ce),De.complete())},ce=>De.error(ce)).then(null,W.h)})}(se);if((0,he.D)(se))return Fe(se);if((0,ke.T)(se))return function Xe(se){return new re.y(De=>{for(const ce of se)if(De.next(ce),De.closed)return;De.complete()})}(se);if((0,we.L)(se))return function Ct(se){return Fe((0,we.Q)(se))}(se)}throw(0,xe.z)(se)}function Fe(se){return new re.y(De=>{(function mt(se,De){var ce,ye,Ne,oe;return(0,r.mG)(this,void 0,void 0,function*(){try{for(ce=(0,r.KL)(se);!(ye=yield ce.next()).done;)if(De.next(ye.value),De.closed)return}catch(rt){Ne={error:rt}}finally{try{ye&&!ye.done&&(oe=ce.return)&&(yield oe.call(ce))}finally{if(Ne)throw Ne.error}}De.complete()})})(se,De).catch(ce=>De.error(ce))})}},6451:(vt,Te,U)=>{U.d(Te,{T:()=>he});var r=U(8189),j=U(8421),P=U(515),re=U(3269),ue=U(8996);function he(...xe){const ke=(0,re.yG)(xe),we=(0,re._6)(xe,1/0),G=xe;return G.length?1===G.length?(0,j.Xf)(G[0]):(0,r.J)(we)((0,ue.D)(G,ke)):P.E}},9646:(vt,Te,U)=>{U.d(Te,{of:()=>P});var r=U(3269),j=U(8996);function P(...re){const ue=(0,r.yG)(re);return(0,j.D)(re,ue)}},5403:(vt,Te,U)=>{U.d(Te,{x:()=>j});var r=U(930);function j(re,ue,he,xe,ke){return new P(re,ue,he,xe,ke)}class P extends r.Lv{constructor(ue,he,xe,ke,we,G){super(ue),this.onFinalize=we,this.shouldUnsubscribe=G,this._next=he?function(W){try{he(W)}catch(ae){ue.error(ae)}}:super._next,this._error=ke?function(W){try{ke(W)}catch(ae){ue.error(ae)}finally{this.unsubscribe()}}:super._error,this._complete=xe?function(){try{xe()}catch(W){ue.error(W)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},1884:(vt,Te,U)=>{U.d(Te,{x:()=>re});var r=U(4671),j=U(4482),P=U(5403);function re(he,xe=r.y){return he=he??ue,(0,j.e)((ke,we)=>{let G,W=!0;ke.subscribe((0,P.x)(we,ae=>{const Ve=xe(ae);(W||!he(G,Ve))&&(W=!1,G=Ve,we.next(ae))}))})}function ue(he,xe){return he===xe}},4004:(vt,Te,U)=>{U.d(Te,{U:()=>P});var r=U(4482),j=U(5403);function P(re,ue){return(0,r.e)((he,xe)=>{let ke=0;he.subscribe((0,j.x)(xe,we=>{xe.next(re.call(ue,we,ke++))}))})}},8189:(vt,Te,U)=>{U.d(Te,{J:()=>P});var r=U(5577),j=U(4671);function P(re=1/0){return(0,r.z)(j.y,re)}},5577:(vt,Te,U)=>{U.d(Te,{z:()=>ke});var r=U(4004),j=U(8421),P=U(4482),re=U(9672),ue=U(5403),xe=U(576);function ke(we,G,W=1/0){return(0,xe.m)(G)?ke((ae,Ve)=>(0,r.U)((Se,nt)=>G(ae,Se,Ve,nt))((0,j.Xf)(we(ae,Ve))),W):("number"==typeof G&&(W=G),(0,P.e)((ae,Ve)=>function he(we,G,W,ae,Ve,Se,nt,Pe){const Xe=[];let Fe=0,Ct=0,mt=!1;const se=()=>{mt&&!Xe.length&&!Fe&&G.complete()},De=ye=>Fe<ae?ce(ye):Xe.push(ye),ce=ye=>{Se&&G.next(ye),Fe++;let Ne=!1;(0,j.Xf)(W(ye,Ct++)).subscribe((0,ue.x)(G,oe=>{Ve?.(oe),Se?De(oe):G.next(oe)},()=>{Ne=!0},void 0,()=>{if(Ne)try{for(Fe--;Xe.length&&Fe<ae;){const oe=Xe.shift();nt?(0,re.f)(G,nt,()=>ce(oe)):ce(oe)}se()}catch(oe){G.error(oe)}}))};return we.subscribe((0,ue.x)(G,De,()=>{mt=!0,se()})),()=>{Pe?.()}}(ae,Ve,we,W)))}},5363:(vt,Te,U)=>{U.d(Te,{Q:()=>re});var r=U(9672),j=U(4482),P=U(5403);function re(ue,he=0){return(0,j.e)((xe,ke)=>{xe.subscribe((0,P.x)(ke,we=>(0,r.f)(ke,ue,()=>ke.next(we),he),()=>(0,r.f)(ke,ue,()=>ke.complete(),he),we=>(0,r.f)(ke,ue,()=>ke.error(we),he)))})}},3099:(vt,Te,U)=>{U.d(Te,{B:()=>ue});var r=U(8421),j=U(7579),P=U(930),re=U(4482);function ue(xe={}){const{connector:ke=(()=>new j.x),resetOnError:we=!0,resetOnComplete:G=!0,resetOnRefCountZero:W=!0}=xe;return ae=>{let Ve,Se,nt,Pe=0,Xe=!1,Fe=!1;const Ct=()=>{Se?.unsubscribe(),Se=void 0},mt=()=>{Ct(),Ve=nt=void 0,Xe=Fe=!1},se=()=>{const De=Ve;mt(),De?.unsubscribe()};return(0,re.e)((De,ce)=>{Pe++,!Fe&&!Xe&&Ct();const ye=nt=nt??ke();ce.add(()=>{Pe--,0===Pe&&!Fe&&!Xe&&(Se=he(se,W))}),ye.subscribe(ce),!Ve&&Pe>0&&(Ve=new P.Hp({next:Ne=>ye.next(Ne),error:Ne=>{Fe=!0,Ct(),Se=he(mt,we,Ne),ye.error(Ne)},complete:()=>{Xe=!0,Ct(),Se=he(mt,G),ye.complete()}}),(0,r.Xf)(De).subscribe(Ve))})(ae)}}function he(xe,ke,...we){if(!0===ke)return void xe();if(!1===ke)return;const G=new P.Hp({next:()=>{G.unsubscribe(),xe()}});return(0,r.Xf)(ke(...we)).subscribe(G)}},9468:(vt,Te,U)=>{U.d(Te,{R:()=>j});var r=U(4482);function j(P,re=0){return(0,r.e)((ue,he)=>{he.add(P.schedule(()=>ue.subscribe(he),re))})}},8505:(vt,Te,U)=>{U.d(Te,{b:()=>ue});var r=U(576),j=U(4482),P=U(5403),re=U(4671);function ue(he,xe,ke){const we=(0,r.m)(he)||xe||ke?{next:he,error:xe,complete:ke}:he;return we?(0,j.e)((G,W)=>{var ae;null===(ae=we.subscribe)||void 0===ae||ae.call(we);let Ve=!0;G.subscribe((0,P.x)(W,Se=>{var nt;null===(nt=we.next)||void 0===nt||nt.call(we,Se),W.next(Se)},()=>{var Se;Ve=!1,null===(Se=we.complete)||void 0===Se||Se.call(we),W.complete()},Se=>{var nt;Ve=!1,null===(nt=we.error)||void 0===nt||nt.call(we,Se),W.error(Se)},()=>{var Se,nt;Ve&&(null===(Se=we.unsubscribe)||void 0===Se||Se.call(we)),null===(nt=we.finalize)||void 0===nt||nt.call(we)}))}):re.y}},4408:(vt,Te,U)=>{U.d(Te,{o:()=>ue});var r=U(727);class j extends r.w0{constructor(xe,ke){super()}schedule(xe,ke=0){return this}}const P={setInterval(he,xe,...ke){const{delegate:we}=P;return we?.setInterval?we.setInterval(he,xe,...ke):setInterval(he,xe,...ke)},clearInterval(he){const{delegate:xe}=P;return(xe?.clearInterval||clearInterval)(he)},delegate:void 0};var re=U(8737);class ue extends j{constructor(xe,ke){super(xe,ke),this.scheduler=xe,this.work=ke,this.pending=!1}schedule(xe,ke=0){var we;if(this.closed)return this;this.state=xe;const G=this.id,W=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId(W,G,ke)),this.pending=!0,this.delay=ke,this.id=null!==(we=this.id)&&void 0!==we?we:this.requestAsyncId(W,this.id,ke),this}requestAsyncId(xe,ke,we=0){return P.setInterval(xe.flush.bind(xe,this),we)}recycleAsyncId(xe,ke,we=0){if(null!=we&&this.delay===we&&!1===this.pending)return ke;null!=ke&&P.clearInterval(ke)}execute(xe,ke){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const we=this._execute(xe,ke);if(we)return we;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(xe,ke){let G,we=!1;try{this.work(xe)}catch(W){we=!0,G=W||new Error("Scheduled action threw falsy error")}if(we)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:xe,scheduler:ke}=this,{actions:we}=ke;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(we,this),null!=xe&&(this.id=this.recycleAsyncId(ke,xe,null)),this.delay=null,super.unsubscribe()}}}},7565:(vt,Te,U)=>{U.d(Te,{v:()=>P});var r=U(6063);class j{constructor(ue,he=j.now){this.schedulerActionCtor=ue,this.now=he}schedule(ue,he=0,xe){return new this.schedulerActionCtor(this,ue).schedule(xe,he)}}j.now=r.l.now;class P extends j{constructor(ue,he=j.now){super(ue,he),this.actions=[],this._active=!1}flush(ue){const{actions:he}=this;if(this._active)return void he.push(ue);let xe;this._active=!0;do{if(xe=ue.execute(ue.state,ue.delay))break}while(ue=he.shift());if(this._active=!1,xe){for(;ue=he.shift();)ue.unsubscribe();throw xe}}}},4986:(vt,Te,U)=>{U.d(Te,{P:()=>re,z:()=>P});var r=U(4408);const P=new(U(7565).v)(r.o),re=P},6063:(vt,Te,U)=>{U.d(Te,{l:()=>r});const r={now:()=>(r.delegate||Date).now(),delegate:void 0}},3410:(vt,Te,U)=>{U.d(Te,{z:()=>r});const r={setTimeout(j,P,...re){const{delegate:ue}=r;return ue?.setTimeout?ue.setTimeout(j,P,...re):setTimeout(j,P,...re)},clearTimeout(j){const{delegate:P}=r;return(P?.clearTimeout||clearTimeout)(j)},delegate:void 0}},2202:(vt,Te,U)=>{U.d(Te,{h:()=>j});const j=function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(vt,Te,U)=>{U.d(Te,{L:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(vt,Te,U)=>{U.d(Te,{_6:()=>he,jO:()=>re,yG:()=>ue});var r=U(576),j=U(3532);function P(xe){return xe[xe.length-1]}function re(xe){return(0,r.m)(P(xe))?xe.pop():void 0}function ue(xe){return(0,j.K)(P(xe))?xe.pop():void 0}function he(xe,ke){return"number"==typeof P(xe)?xe.pop():ke}},8737:(vt,Te,U)=>{function r(j,P){if(j){const re=j.indexOf(P);0<=re&&j.splice(re,1)}}U.d(Te,{P:()=>r})},3888:(vt,Te,U)=>{function r(j){const re=j(ue=>{Error.call(ue),ue.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}U.d(Te,{d:()=>r})},2806:(vt,Te,U)=>{U.d(Te,{O:()=>re,x:()=>P});var r=U(2416);let j=null;function P(ue){if(r.config.useDeprecatedSynchronousErrorHandling){const he=!j;if(he&&(j={errorThrown:!1,error:null}),ue(),he){const{errorThrown:xe,error:ke}=j;if(j=null,xe)throw ke}}else ue()}function re(ue){r.config.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=ue)}},9672:(vt,Te,U)=>{function r(j,P,re,ue=0,he=!1){const xe=P.schedule(function(){re(),he?j.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(j.add(xe),!he)return xe}U.d(Te,{f:()=>r})},4671:(vt,Te,U)=>{function r(j){return j}U.d(Te,{y:()=>r})},1144:(vt,Te,U)=>{U.d(Te,{z:()=>r});const r=j=>j&&"number"==typeof j.length&&"function"!=typeof j},2206:(vt,Te,U)=>{U.d(Te,{D:()=>j});var r=U(576);function j(P){return Symbol.asyncIterator&&(0,r.m)(P?.[Symbol.asyncIterator])}},576:(vt,Te,U)=>{function r(j){return"function"==typeof j}U.d(Te,{m:()=>r})},3670:(vt,Te,U)=>{U.d(Te,{c:()=>P});var r=U(8822),j=U(576);function P(re){return(0,j.m)(re[r.L])}},6495:(vt,Te,U)=>{U.d(Te,{T:()=>P});var r=U(2202),j=U(576);function P(re){return(0,j.m)(re?.[r.h])}},8239:(vt,Te,U)=>{U.d(Te,{t:()=>j});var r=U(576);function j(P){return(0,r.m)(P?.then)}},3260:(vt,Te,U)=>{U.d(Te,{L:()=>re,Q:()=>P});var r=U(7582),j=U(576);function P(ue){return(0,r.FC)(this,arguments,function*(){const xe=ue.getReader();try{for(;;){const{value:ke,done:we}=yield(0,r.qq)(xe.read());if(we)return yield(0,r.qq)(void 0);yield yield(0,r.qq)(ke)}}finally{xe.releaseLock()}})}function re(ue){return(0,j.m)(ue?.getReader)}},3532:(vt,Te,U)=>{U.d(Te,{K:()=>j});var r=U(576);function j(P){return P&&(0,r.m)(P.schedule)}},4482:(vt,Te,U)=>{U.d(Te,{A:()=>j,e:()=>P});var r=U(576);function j(re){return(0,r.m)(re?.lift)}function P(re){return ue=>{if(j(ue))return ue.lift(function(he){try{return re(he,this)}catch(xe){this.error(xe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(vt,Te,U)=>{function r(){}U.d(Te,{Z:()=>r})},9635:(vt,Te,U)=>{U.d(Te,{U:()=>P,z:()=>j});var r=U(4671);function j(...re){return P(re)}function P(re){return 0===re.length?r.y:1===re.length?re[0]:function(he){return re.reduce((xe,ke)=>ke(xe),he)}}},7849:(vt,Te,U)=>{U.d(Te,{h:()=>P});var r=U(2416),j=U(3410);function P(re){j.z.setTimeout(()=>{const{onUnhandledError:ue}=r.config;if(!ue)throw re;ue(re)})}},4532:(vt,Te,U)=>{function r(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(Te,{z:()=>r})},2223:(vt,Te,U)=>{U.d(Te,{$8M:()=>bc,$WT:()=>Es,$Z:()=>ch,AFp:()=>cE,AaK:()=>ae,AsE:()=>qy,BQk:()=>gh,CHM:()=>Od,CRH:()=>Fp,D6c:()=>wP,DdM:()=>yO,EJc:()=>px,EpF:()=>eT,F$t:()=>My,F4k:()=>tT,FYo:()=>ag,FiY:()=>si,Gf:()=>gb,GfV:()=>_E,GkF:()=>Jw,Gpc:()=>nt,Gre:()=>DT,HDt:()=>Eb,Hsn:()=>Mg,Ikx:()=>_C,JOm:()=>Ic,KtG:()=>sc,LFG:()=>$n,LSH:()=>wv,Lbi:()=>kv,Lck:()=>lO,MAs:()=>Kw,MMx:()=>uO,NdJ:()=>Xw,O4$:()=>mu,Ojb:()=>pk,OlP:()=>Nn,Oqu:()=>fC,P3R:()=>Cv,PXZ:()=>WO,Q6J:()=>Qw,QGY:()=>Sy,QbO:()=>uE,Qsj:()=>Na,R0b:()=>kr,RDi:()=>de,Rgc:()=>Np,SBq:()=>tp,Sil:()=>HO,Suo:()=>Xt,TTD:()=>yl,TgZ:()=>Ey,Tol:()=>dC,Udp:()=>Vy,VKq:()=>bO,W1O:()=>ex,WFA:()=>eC,WLB:()=>sA,X6Q:()=>Ib,XFs:()=>et,Xpm:()=>Ds,Xts:()=>Kf,Y36:()=>Oc,YKP:()=>eA,YNc:()=>Vs,Yjl:()=>Pm,Yz7:()=>cn,Z0I:()=>ti,ZZ4:()=>n_,_Bn:()=>tb,_UZ:()=>Ay,_Vd:()=>tn,_c5:()=>dP,_uU:()=>_T,aQg:()=>Px,c2e:()=>fx,cJS:()=>mi,cg1:()=>yC,d8E:()=>vC,dDg:()=>ZA,dqk:()=>Jt,eFA:()=>Ex,eJc:()=>nx,ekj:()=>Zy,eoX:()=>Tb,f3M:()=>on,g9A:()=>Mv,h0i:()=>Op,hGG:()=>hP,hij:()=>Tp,iGM:()=>wA,ifc:()=>Dt,ip1:()=>NA,jDz:()=>hO,kEZ:()=>wO,kL8:()=>kT,kcU:()=>Ef,lG2:()=>sl,lqb:()=>ih,lri:()=>VA,n5z:()=>yc,n_E:()=>hb,oAB:()=>Yl,oxw:()=>Vc,q4F:()=>Vv,qFp:()=>DP,qLn:()=>Fa,qOj:()=>dy,qZA:()=>Ty,rWj:()=>Qg,rg0:()=>su,s9C:()=>iC,sBO:()=>tP,s_b:()=>Bg,soG:()=>js,tb:()=>Hp,tp0:()=>Os,uIk:()=>py,vHH:()=>se,vpe:()=>Ha,wAp:()=>Tt,xp6:()=>$v,ynx:()=>Cp,z2F:()=>zp,zSh:()=>fw,zs3:()=>Nu});var r=U(7579),j=U(727),P=U(1135),re=U(9751),ue=U(6451),he=U(9646),xe=U(3099),ke=U(5577),we=U(1884);function G(a){for(let l in a)if(a[l]===G)return l;throw Error("Could not find renamed property on target object.")}function W(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function ae(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(ae).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function Ve(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const Se=G({__forward_ref__:G});function nt(a){return a.__forward_ref__=nt,a.toString=function(){return ae(this())},a}function Pe(a){return Xe(a)?a():a}function Xe(a){return"function"==typeof a&&a.hasOwnProperty(Se)&&a.__forward_ref__===nt}function Fe(a){return a&&!!a.\u0275providers}const mt="https://g.co/ng/security#xss";class se extends Error{constructor(l,u){super(function De(a,l){return`NG0${Math.abs(a)}${l?": "+l:""}`}(l,u)),this.code=l}}function ce(a){return"string"==typeof a?a:null==a?"":String(a)}function $e(a,l){throw new se(-201,!1)}function st(a,l){null==a&&function bt(a,l,u,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${u} ${h} ${l} <=Actual]`))}(l,a,null,"!=")}function cn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function mi(a){return{providers:a.providers||[],imports:a.imports||[]}}function ui(a){return Qr(a,Yi)||Qr(a,Cr)}function ti(a){return null!==ui(a)}function Qr(a,l){return a.hasOwnProperty(l)?a[l]:null}function po(a){return a&&(a.hasOwnProperty(ni)||a.hasOwnProperty(Ko))?a[ni]:null}const Yi=G({\u0275prov:G}),ni=G({\u0275inj:G}),Cr=G({ngInjectableDef:G}),Ko=G({ngInjectorDef:G});var et=(()=>((et=et||{})[et.Default=0]="Default",et[et.Host=1]="Host",et[et.Self=2]="Self",et[et.SkipSelf=4]="SkipSelf",et[et.Optional=8]="Optional",et))();let gt;function rn(a){const l=gt;return gt=a,l}function gi(a,l,u){const h=ui(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&et.Optional?null:void 0!==l?l:void $e(ae(a))}const Jt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),lr={},Bt="__NG_DI_FLAG__",jn="ngTempTokenPath",Qo=/\n/gm,ii="__source";let Ln;function zn(a){const l=Ln;return Ln=a,l}function _i(a,l=et.Default){if(void 0===Ln)throw new se(-203,!1);return null===Ln?gi(a,void 0,l):Ln.get(a,l&et.Optional?null:void 0,l)}function $n(a,l=et.Default){return(function xt(){return gt}()||_i)(Pe(a),l)}function on(a,l=et.Default){return $n(a,Y(l))}function Y(a){return typeof a>"u"||"number"==typeof a?a:0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function z(a){const l=[];for(let u=0;u<a.length;u++){const h=Pe(a[u]);if(Array.isArray(h)){if(0===h.length)throw new se(900,!1);let f,m=et.Default;for(let y=0;y<h.length;y++){const C=h[y],T=Z(C);"number"==typeof T?-1===T?f=C.token:m|=T:f=C}l.push($n(f,m))}else l.push($n(h))}return l}function L(a,l){return a[Bt]=l,a.prototype[Bt]=l,a}function Z(a){return a[Bt]}function be(a){return{toString:a}.toString()}var We=(()=>((We=We||{})[We.OnPush=0]="OnPush",We[We.Default=1]="Default",We))(),Dt=(()=>{return(a=Dt||(Dt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Dt;var a})();const Et={},_t=[],Ft=G({\u0275cmp:G}),Mn=G({\u0275dir:G}),jt=G({\u0275pipe:G}),Fi=G({\u0275mod:G}),Ki=G({\u0275fac:G}),_e=G({__NG_ELEMENT_ID__:G}),le=G({__NG_ENV_ID__:G});function Ue(a,l,u){let h=a.length;for(;;){const f=a.indexOf(l,u);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const m=l.length;if(f+m===h||a.charCodeAt(f+m)<=32)return f}u=f+1}}function yt(a,l,u){let h=0;for(;h<u.length;){const f=u[h];if("number"==typeof f){if(0!==f)break;h++;const m=u[h++],y=u[h++],C=u[h++];a.setAttribute(l,y,C,m)}else{const m=f,y=u[++h];Yt(m)?a.setProperty(l,m,y):a.setAttribute(l,m,y),h++}}return h}function Ut(a){return 3===a||4===a||6===a}function Yt(a){return 64===a.charCodeAt(0)}function pn(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let h=0;h<l.length;h++){const f=l[h];"number"==typeof f?u=f:0===u||Li(a,u,f,null,-1===u||2===u?l[++h]:null)}}return a}function Li(a,l,u,h,f){let m=0,y=a.length;if(-1===l)y=-1;else for(;m<a.length;){const C=a[m++];if("number"==typeof C){if(C===l){y=-1;break}if(C>l){y=m-1;break}}}for(;m<a.length;){const C=a[m];if("number"==typeof C)break;if(C===u){if(null===h)return void(null!==f&&(a[m+1]=f));if(h===a[m+1])return void(a[m+2]=f)}m++,null!==h&&m++,null!==f&&m++}-1!==y&&(a.splice(y,0,l),m=y+1),a.splice(m++,0,u),null!==h&&a.splice(m++,0,h),null!==f&&a.splice(m++,0,f)}const ri="ng-template";function Xs(a,l,u){let h=0,f=!0;for(;h<a.length;){let m=a[h++];if("string"==typeof m&&f){const y=a[h++];if(u&&"class"===m&&-1!==Ue(y.toLowerCase(),l,0))return!0}else{if(1===m){for(;h<a.length&&"string"==typeof(m=a[h++]);)if(m.toLowerCase()===l)return!0;return!1}"number"==typeof m&&(f=!1)}}return!1}function rl(a){return 4===a.type&&a.value!==ri}function $l(a,l,u){return l===(4!==a.type||u?a.value:ri)}function Qh(a,l,u){let h=4;const f=a.attrs||[],m=function cr(a){for(let l=0;l<a.length;l++)if(Ut(a[l]))return l;return a.length}(f);let y=!1;for(let C=0;C<l.length;C++){const T=l[C];if("number"!=typeof T){if(!y)if(4&h){if(h=2|1&h,""!==T&&!$l(a,T,u)||""===T&&1===l.length){if(Gn(h))return!1;y=!0}}else{const I=8&h?T:l[++C];if(8&h&&null!==a.attrs){if(!Xs(a.attrs,I,u)){if(Gn(h))return!1;y=!0}continue}const H=ea(8&h?"class":T,f,rl(a),u);if(-1===H){if(Gn(h))return!1;y=!0;continue}if(""!==I){let J;J=H>m?"":f[H+1].toLowerCase();const te=8&h?J:null;if(te&&-1!==Ue(te,I,0)||2&h&&I!==J){if(Gn(h))return!1;y=!0}}}}else{if(!y&&!Gn(h)&&!Gn(T))return!1;if(y&&Gn(T))continue;y=!1,h=T|1&h}}return Gn(h)||y}function Gn(a){return 0==(1&a)}function ea(a,l,u,h){if(null===l)return-1;let f=0;if(h||!u){let m=!1;for(;f<l.length;){const y=l[f];if(y===a)return f;if(3===y||6===y)m=!0;else{if(1===y||2===y){let C=l[++f];for(;"string"==typeof C;)C=l[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=m?1:2}return-1}return function fi(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const h=a[u];if("number"==typeof h)return-1;if(h===l)return u;u++}return-1}(l,a)}function xa(a,l,u=!1){for(let h=0;h<l.length;h++)if(Qh(a,l[h],u))return!0;return!1}function z_(a,l){e:for(let u=0;u<l.length;u++){const h=l[u];if(a.length===h.length){for(let f=0;f<a.length;f++)if(a[f]!==h[f])continue e;return!0}}return!1}function Un(a,l){return a?":not("+l.trim()+")":l}function $_(a){let l=a[0],u=1,h=2,f="",m=!1;for(;u<a.length;){let y=a[u];if("string"==typeof y)if(2&h){const C=a[++u];f+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&h?f+="."+y:4&h&&(f+=" "+y);else""!==f&&!Gn(y)&&(l+=Un(m,f),f=""),h=y,m=m||!Gn(h);u++}return""!==f&&(l+=Un(m,f)),l}function Ds(a){return be(()=>{const l=ef(a),u={...l,decls:a.decls,vars:a.vars,template:a.template,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,onPush:a.changeDetection===We.OnPush,directiveDefs:null,pipeDefs:null,dependencies:l.standalone&&a.dependencies||null,getStandaloneInjector:null,data:a.data||{},encapsulation:a.encapsulation||Dt.Emulated,styles:a.styles||_t,_:null,schemas:a.schemas||null,tView:null,id:""};Kl(u);const h=a.dependencies;return u.directiveDefs=al(h,!1),u.pipeDefs=al(h,!0),u.id=function tf(a){let l=0;const u=[a.selectors,a.ngContentSelectors,a.hostVars,a.hostAttrs,a.consts,a.vars,a.decls,a.encapsulation,a.standalone,a.exportAs,JSON.stringify(a.inputs),JSON.stringify(a.outputs),Object.getOwnPropertyNames(a.type.prototype),!!a.contentQueries,!!a.viewQuery].join("|");for(const f of u)l=Math.imul(31,l)+f.charCodeAt(0)<<0;return l+=2147483648,"c"+l}(u),u})}function Xh(a){return zt(a)||Ui(a)}function Gl(a){return null!==a}function Yl(a){return be(()=>({type:a.type,bootstrap:a.bootstrap||_t,declarations:a.declarations||_t,imports:a.imports||_t,exports:a.exports||_t,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function Wl(a,l){if(null==a)return Et;const u={};for(const h in a)if(a.hasOwnProperty(h)){let f=a[h],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),u[f]=h,l&&(l[f]=m)}return u}function sl(a){return be(()=>{const l=ef(a);return Kl(l),l})}function Pm(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function zt(a){return a[Ft]||null}function Ui(a){return a[Mn]||null}function An(a){return a[jt]||null}function Es(a){const l=zt(a)||Ui(a)||An(a);return null!==l&&l.standalone}function Dr(a,l){const u=a[Fi]||null;if(!u&&!0===l)throw new Error(`Type ${ae(a)} does not have '\u0275mod' property.`);return u}function ef(a){const l={};return{type:a.type,providersResolver:null,factory:null,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:l,exportAs:a.exportAs||null,standalone:!0===a.standalone,selectors:a.selectors||_t,viewQuery:a.viewQuery||null,features:a.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Wl(a.inputs,l),outputs:Wl(a.outputs)}}function Kl(a){a.features?.forEach(l=>l(a))}function al(a,l){if(!a)return null;const u=l?An:Xh;return()=>("function"==typeof a?a():a).map(h=>u(h)).filter(Gl)}const pi=0,ot=1,qt=2,Jn=3,Er=4,ll=5,Qi=6,Ts=7,In=8,Po=9,Da=10,Mt=11,Jl=12,Wc=13,ta=14,Yn=15,Kc=16,Ea=17,Vi=18,cl=19,Qc=20,Ji=21,Tr=22,Jc=23,No=24,gn=25,Jo=1,Ta=2,Jr=7,Aa=8,ul=9,Xi=11;function ur(a){return Array.isArray(a)&&"object"==typeof a[Jo]}function dr(a){return Array.isArray(a)&&!0===a[Jo]}function pd(a){return 0!=(4&a.flags)}function Fo(a){return a.componentOffset>-1}function na(a){return 1==(1&a.flags)}function Vn(a){return!!a.template}function hl(a){return 0!=(512&a[qt])}function pl(a,l){return a.hasOwnProperty(Ki)?a[Ki]:null}let ec=Jt.WeakRef??class cf{constructor(l){this.ref=l}deref(){return this.ref}},uf=0,eo=null,ml=!1;function Zi(a){const l=eo;return eo=a,l}class gl{constructor(){this.id=uf++,this.ref=function tc(a){return new ec(a)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[l,u]of this.producers){const h=u.producerNode.deref();if(void 0!==h&&u.atTrackingVersion===this.trackingVersion){if(h.producerPollStatus(u.seenValueVersion))return!0}else this.producers.delete(l),h?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const l=ml;ml=!0;try{for(const[u,h]of this.consumers){const f=h.consumerNode.deref();void 0!==f&&f.trackingVersion===h.atTrackingVersion?f.onConsumerDependencyMayHaveChanged():(this.consumers.delete(u),f?.producers.delete(this.id))}}finally{ml=l}}producerAccessed(){if(ml)throw new Error("");if(null===eo)return;let l=eo.producers.get(this.id);void 0===l?(l={consumerNode:eo.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:eo.trackingVersion},eo.producers.set(this.id,l),this.consumers.set(eo.id,l)):(l.seenValueVersion=this.valueVersion,l.atTrackingVersion=eo.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==eo?.consumerAllowSignalWrites}producerPollStatus(l){return this.valueVersion!==l||(this.onProducerUpdateValueVersion(),this.valueVersion!==l)}}let wd=null;function su(a){const l=Zi(null);try{return a()}finally{Zi(l)}}const Vm=()=>{};class au extends gl{constructor(l,u,h){super(),this.watch=l,this.schedule=u,this.dirty=!1,this.cleanupFn=Vm,this.registerOnCleanup=f=>{this.cleanupFn=f},this.consumerAllowSignalWrites=h}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const l=Zi(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Vm,this.watch(this.registerOnCleanup)}finally{Zi(l)}}cleanup(){this.cleanupFn()}}class Zm{constructor(l,u,h){this.previousValue=l,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function yl(){return xd}function xd(a){return a.type.prototype.ngOnChanges&&(a.setInput=df),ic}function ic(){const a=hf(this),l=a?.current;if(l){const u=a.previous;if(u===Et)a.previous=l;else for(let h in l)u[h]=l[h];a.current=null,this.ngOnChanges(l)}}function df(a,l,u,h){const f=this.declaredInputs[u],m=hf(a)||function ff(a,l){return a[rc]=l}(a,{previous:Et,current:null}),y=m.current||(m.current={}),C=m.previous,T=C[f];y[f]=new Zm(T&&T.currentValue,l,C===Et),a[h]=l}yl.ngInherit=!0;const rc="__ngSimpleChanges__";function hf(a){return a[rc]||null}const go=function(a,l,u){},Dd="svg";function Cn(a){for(;Array.isArray(a);)a=a[pi];return a}function Ad(a,l){return Cn(l[a])}function Ar(a,l){return Cn(l[a.index])}function Id(a,l){return a.data[l]}function tr(a,l){const u=l[a];return ur(u)?u:u[pi]}function oa(a){return 128==(128&a[qt])}function sa(a,l){return null==l?null:a[l]}function Sd(a){a[Ea]=0}function mf(a){1024&a[qt]||(a[qt]|=1024,du(a,1))}function uu(a){1024&a[qt]&&(a[qt]&=-1025,du(a,-1))}function du(a,l){let u=a[Jn];if(null===u)return;u[ll]+=l;let h=u;for(u=u[Jn];null!==u&&(1===l&&1===h[ll]||-1===l&&0===h[ll]);)u[ll]+=l,h=u,u=u[Jn]}const Rt={lFrame:Cf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function _f(){return Rt.bindingsEnabled}function aa(){return null!==Rt.skipHydrationRootTNode}function Me(){return Rt.lFrame.lView}function un(){return Rt.lFrame.tView}function Od(a){return Rt.lFrame.contextLView=a,a[In]}function sc(a){return Rt.lFrame.contextLView=null,a}function Ii(){let a=fu();for(;null!==a&&64===a.type;)a=a.parent;return a}function fu(){return Rt.lFrame.currentTNode}function As(a,l){const u=Rt.lFrame;u.currentTNode=a,u.isParent=l}function Is(){return Rt.lFrame.isParent}function vf(){Rt.lFrame.isParent=!1}function Lr(){const a=Rt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function la(){return Rt.lFrame.bindingIndex++}function kn(a){const l=Rt.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function Pd(a,l){const u=Rt.lFrame;u.bindingIndex=u.bindingRootIndex=a,Ma(l)}function Ma(a){Rt.lFrame.currentDirectiveIndex=a}function wf(a){const l=Rt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function pu(){return Rt.lFrame.currentQueryIndex}function Nd(a){Rt.lFrame.currentQueryIndex=a}function cc(a){const l=a[ot];return 2===l.type?l.declTNode:1===l.type?a[Qi]:null}function Fd(a,l,u){if(u&et.SkipSelf){let f=l,m=a;for(;!(f=f.parent,null!==f||u&et.Host||(f=cc(m),null===f||(m=m[ta],10&f.type))););if(null===f)return!1;l=f,a=m}const h=Rt.lFrame=ts();return h.currentTNode=l,h.lView=a,!0}function ca(a){const l=ts(),u=a[ot];Rt.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function ts(){const a=Rt.lFrame,l=null===a?null:a.child;return null===l?Cf(a):l}function Cf(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function xf(){const a=Rt.lFrame;return Rt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Ld=xf;function uc(){const a=xf();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Ur(){return Rt.lFrame.selectedIndex}function ka(a){Rt.lFrame.selectedIndex=a}function Wn(){const a=Rt.lFrame;return Id(a.tView,a.selectedIndex)}function mu(){Rt.lFrame.currentNamespace=Dd}function Ef(){!function Tf(){Rt.lFrame.currentNamespace=null}()}let zm=!0;function Vd(){return zm}function ns(a){zm=a}function dc(a,l){for(let u=l.directiveStart,h=l.directiveEnd;u<h;u++){const m=a.data[u].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:C,ngAfterViewInit:T,ngAfterViewChecked:I,ngOnDestroy:R}=m;y&&(a.contentHooks??=[]).push(-u,y),C&&((a.contentHooks??=[]).push(u,C),(a.contentCheckHooks??=[]).push(u,C)),T&&(a.viewHooks??=[]).push(-u,T),I&&((a.viewHooks??=[]).push(u,I),(a.viewCheckHooks??=[]).push(u,I)),null!=R&&(a.destroyHooks??=[]).push(u,R)}}function gu(a,l,u){Zd(a,l,3,u)}function hc(a,l,u,h){(3&a[qt])===u&&Zd(a,l,u,h)}function If(a,l){let u=a[qt];(3&u)===l&&(u&=4095,u+=1,a[qt]=u)}function Zd(a,l,u,h){const m=h??-1,y=l.length-1;let C=0;for(let T=void 0!==h?65535&a[Ea]:0;T<y;T++)if("number"==typeof l[T+1]){if(C=l[T],null!=h&&C>=h)break}else l[T]<0&&(a[Ea]+=65536),(C<m||-1==m)&&(Sf(a,u,l,T),a[Ea]=(4294901760&a[Ea])+T+2),T++}function Bd(a,l){go(4,a,l);const u=Zi(null);try{l.call(a)}finally{Zi(u),go(5,a,l)}}function Sf(a,l,u,h){const f=u[h]<0,m=u[h+1],C=a[f?-u[h]:u[h]];f?a[qt]>>12<a[Ea]>>16&&(3&a[qt])===l&&(a[qt]+=4096,Bd(C,m)):Bd(C,m)}const _n=-1;class Kn{constructor(l,u,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function bn(a){return a!==_n}function Ke(a){return 32767&a}function mc(a,l){let u=function is(a){return a>>16}(a),h=l;for(;u>0;)h=h[ta],u--;return h}let Cl=!0;function rs(a){const l=Cl;return Cl=a,l}const vu=255,nr=5;let Ir=0;const Ss={};function yu(a,l){const u=wu(a,l);if(-1!==u)return u;const h=l[ot];h.firstCreatePass&&(a.injectorIndex=l.length,bu(h.data,a),bu(l,null),bu(h.blueprint,null));const f=qi(a,l),m=a.injectorIndex;if(bn(f)){const y=Ke(f),C=mc(f,l),T=C[ot].data;for(let I=0;I<8;I++)l[m+I]=C[y+I]|T[y+I]}return l[m+8]=f,m}function bu(a,l){a.push(0,0,0,0,0,0,0,0,l)}function wu(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function qi(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,h=null,f=l;for(;null!==f;){if(h=jd(f),null===h)return _n;if(u++,f=f[ta],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return _n}function hr(a,l,u){!function gc(a,l,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(_e)&&(h=u[_e]),null==h&&(h=u[_e]=Ir++);const f=h&vu;l.data[a+(f>>nr)]|=1<<f}(a,l,u)}function ir(a,l,u){if(u&et.Optional||void 0!==a)return a;$e()}function to(a,l,u,h){if(u&et.Optional&&void 0===h&&(h=null),!(u&(et.Self|et.Host))){const f=a[Po],m=rn(void 0);try{return f?f.get(l,h,u&et.Optional):gi(l,h,u&et.Optional)}finally{rn(m)}}return ir(h,0,u)}function Hd(a,l,u,h=et.Default,f){if(null!==a){if(2048&l[qt]&&!(h&et.Self)){const y=function Pf(a,l,u,h,f){let m=a,y=l;for(;null!==m&&null!==y&&2048&y[qt]&&!(512&y[qt]);){const C=_c(m,y,u,h|et.Self,Ss);if(C!==Ss)return C;let T=m.parent;if(!T){const I=y[Qc];if(I){const R=I.get(u,Ss,h);if(R!==Ss)return R}T=jd(y),y=y[ta]}m=T}return f}(a,l,u,h,Ss);if(y!==Ss)return y}const m=_c(a,l,u,h,Ss);if(m!==Ss)return m}return to(l,u,h,f)}function _c(a,l,u,h,f){const m=function Rf(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(_e)?a[_e]:void 0;return"number"==typeof l?l>=0?l&vu:Of:l}(u);if("function"==typeof m){if(!Fd(l,a,h))return h&et.Host?ir(f,0,h):to(l,u,h,f);try{const y=m(h);if(null!=y||h&et.Optional)return y;$e()}finally{Ld()}}else if("number"==typeof m){let y=null,C=wu(a,l),T=_n,I=h&et.Host?l[Yn][Qi]:null;for((-1===C||h&et.SkipSelf)&&(T=-1===C?qi(a,l):l[C+8],T!==_n&&xu(h,!1)?(y=l[ot],C=Ke(T),l=mc(T,l)):C=-1);-1!==C;){const R=l[ot];if(Cu(m,C,R.data)){const H=Ym(C,l,u,y,h,I);if(H!==Ss)return H}T=l[C+8],T!==_n&&xu(h,l[ot].data[C+8]===I)&&Cu(m,C,l)?(y=R,C=Ke(T),l=mc(T,l)):C=-1}}return f}function Ym(a,l,u,h,f,m){const y=l[ot],C=y.data[a+8],R=vc(C,y,u,null==h?Fo(C)&&Cl:h!=y&&0!=(3&C.type),f&et.Host&&m===C);return null!==R?Ms(l,y,R,C):Ss}function vc(a,l,u,h,f){const m=a.providerIndexes,y=l.data,C=1048575&m,T=a.directiveStart,R=m>>20,J=f?C+R:a.directiveEnd;for(let te=h?C:C+R;te<J;te++){const Ee=y[te];if(te<T&&u===Ee||te>=T&&Ee.type===u)return te}if(f){const te=y[T];if(te&&Vn(te)&&te.type===u)return T}return null}function Ms(a,l,u,h){let f=a[u];const m=l.data;if(function qd(a){return a instanceof Kn}(f)){const y=f;y.resolving&&function Ne(a,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new se(-200,`Circular dependency in DI detected for ${a}${u}`)}(function ye(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():ce(a)}(m[u]));const C=rs(y.canSeeViewProviders);y.resolving=!0;const T=y.injectImpl?rn(y.injectImpl):null;Fd(a,h,et.Default);try{f=a[u]=y.factory(void 0,m,a,h),l.firstCreatePass&&u>=h.directiveStart&&function Af(a,l,u){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:m}=l.type.prototype;if(h){const y=xd(l);(u.preOrderHooks??=[]).push(a,y),(u.preOrderCheckHooks??=[]).push(a,y)}f&&(u.preOrderHooks??=[]).push(0-a,f),m&&((u.preOrderHooks??=[]).push(a,m),(u.preOrderCheckHooks??=[]).push(a,m))}(u,m[u],l)}finally{null!==T&&rn(T),rs(C),y.resolving=!1,Ld()}}return f}function Cu(a,l,u){return!!(u[l+(a>>nr)]&1<<a)}function xu(a,l){return!(a&et.Self||a&et.Host&&l)}class ks{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,h){return Hd(this._tNode,this._lView,l,Y(h),u)}}function Of(){return new ks(Ii(),Me())}function yc(a){return be(()=>{const l=a.prototype.constructor,u=l[Ki]||xl(l),h=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==h;){const m=f[Ki]||xl(f);if(m&&m!==u)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function xl(a){return Xe(a)?()=>{const l=xl(Pe(a));return l&&l()}:pl(a)}function jd(a){const l=a[ot],u=l.type;return 2===u?l.declTNode:1===u?a[Qi]:null}function bc(a){return function Gm(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const h=u.length;let f=0;for(;f<h;){const m=u[f];if(Ut(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<h&&"string"==typeof u[f];)f++;else{if(m===l)return u[f+1];f+=2}}}return null}(Ii(),a)}const os="__parameters__";function ss(a,l,u){return be(()=>{const h=function El(a){return function(...u){if(a){const h=a(...u);for(const f in h)this[f]=h[f]}}}(l);function f(...m){if(this instanceof f)return h.apply(this,m),this;const y=new f(...m);return C.annotation=y,C;function C(T,I,R){const H=T.hasOwnProperty(os)?T[os]:Object.defineProperty(T,os,{value:[]})[os];for(;H.length<=R;)H.push(null);return(H[R]=H[R]||[]).push(y),T}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}function Vr(a,l){a.forEach(u=>Array.isArray(u)?Vr(u,l):l(u))}function Nf(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function _o(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Tc(a,l){const u=[];for(let h=0;h<a;h++)u.push(l);return u}function Zr(a,l,u){let h=A(a,l);return h>=0?a[1|h]=u:(h=~h,function tv(a,l,u,h){let f=a.length;if(f==l)a.push(u,h);else if(1===f)a.push(h,a[0]),a[0]=u;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=u,a[l+1]=h}}(a,h,l,u)),h}function x(a,l){const u=A(a,l);if(u>=0)return a[1|u]}function A(a,l){return function B(a,l,u){let h=0,f=a.length>>u;for(;f!==h;){const m=h+(f-h>>1),y=a[m<<u];if(l===y)return m<<u;y>l?f=m:h=m+1}return~(f<<u)}(a,l,1)}const si=L(ss("Optional"),8),Os=L(ss("SkipSelf"),4);function Gd(a){return 128==(128&a.flags)}var Ic=(()=>((Ic=Ic||{})[Ic.Important=1]="Important",Ic[Ic.DashCase=2]="DashCase",Ic))();const gU=/^>|^->|<!--|-->|--!>|<!-$/g,PM=/(<|>)/,RD="\u200b$1\u200b";const ov=new Map;let ha=0;const j0="__ngContext__";function ro(a,l){ur(l)?(a[j0]=l[cl],function NM(a){ov.set(a[cl],a)}(l)):a[j0]=l}let qf;function z0(a,l){return qf(a,l)}function tg(a){const l=a[Jn];return dr(l)?l[Jn]:l}function $0(a){return LD(a[Jl])}function cv(a){return LD(a[Er])}function LD(a){for(;null!==a&&!dr(a);)a=a[Er];return a}function ng(a,l,u,h,f){if(null!=h){let m,y=!1;dr(h)?m=h:ur(h)&&(y=!0,h=h[pi]);const C=Cn(h);0===a&&null!==u?null==f?BD(l,u,C):Ru(l,u,C,f||null,!0):1===a&&null!==u?Ru(l,u,C,f||null,!0):2===a?function fv(a,l,u){const h=Q0(a,l);h&&function vU(a,l,u,h){a.removeChild(l,u,h)}(a,h,l,u)}(l,C,y):3===a&&l.destroyNode(C),null!=m&&function Sr(a,l,u,h,f){const m=u[Jr];m!==Cn(u)&&ng(l,a,h,m,f);for(let C=Xi;C<u.length;C++){const T=u[C];ft(T[ot],T,a,l,h,m)}}(l,a,m,u,f)}}function uv(a,l){return a.createComment(function OD(a){return a.replace(gU,l=>l.replace(PM,RD))}(l))}function ig(a,l,u){return a.createElement(l,u)}function UD(a,l){const u=a[ul],h=u.indexOf(l);uu(l),u.splice(h,1)}function cs(a,l){if(a.length<=Xi)return;const u=Xi+l,h=a[u];if(h){const f=h[Kc];null!==f&&f!==a&&UD(f,h),l>0&&(a[u-1][Er]=h[Er]);const m=_o(a,Xi+l);!function Kd(a,l){ft(a,l,l[Mt],2,null,null),l[pi]=null,l[Qi]=null}(h[ot],h);const y=m[Vi];null!==y&&y.detachView(m[ot]),h[Jn]=null,h[Er]=null,h[qt]&=-129}return h}function W0(a,l){if(!(256&l[qt])){const u=l[Mt];l[Jc]?.destroy(),l[No]?.destroy(),u.destroyNode&&ft(a,l,u,3,null,null),function qM(a){let l=a[Jl];if(!l)return K0(a[ot],a);for(;l;){let u=null;if(ur(l))u=l[Jl];else{const h=l[Xi];h&&(u=h)}if(!u){for(;l&&!l[Er]&&l!==a;)ur(l)&&K0(l[ot],l),l=l[Jn];null===l&&(l=a),ur(l)&&K0(l[ot],l),u=l&&l[Er]}l=u}}(l)}}function K0(a,l){if(!(256&l[qt])){l[qt]&=-129,l[qt]|=256,function jM(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let h=0;h<u.length;h+=2){const f=l[u[h]];if(!(f instanceof Kn)){const m=u[h+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const C=f[m[y]],T=m[y+1];go(4,C,T);try{T.call(C)}finally{go(5,C,T)}}else{go(4,f,m);try{m.call(f)}finally{go(5,f,m)}}}}}(a,l),function VD(a,l){const u=a.cleanup,h=l[Ts];if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const y=u[m+3];y>=0?h[y]():h[-y].unsubscribe(),m+=2}else u[m].call(h[u[m+1]]);null!==h&&(l[Ts]=null);const f=l[Ji];if(null!==f){l[Ji]=null;for(let m=0;m<f.length;m++)(0,f[m])()}}(a,l),1===l[ot].type&&l[Mt].destroy();const u=l[Kc];if(null!==u&&dr(l[Jn])){u!==l[Jn]&&UD(u,l);const h=l[Vi];null!==h&&h.detachView(a)}!function FM(a){ov.delete(a[cl])}(l)}}function dv(a,l,u){return function ZD(a,l,u){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return u[pi];{const{componentOffset:f}=h;if(f>-1){const{encapsulation:m}=a.data[h.directiveStart+f];if(m===Dt.None||m===Dt.Emulated)return null}return Ar(h,u)}}(a,l.parent,u)}function Ru(a,l,u,h,f){a.insertBefore(l,u,h,f)}function BD(a,l,u){a.appendChild(l,u)}function jf(a,l,u,h,f){null!==h?Ru(a,l,u,h,f):BD(a,l,u)}function Q0(a,l){return a.parentNode(l)}function HD(a,l,u){return $M(a,l,u)}let jD,Ns,V,$M=function zM(a,l,u){return 40&a.type?Ar(a,u):null};function J0(a,l,u,h){const f=dv(a,h,l),m=l[Mt],C=HD(h.parent||l[Qi],h,l);if(null!=f)if(Array.isArray(u))for(let T=0;T<u.length;T++)jf(m,f,u[T],C,!1);else jf(m,f,u,C,!1);void 0!==jD&&jD(m,h,l,u,f)}function hv(a,l){if(null!==l){const u=l.type;if(3&u)return Ar(l,a);if(4&u)return X0(-1,a[l.index]);if(8&u){const h=l.child;if(null!==h)return hv(a,h);{const f=a[l.index];return dr(f)?X0(-1,f):Cn(f)}}if(32&u)return z0(l,a)()||Cn(a[l.index]);{const h=YM(a,l);return null!==h?Array.isArray(h)?h[0]:hv(tg(a[Yn]),h):hv(a,l.next)}}return null}function YM(a,l){return null!==l?a[Yn][Qi].projection[l.projection]:null}function X0(a,l){const u=Xi+a+1;if(u<l.length){const h=l[u],f=h[ot].firstChild;if(null!==f)return hv(h,f)}return l[Jr]}function Qd(a,l,u,h,f,m,y){for(;null!=u;){const C=h[u.index],T=u.type;if(y&&0===l&&(C&&ro(Cn(C),h),u.flags|=2),32!=(32&u.flags))if(8&T)Qd(a,l,u.child,h,f,m,!1),ng(l,a,f,C,m);else if(32&T){const I=z0(u,h);let R;for(;R=I();)ng(l,a,f,R,m);ng(l,a,f,C,m)}else 16&T?ew(a,l,h,u,f,m):ng(l,a,f,C,m);u=y?u.projectionNext:u.next}}function ft(a,l,u,h,f,m){Qd(u,h,a.firstChild,l,f,m,!1)}function ew(a,l,u,h,f,m){const y=u[Yn],T=y[Qi].projection[h.projection];if(Array.isArray(T))for(let I=0;I<T.length;I++)ng(l,a,f,T[I],m);else{let I=T;const R=y[Jn];Gd(h)&&(I.flags|=128),Qd(a,l,I,R,f,m,!0)}}function Jd(a,l,u){""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u)}function rg(a,l,u){const{mergedAttrs:h,classes:f,styles:m}=u;null!==h&&yt(a,l,h),null!==f&&Jd(a,l,f),null!==m&&function WM(a,l,u){a.setAttribute(l,"style",u)}(a,l,m)}function de(a){Ns=a}function mv(a){return function Fs(){if(void 0===V&&(V=null,Jt.trustedTypes))try{V=Jt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return V}()?.createScriptURL(a)||a}class rw{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mt})`}}function Ls(a){return a instanceof rw?a.changingThisBreaksApplicationSecurity:a}function $f(a,l){const u=function $D(a){return a instanceof rw&&a.getTypeName()||null}(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see ${mt})`)}return u===l}const tk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var yi=(()=>((yi=yi||{})[yi.NONE=0]="NONE",yi[yi.HTML=1]="HTML",yi[yi.STYLE=2]="STYLE",yi[yi.SCRIPT=3]="SCRIPT",yi[yi.URL=4]="URL",yi[yi.RESOURCE_URL=5]="RESOURCE_URL",yi))();function wv(a){const l=th();return l?l.sanitize(yi.URL,a)||"":$f(a,"URL")?Ls(a):function Wf(a){return(a=String(a)).match(tk)?a:"unsafe:"+a}(ce(a))}function lw(a){const l=th();if(l)return mv(l.sanitize(yi.RESOURCE_URL,a)||"");if($f(a,"ResourceURL"))return mv(Ls(a));throw new se(904,!1)}function Cv(a,l,u){return function tE(a,l){return"src"===l&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===l&&("base"===a||"link"===a)?lw:wv}(l,u)(a)}function th(){const a=Me();return a&&a[Da].sanitizer}class Nn{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=cn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Kf=new Nn("ENVIRONMENT_INITIALIZER"),nE=new Nn("INJECTOR",-1),xv=new Nn("INJECTOR_DEF_TYPES");class Dv{get(l,u=lr){if(u===lr){const h=new Error(`NullInjectorError: No provider for ${ae(l)}!`);throw h.name="NullInjectorError",h}return u}}function ck(...a){return{\u0275providers:iE(0,a),\u0275fromNgModule:!0}}function iE(a,...l){const u=[],h=new Set;let f;return Vr(l,m=>{const y=m;uw(y,u,[],h)&&(f||=[],f.push(y))}),void 0!==f&&cw(f,u),u}function cw(a,l){for(let u=0;u<a.length;u++){const{providers:f}=a[u];dw(f,m=>{l.push(m)})}}function uw(a,l,u,h){if(!(a=Pe(a)))return!1;let f=null,m=po(a);const y=!m&&zt(a);if(m||y){if(y&&!y.standalone)return!1;f=a}else{const T=a.ngModule;if(m=po(T),!m)return!1;f=T}const C=h.has(f);if(y){if(C)return!1;if(h.add(f),y.dependencies){const T="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const I of T)uw(I,l,u,h)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let I;h.add(f);try{Vr(m.imports,R=>{uw(R,l,u,h)&&(I||=[],I.push(R))})}finally{}void 0!==I&&cw(I,l)}if(!C){const I=pl(f)||(()=>new f);l.push({provide:f,useFactory:I,deps:_t},{provide:xv,useValue:f,multi:!0},{provide:Kf,useValue:()=>$n(f),multi:!0})}const T=m.providers;null==T||C||dw(T,R=>{l.push(R)})}}return f!==a&&void 0!==a.providers}function dw(a,l){for(let u of a)Fe(u)&&(u=u.\u0275providers),Array.isArray(u)?dw(u,l):l(u)}const rE=G({provide:String,useValue:G});function Tv(a){return null!==a&&"object"==typeof a&&rE in a}function nh(a){return"function"==typeof a}const fw=new Nn("Set Injector scope."),Av={},sE={};let Iv;function Sv(){return void 0===Iv&&(Iv=new Dv),Iv}class ih{}class pw extends ih{get destroyed(){return this._destroyed}constructor(l,u,h,f){super(),this.parent=u,this.source=h,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gw(l,y=>this.processProvider(y)),this.records.set(nE,kc(void 0,this)),f.has("environment")&&this.records.set(ih,kc(void 0,this));const m=this.records.get(fw);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(xv.multi,_t,et.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const l=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of l)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(l){return this.assertNotDestroyed(),this._onDestroyHooks.push(l),()=>this.removeOnDestroy(l)}runInContext(l){this.assertNotDestroyed();const u=zn(this),h=rn(void 0);try{return l()}finally{zn(u),rn(h)}}get(l,u=lr,h=et.Default){if(this.assertNotDestroyed(),l.hasOwnProperty(le))return l[le](this);h=Y(h);const f=zn(this),m=rn(void 0);try{if(!(h&et.SkipSelf)){let C=this.records.get(l);if(void 0===C){const T=function hk(a){return"function"==typeof a||"object"==typeof a&&a instanceof Nn}(l)&&ui(l);C=T&&this.injectableDefInScope(T)?kc(kl(l),Av):null,this.records.set(l,C)}if(null!=C)return this.hydrate(l,C)}return(h&et.Self?Sv():this.parent).get(l,u=h&et.Optional&&u===lr?null:u)}catch(y){if("NullInjectorError"===y.name){if((y[jn]=y[jn]||[]).unshift(ae(l)),f)throw y;return function O(a,l,u,h){const f=a[jn];throw l[ii]&&f.unshift(l[ii]),a.message=function ie(a,l,u,h=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let f=ae(l);if(Array.isArray(l))f=l.map(ae).join(" -> ");else if("object"==typeof l){let m=[];for(let y in l)if(l.hasOwnProperty(y)){let C=l[y];m.push(y+":"+("string"==typeof C?JSON.stringify(C):ae(C)))}f=`{${m.join(", ")}}`}return`${u}${h?"("+h+")":""}[${f}]: ${a.replace(Qo,"\n  ")}`}("\n"+a.message,f,u,h),a.ngTokenPath=f,a[jn]=null,a}(y,l,"R3InjectorError",this.source)}throw y}finally{rn(m),zn(f)}}resolveInjectorInitializers(){const l=zn(this),u=rn(void 0);try{const h=this.get(Kf.multi,_t,et.Self);for(const f of h)f()}finally{zn(l),rn(u)}}toString(){const l=[],u=this.records;for(const h of u.keys())l.push(ae(h));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new se(205,!1)}processProvider(l){let u=nh(l=Pe(l))?l:Pe(l&&l.provide);const h=function dk(a){return Tv(a)?kc(void 0,a.useValue):kc(aE(a),Av)}(l);if(nh(l)||!0!==l.multi)this.records.get(u);else{let f=this.records.get(u);f||(f=kc(void 0,Av,!0),f.factory=()=>z(f.multi),this.records.set(u,f)),u=l,f.multi.push(l)}this.records.set(u,h)}hydrate(l,u){return u.value===Av&&(u.value=sE,u.value=u.factory()),"object"==typeof u.value&&u.value&&function lE(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=Pe(l.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}removeOnDestroy(l){const u=this._onDestroyHooks.indexOf(l);-1!==u&&this._onDestroyHooks.splice(u,1)}}function kl(a){const l=ui(a),u=null!==l?l.factory:pl(a);if(null!==u)return u;if(a instanceof Nn)throw new se(204,!1);if(a instanceof Function)return function mw(a){const l=a.length;if(l>0)throw Tc(l,"?"),new se(204,!1);const u=function Ca(a){return a&&(a[Yi]||a[Cr])||null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new se(204,!1)}function aE(a,l,u){let h;if(nh(a)){const f=Pe(a);return pl(f)||kl(f)}if(Tv(a))h=()=>Pe(a.useValue);else if(function oE(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...z(a.deps||[]));else if(function hw(a){return!(!a||!a.useExisting)}(a))h=()=>$n(Pe(a.useExisting));else{const f=Pe(a&&(a.useClass||a.provide));if(!function Qf(a){return!!a.deps}(a))return pl(f)||kl(f);h=()=>new f(...z(a.deps))}return h}function kc(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function gw(a,l){for(const u of a)Array.isArray(u)?gw(u,l):u&&Fe(u)?gw(u.\u0275providers,l):l(u)}const cE=new Nn("AppId",{providedIn:"root",factory:()=>fk}),fk="ng",Mv=new Nn("Platform Initializer"),kv=new Nn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),uE=new Nn("AnimationModuleType"),pk=new Nn("CSP nonce",{providedIn:"root",factory:()=>function Mr(){if(void 0!==Ns)return Ns;if(typeof document<"u")return document;throw new se(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let vw=(a,l)=>null;function wo(a,l){return vw(a,l)}class pE{}class mE{}class ah{resolveComponentFactory(l){throw function yk(a){const l=Error(`No component factory found for ${ae(a)}.`);return l.ngComponent=a,l}(l)}}let tn=(()=>{class a{}return a.NULL=new ah,a})();function Uv(){return Rc(Ii(),Me())}function Rc(a,l){return new tp(Ar(a,l))}let tp=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=Uv,a})();function Ol(a){return a instanceof tp?a.nativeElement:a}class ag{}let Na=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function wk(){const a=Me(),u=tr(Ii().index,a);return(ur(u)?u:a)[Mt]}(),a})(),ds=(()=>{class a{}return a.\u0275prov=cn({token:a,providedIn:"root",factory:()=>null}),a})();class _E{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Vv=new _E("16.0.4"),lg={};function cg(a){for(;a;){a[qt]|=64;const l=tg(a);if(hl(a)&&!l)return a;a=l}return null}function Zv(a){return a.ngOriginalError}class Fa{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l);this._console.error("ERROR",l),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&Zv(l);for(;u&&Zv(u);)u=Zv(u);return u||null}}const vE=new Nn("",{providedIn:"root",factory:()=>!1});function so(a){return a instanceof Function?a():a}class zv extends gl{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(l){this._lView=l}onConsumerDependencyMayHaveChanged(){cg(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(l,u,h){const f=Zi(this);this.trackingVersion++;try{l(u,h)}finally{Zi(f)}}destroy(){this.trackingVersion++}}let dg=null;function lh(){return dg??=new zv,dg}function ip(a,l){return a[l]??lh()}function rp(a,l){const u=lh();u.hasReadASignal&&(a[l]=dg,u.lView=a,dg=new zv)}const Kt={};function $v(a){op(un(),Me(),Ur()+a,!1)}function op(a,l,u,h){if(!h)if(3==(3&l[qt])){const m=a.preOrderCheckHooks;null!==m&&gu(l,m,u)}else{const m=a.preOrderHooks;null!==m&&hc(l,m,0,u)}ka(u)}function xw(a,l=null,u=null,h){const f=hg(a,l,u,h);return f.resolveInjectorInitializers(),f}function hg(a,l=null,u=null,h,f=new Set){const m=[u||_t,ck(a)];return h=h||("object"==typeof a?void 0:ae(a)),new pw(m,l||Sv(),h||null,f)}let Nu=(()=>{class a{static create(u,h){if(Array.isArray(u))return xw({name:""},h,u,"");{const f=u.name??"";return xw({name:f},u.parent,u.providers,f)}}}return a.THROW_IF_NOT_FOUND=lr,a.NULL=new Dv,a.\u0275prov=cn({token:a,providedIn:"any",factory:()=>$n(nE)}),a.__NG_ELEMENT_ID__=-1,a})();function Oc(a,l=et.Default){const u=Me();return null===u?$n(a,l):Hd(Ii(),u,Pe(a),l)}function ch(){throw new Error("invalid")}function sp(a,l,u,h,f,m,y,C,T,I,R){const H=l.blueprint.slice();return H[pi]=f,H[qt]=140|h,(null!==I||a&&2048&a[qt])&&(H[qt]|=2048),Sd(H),H[Jn]=H[ta]=a,H[In]=u,H[Da]=y||a&&a[Da],H[Mt]=C||a&&a[Mt],H[Po]=T||a&&a[Po]||null,H[Qi]=m,H[cl]=function Il(){return ha++}(),H[Tr]=R,H[Qc]=I,H[Yn]=2==l.type?a[Yn]:H,H}function ap(a,l,u,h,f){let m=a.data[l];if(null===m)m=function Ew(a,l,u,h,f){const m=fu(),y=Is(),T=a.data[l]=function Pk(a,l,u,h,f,m){let y=l?l.injectorIndex:-1,C=0;return aa()&&(C|=128),{type:u,index:h,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,u,l,h,f);return null===a.firstChild&&(a.firstChild=T),null!==m&&(y?null==m.child&&null!==T.parent&&(m.child=T):null===m.next&&(m.next=T,T.prev=m)),T}(a,l,u,h,f),function Hm(){return Rt.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=u,m.value=h,m.attrs=f;const y=function ac(){const a=Rt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();m.injectorIndex=null===y?-1:y.injectorIndex}return As(m,!0),m}function lp(a,l,u,h){if(0===u)return-1;const f=l.length;for(let m=0;m<u;m++)l.push(h),a.blueprint.push(h),a.data.push(null);return f}function bE(a,l,u,h,f){const m=ip(l,Jc),y=Ur(),C=2&h;try{if(ka(-1),C&&l.length>gn&&op(a,l,gn,!1),go(C?2:0,f),C)m.runInContext(u,h,f);else{const I=Zi(null);try{u(h,f)}finally{Zi(I)}}}finally{C&&null===l[Jc]&&rp(l,Jc),ka(y),go(C?3:1,f)}}function Tw(a,l,u){if(pd(l)){const h=Zi(null);try{const m=l.directiveEnd;for(let y=l.directiveStart;y<m;y++){const C=a.data[y];C.contentQueries&&C.contentQueries(1,u[y],y)}}finally{Zi(h)}}}function Aw(a,l,u){_f()&&(function gg(a,l,u,h){const f=u.directiveStart,m=u.directiveEnd;Fo(u)&&function TE(a,l,u){const h=Ar(l,a),y=ny(a,sp(a,Qv(u),null,u.onPush?64:16,h,l,null,a[Da].rendererFactory.createRenderer(h,u),null,null,null));a[l.index]=y}(l,u,a.data[f+u.componentOffset]),a.firstCreatePass||yu(u,l),ro(h,l);const y=u.initialInputs;for(let C=f;C<m;C++){const T=a.data[C],I=Ms(l,a,C,u);ro(I,l),null!==y&&Fk(0,C-f,I,T,0,y),Vn(T)&&(tr(u.index,l)[In]=Ms(l,a,C,u))}}(a,l,u,Ar(u,l)),64==(64&u.flags)&&ty(a,l,u))}function zi(a,l,u=Ar){const h=l.localNames;if(null!==h){let f=l.index+1;for(let m=0;m<h.length;m+=2){const y=h[m+1],C=-1===y?u(l,a):a[y];a[f++]=C}}}function Qv(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=fg(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts,a.id):l}function fg(a,l,u,h,f,m,y,C,T,I,R){const H=gn+h,J=H+f,te=function Iw(a,l){const u=[];for(let h=0;h<l;h++)u.push(h<a?null:Kt);return u}(H,J),Ee="function"==typeof I?I():I;return te[ot]={type:a,blueprint:te,template:u,queries:null,viewQuery:C,declTNode:l,data:te.slice().fill(null,H),bindingStartIndex:H,expandoStartIndex:J,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:T,consts:Ee,incompleteFirstPass:!1,ssrId:R}}let Fu=a=>null;function up(a,l,u,h){for(let f in a)if(a.hasOwnProperty(f)){u=null===u?{}:u;const m=a[f];null===h?wE(u,l,f,m):h.hasOwnProperty(f)&&wE(u,l,h[f],m)}return u}function wE(a,l,u,h){a.hasOwnProperty(u)?a[u].push(l,h):a[u]=[l,h]}function ao(a,l,u,h,f,m,y,C){const T=Ar(l,u);let R,I=l.inputs;!C&&null!=I&&(R=I[h])?(Rw(a,u,R,h,f),Fo(l)&&function CE(a,l){const u=tr(l,a);16&u[qt]||(u[qt]|=64)}(u,l.index)):3&l.type&&(h=function Xv(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),f=null!=y?y(f,l.value||"",h):f,m.setProperty(T,h,f))}function mg(a,l,u,h){if(_f()){const f=null===h?null:{"":-1},m=function Sw(a,l){const u=a.directiveRegistry;let h=null,f=null;if(u)for(let m=0;m<u.length;m++){const y=u[m];if(xa(l,y.selectors,!1))if(h||(h=[]),Vn(y))if(null!==y.findHostDirectiveDefs){const C=[];f=f||new Map,y.findHostDirectiveDefs(y,C,f),h.unshift(...C,y),Pc(a,l,C.length)}else h.unshift(y),Pc(a,l,0);else f=f||new Map,y.findHostDirectiveDefs?.(y,h,f),h.push(y)}return null===h?null:[h,f]}(a,u);let y,C;null===m?y=C=null:[y,C]=m,null!==y&&xE(a,l,u,y,f,C),f&&function EE(a,l,u){if(l){const h=a.localNames=[];for(let f=0;f<l.length;f+=2){const m=u[l[f+1]];if(null==m)throw new se(-301,!1);h.push(l[f],m)}}}(u,h,f)}u.mergedAttrs=pn(u.mergedAttrs,u.attrs)}function xE(a,l,u,h,f,m){for(let I=0;I<h.length;I++)hr(yu(u,l),a,h[I].type);!function Mw(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}(u,a.data.length,h.length);for(let I=0;I<h.length;I++){const R=h[I];R.providersResolver&&R.providersResolver(R)}let y=!1,C=!1,T=lp(a,l,h.length,null);for(let I=0;I<h.length;I++){const R=h[I];u.mergedAttrs=pn(u.mergedAttrs,R.hostAttrs),hp(a,u,l,T,R),Uu(T,R,f),null!==R.contentQueries&&(u.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(u.flags|=64);const H=R.type.prototype;!y&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((a.preOrderHooks??=[]).push(u.index),y=!0),!C&&(H.ngOnChanges||H.ngDoCheck)&&((a.preOrderCheckHooks??=[]).push(u.index),C=!0),T++}!function Nk(a,l,u){const f=l.directiveEnd,m=a.data,y=l.attrs,C=[];let T=null,I=null;for(let R=l.directiveStart;R<f;R++){const H=m[R],J=u?u.get(H):null,Ee=J?J.outputs:null;T=up(H.inputs,R,T,J?J.inputs:null),I=up(H.outputs,R,I,Ee);const Ze=null===T||null===y||rl(l)?null:Lk(T,R,y);C.push(Ze)}null!==T&&(T.hasOwnProperty("class")&&(l.flags|=8),T.hasOwnProperty("style")&&(l.flags|=16)),l.initialInputs=C,l.inputs=T,l.outputs=I}(a,u,m)}function ty(a,l,u){const h=u.directiveStart,f=u.directiveEnd,m=u.index,y=function Sa(){return Rt.lFrame.currentDirectiveIndex}();try{ka(m);for(let C=h;C<f;C++){const T=a.data[C],I=l[C];Ma(C),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&DE(T,I)}}finally{ka(-1),Ma(y)}}function DE(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function Pc(a,l,u){l.componentOffset=u,(a.components??=[]).push(l.index)}function Uu(a,l,u){if(u){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)u[l.exportAs[h]]=a;Vn(l)&&(u[""]=a)}}function hp(a,l,u,h,f){a.data[h]=f;const m=f.factory||(f.factory=pl(f.type)),y=new Kn(m,Vn(f),Oc);a.blueprint[h]=y,u[h]=y,function li(a,l,u,h,f){const m=f.hostBindings;if(m){let y=a.hostBindingOpCodes;null===y&&(y=a.hostBindingOpCodes=[]);const C=~l.index;(function Ua(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(y)!=C&&y.push(C),y.push(u,h,m)}}(a,l,h,lp(a,u,f.hostVars,Kt),f)}function Us(a,l,u,h,f,m){const y=Ar(a,l);!function kw(a,l,u,h,f,m,y){if(null==m)a.removeAttribute(l,f,u);else{const C=null==y?ce(m):y(m,h||"",f);a.setAttribute(l,f,C,u)}}(l[Mt],y,m,a.value,u,h,f)}function Fk(a,l,u,h,f,m){const y=m[l];if(null!==y)for(let C=0;C<y.length;)AE(h,u,y[C++],y[C++],y[C++])}function AE(a,l,u,h,f){const m=Zi(null);try{null!==a.setInput?a.setInput(l,f,u,h):l[h]=f}finally{Zi(m)}}function Lk(a,l,u){let h=null,f=0;for(;f<u.length;){const m=u[f];if(0!==m)if(5!==m){if("number"==typeof m)break;if(a.hasOwnProperty(m)){null===h&&(h=[]);const y=a[m];for(let C=0;C<y.length;C+=2)if(y[C]===l){h.push(m,y[C+1],u[f+1]);break}}f+=2}else f+=2;else f+=4}return h}function IE(a,l,u,h){return[a,!0,!1,l,null,0,h,u,null,null,null]}function SE(a,l){const u=a.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const m=u[h+1];if(-1!==m){const y=a.data[m];Nd(u[h]),y.contentQueries(2,l[m],m)}}}function ny(a,l){return a[Jl]?a[Wc][Er]=l:a[Jl]=l,a[Wc]=l,l}function iy(a,l,u){Nd(0);const h=Zi(null);try{l(a,u)}finally{Zi(h)}}function ME(a){return a[Ts]||(a[Ts]=[])}function kE(a){return a.cleanup||(a.cleanup=[])}function RE(a,l,u){return(null===a||Vn(a))&&(u=function Td(a){for(;Array.isArray(a);){if("object"==typeof a[Jo])return a;a=a[pi]}return null}(u[l.index])),u[Mt]}function OE(a,l){const u=a[Po],h=u?u.get(Fa,null):null;h&&h.handleError(l)}function Rw(a,l,u,h,f){for(let m=0;m<u.length;){const y=u[m++],C=u[m++];AE(a.data[y],l[y],h,C,f)}}function Nc(a,l,u){const h=Ad(l,a);!function ku(a,l,u){a.setValue(l,u)}(a[Mt],h,u)}function ry(a,l){const u=tr(l,a),h=u[ot];!function Ow(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])}(h,u);const f=u[pi];null!==f&&null===u[Tr]&&(u[Tr]=wo(f,u[Po])),oy(h,u,u[In])}function oy(a,l,u){ca(l);try{const h=a.viewQuery;null!==h&&iy(1,h,u);const f=a.template;null!==f&&bE(a,l,f,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&SE(a,l),a.staticViewQueries&&iy(2,a.viewQuery,u);const m=a.components;null!==m&&function sy(a,l){for(let u=0;u<l.length;u++)ry(a,l[u])}(l,m)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{l[qt]&=-5,uc()}}let Nw=(()=>{class a{constructor(){this.all=new Set,this.queue=new Map}create(u,h,f){const m=typeof Zone>"u"?null:Zone.current,y=new au(u,I=>{this.all.has(I)&&this.queue.set(I,m)},f);let C;this.all.add(y),y.notify();const T=()=>{y.cleanup(),C?.(),this.all.delete(y),this.queue.delete(y)};return C=h?.onDestroy(T),{destroy:T}}flush(){if(0!==this.queue.size)for(const[u,h]of this.queue)this.queue.delete(u),h?h.run(()=>u.run()):u.run()}get isQueueEmpty(){return 0===this.queue.size}}return a.\u0275prov=cn({token:a,providedIn:"root",factory:()=>new a}),a})();function ay(a,l,u){let h=u?a.styles:null,f=u?a.classes:null,m=0;if(null!==l)for(let y=0;y<l.length;y++){const C=l[y];"number"==typeof C?m=C:1==m?f=Ve(f,C):2==m&&(h=Ve(h,C+": "+l[++y]+";"))}u?a.styles=h:a.stylesWithoutHost=h,u?a.classes=f:a.classesWithoutHost=f}function fp(a,l,u,h,f=!1){for(;null!==u;){const m=l[u.index];if(null!==m&&h.push(Cn(m)),dr(m)){for(let C=Xi;C<m.length;C++){const T=m[C],I=T[ot].firstChild;null!==I&&fp(T[ot],T,I,h)}m[Jr]!==m[pi]&&h.push(m[Jr])}const y=u.type;if(8&y)fp(a,l,u.child,h);else if(32&y){const C=z0(u,l);let T;for(;T=C();)h.push(T)}else if(16&y){const C=YM(l,u);if(Array.isArray(C))h.push(...C);else{const T=tg(l[Yn]);fp(T[ot],T,C,h,!0)}}u=f?u.projectionNext:u.next}return h}function pp(a,l,u,h=!0){const f=l[Da].rendererFactory;f.begin&&f.begin();try{ly(a,l,a.template,u)}catch(y){throw h&&OE(l,y),y}finally{f.end&&f.end(),l[Da].effectManager?.flush()}}function ly(a,l,u,h){const f=l[qt];if(256!=(256&f)){l[Da].effectManager?.flush(),ca(l);try{Sd(l),function bf(a){return Rt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&bE(a,l,u,2,h);const y=3==(3&f);if(y){const I=a.preOrderCheckHooks;null!==I&&gu(l,I,null)}else{const I=a.preOrderHooks;null!==I&&hc(l,I,0,null),If(l,0)}if(function PE(a){for(let l=$0(a);null!==l;l=cv(l)){if(!l[Ta])continue;const u=l[ul];for(let h=0;h<u.length;h++){mf(u[h])}}}(l),function Hk(a){for(let l=$0(a);null!==l;l=cv(l))for(let u=Xi;u<l.length;u++){const h=l[u],f=h[ot];oa(h)&&ly(f,h,f.template,h[In])}}(l),null!==a.contentQueries&&SE(a,l),y){const I=a.contentCheckHooks;null!==I&&gu(l,I)}else{const I=a.contentHooks;null!==I&&hc(l,I,1),If(l,1)}!function Dw(a,l){const u=a.hostBindingOpCodes;if(null===u)return;const h=ip(l,No);try{for(let f=0;f<u.length;f++){const m=u[f];if(m<0)ka(~m);else{const y=m,C=u[++f],T=u[++f];Pd(C,y),h.runInContext(T,2,l[y])}}}finally{null===l[No]&&rp(l,No),ka(-1)}}(a,l);const C=a.components;null!==C&&function NE(a,l){for(let u=0;u<l.length;u++)cy(a,l[u])}(l,C);const T=a.viewQuery;if(null!==T&&iy(2,T,h),y){const I=a.viewCheckHooks;null!==I&&gu(l,I)}else{const I=a.viewHooks;null!==I&&hc(l,I,2),If(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[qt]&=-73,uu(l)}finally{uc()}}}function cy(a,l){const u=tr(l,a);if(oa(u)){const h=u[ot];80&u[qt]?ly(h,u,h.template,u[In]):u[ll]>0&&_g(u)}}function _g(a){for(let h=$0(a);null!==h;h=cv(h))for(let f=Xi;f<h.length;f++){const m=h[f];if(oa(m))if(1024&m[qt]){const y=m[ot];ly(y,m,y.template,m[In])}else m[ll]>0&&_g(m)}const u=a[ot].components;if(null!==u)for(let h=0;h<u.length;h++){const f=tr(u[h],a);oa(f)&&f[ll]>0&&_g(f)}}class vg{get rootNodes(){const l=this._lView,u=l[ot];return fp(u,l,u.firstChild,[])}constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[In]}set context(l){this._lView[In]=l}get destroyed(){return 256==(256&this._lView[qt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[Jn];if(dr(l)){const u=l[Aa],h=u?u.indexOf(this):-1;h>-1&&(cs(l,h),_o(u,h))}this._attachedToViewContainer=!1}W0(this._lView[ot],this._lView)}onDestroy(l){!function bl(a,l){if(256==(256&a[qt]))throw new se(911,!1);null===a[Ji]&&(a[Ji]=[]),a[Ji].push(l)}(this._lView,l)}markForCheck(){cg(this._cdRefInjectingView||this._lView)}detach(){this._lView[qt]&=-129}reattach(){this._lView[qt]|=128}detectChanges(){pp(this._lView[ot],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function G0(a,l){ft(a,l,l[Mt],2,null,null)}(this._lView[ot],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new se(902,!1);this._appRef=l}}class FE extends vg{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;pp(l[ot],l,l[In],!1)}checkNoChanges(){}get context(){return null}}class uy extends tn{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=zt(l);return new yg(u,this.ngModule)}}function LE(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}class zk{constructor(l,u){this.injector=l,this.parentInjector=u}get(l,u,h){h=Y(h);const f=this.injector.get(l,lg,h);return f!==lg||u===lg?f:this.parentInjector.get(l,u,h)}}class yg extends mE{get inputs(){return LE(this.componentDef.inputs)}get outputs(){return LE(this.componentDef.outputs)}constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function Jh(a){return a.map($_).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}create(l,u,h,f){let m=(f=f||this.ngModule)instanceof ih?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const y=m?new zk(l,m):l,C=y.get(ag,null);if(null===C)throw new se(407,!1);const R={rendererFactory:C,sanitizer:y.get(ds,null),effectManager:y.get(Nw,null)},H=C.createRenderer(null,this.componentDef),J=this.componentDef.selectors[0][0]||"div",te=h?function Jv(a,l,u,h){const m=h.get(vE,!1)||u===Dt.ShadowDom,y=a.selectRootElement(l,m);return function pg(a){Fu(a)}(y),y}(H,h,this.componentDef.encapsulation,y):ig(H,J,function jk(a){const l=a.toLowerCase();return"svg"===l?Dd:"math"===l?"math":null}(J)),Ee=this.componentDef.onPush?576:528,Ze=fg(0,null,null,1,0,null,null,null,null,null,null),tt=sp(null,Ze,null,Ee,null,null,R,H,y,null,null);let It,Ie;ca(tt);try{const Lt=this.componentDef;let an,qn=null;Lt.findHostDirectiveDefs?(an=[],qn=new Map,Lt.findHostDirectiveDefs(Lt,an,qn),an.push(Lt)):an=[Lt];const $a=function Gk(a,l){const u=a[ot],h=gn;return a[h]=l,ap(u,h,2,"#host",null)}(tt,te),EP=function UE(a,l,u,h,f,m,y){const C=f[ot];!function Yk(a,l,u,h){for(const f of a)l.mergedAttrs=pn(l.mergedAttrs,f.hostAttrs);null!==l.mergedAttrs&&(ay(l,l.mergedAttrs,!0),null!==u&&rg(h,u,l))}(h,a,l,y);let T=null;null!==l&&(T=wo(l,f[Po]));const I=m.rendererFactory.createRenderer(l,u),R=sp(f,Qv(u),null,u.onPush?64:16,f[a.index],a,m,I,null,null,T);return C.firstCreatePass&&Pc(C,a,h.length-1),ny(f,R),f[a.index]=R}($a,te,Lt,an,tt,R,H);Ie=Id(Ze,gn),te&&function ZE(a,l,u,h){if(h)yt(a,u,["ng-version",Vv.full]);else{const{attrs:f,classes:m}=function Yc(a){const l=[],u=[];let h=1,f=2;for(;h<a.length;){let m=a[h];if("string"==typeof m)2===f?""!==m&&l.push(m,a[++h]):8===f&&u.push(m);else{if(!Gn(f))break;f=m}h++}return{attrs:l,classes:u}}(l.selectors[0]);f&&yt(a,u,f),m&&m.length>0&&Jd(a,u,m.join(" "))}}(H,Lt,te,h),void 0!==u&&function Wk(a,l,u){const h=a.projection=[];for(let f=0;f<l.length;f++){const m=u[f];h.push(null!=m?Array.from(m):null)}}(Ie,this.ngContentSelectors,u),It=function VE(a,l,u,h,f,m){const y=Ii(),C=f[ot],T=Ar(y,f);xE(C,f,y,u,null,h);for(let R=0;R<u.length;R++)ro(Ms(f,C,y.directiveStart+R,y),f);ty(C,f,y),T&&ro(T,f);const I=Ms(f,C,y.directiveStart+y.componentOffset,y);if(a[In]=f[In]=I,null!==m)for(const R of m)R(I,l);return Tw(C,y,a),I}(EP,Lt,an,qn,tt,[BE]),oy(Ze,tt,null)}finally{uc()}return new $k(this.componentType,It,Rc(Ie,tt),tt,Ie)}}class $k extends pE{constructor(l,u,h,f,m){super(),this.location=h,this._rootLView=f,this._tNode=m,this.previousInputValues=null,this.instance=u,this.hostView=this.changeDetectorRef=new FE(f),this.componentType=l}setInput(l,u){const h=this._tNode.inputs;let f;if(null!==h&&(f=h[l])){if(this.previousInputValues??=new Map,this.previousInputValues.has(l)&&Object.is(this.previousInputValues.get(l),u))return;const m=this._rootLView;Rw(m[ot],m,f,l,u),this.previousInputValues.set(l,u),cg(tr(this._tNode.index,m))}}get injector(){return new ks(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function BE(){const a=Ii();dc(Me()[ot],a)}function dy(a){let l=function bg(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const h=[a];for(;l;){let f;if(Vn(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new se(903,!1);f=l.\u0275dir}if(f){if(u){h.push(f);const y=a;y.inputs=Fw(a.inputs),y.declaredInputs=Fw(a.declaredInputs),y.outputs=Fw(a.outputs);const C=f.hostBindings;C&&qE(a,C);const T=f.viewQuery,I=f.contentQueries;if(T&&Qk(a,T),I&&Lw(a,I),W(a.inputs,f.inputs),W(a.declaredInputs,f.declaredInputs),W(a.outputs,f.outputs),Vn(f)&&f.data.animation){const R=a.data;R.animation=(R.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let y=0;y<m.length;y++){const C=m[y];C&&C.ngInherit&&C(a),C===dy&&(u=!1)}}l=Object.getPrototypeOf(l)}!function Kk(a){let l=0,u=null;for(let h=a.length-1;h>=0;h--){const f=a[h];f.hostVars=l+=f.hostVars,f.hostAttrs=pn(f.hostAttrs,u=pn(u,f.hostAttrs))}}(h)}function Fw(a){return a===Et?{}:a===_t?[]:a}function Qk(a,l){const u=a.viewQuery;a.viewQuery=u?(h,f)=>{l(h,f),u(h,f)}:l}function Lw(a,l){const u=a.contentQueries;a.contentQueries=u?(h,f,m)=>{l(h,f,m),u(h,f,m)}:l}function qE(a,l){const u=a.hostBindings;a.hostBindings=u?(h,f)=>{l(h,f),u(h,f)}:l}function hy(a){return!!Cg(a)&&(Array.isArray(a)||!(a instanceof Map)&&Symbol.iterator in a)}function Cg(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function lo(a,l,u){return a[l]=u}function Co(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function uh(a,l,u,h){const f=Co(a,l,u);return Co(a,l+1,h)||f}function py(a,l,u,h){const f=Me();return Co(f,la(),l)&&(un(),Us(Wn(),f,a,l,u,h)),py}function Bu(a,l,u,h){return Co(a,la(),u)?l+ce(u)+h:Kt}function Lc(a,l,u,h,f,m){const C=uh(a,function Vo(){return Rt.lFrame.bindingIndex}(),u,f);return kn(2),C?l+ce(u)+h+ce(f)+m:Kt}function Vs(a,l,u,h,f,m,y,C){const T=Me(),I=un(),R=a+gn,H=I.firstCreatePass?function cR(a,l,u,h,f,m,y,C,T){const I=l.consts,R=ap(l,a,4,y||null,sa(I,C));mg(l,u,R,sa(I,T)),dc(l,R);const H=R.tView=fg(2,R,h,f,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,I,null);return null!==l.queries&&(l.queries.template(l,R),H.queries=l.queries.embeddedTView(R)),R}(R,I,T,l,u,h,f,m,y):I.data[R];As(H,!1);const J=Ww(I,T,H,a);Vd()&&J0(I,T,J,H),ro(J,T),ny(T,T[R]=IE(J,T,J,H)),na(H)&&Aw(I,T,H),null!=y&&zi(T,H,C)}let Ww=function KE(a,l,u,h){return ns(!0),l[Mt].createComment("")};function Kw(a){return function ra(a,l){return a[l]}(function Bi(){return Rt.lFrame.contextLView}(),gn+a)}function Qw(a,l,u){const h=Me();return Co(h,la(),l)&&ao(un(),Wn(),h,a,l,h[Mt],u,!1),Qw}function Dy(a,l,u,h,f){const y=f?"class":"style";Rw(a,u,l.inputs[y],y,h)}function Ey(a,l,u,h){const f=Me(),m=un(),y=gn+a,C=f[Mt],T=m.firstCreatePass?function uR(a,l,u,h,f,m){const y=l.consts,T=ap(l,a,2,h,sa(y,f));return mg(l,u,T,sa(y,m)),null!==T.attrs&&ay(T,T.attrs,!1),null!==T.mergedAttrs&&ay(T,T.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,T),T}(y,m,f,l,u,h):m.data[y],I=wp(m,f,T,C,l,a);f[y]=I;const R=na(T);return As(T,!0),rg(C,I,T),32!=(32&T.flags)&&Vd()&&J0(m,f,I,T),0===function Md(){return Rt.lFrame.elementDepthCount}()&&ro(I,f),function Q_(){Rt.lFrame.elementDepthCount++}(),R&&(Aw(m,f,T),Tw(m,T,f)),null!==h&&zi(f,T),Ey}function Ty(){let a=Ii();Is()?vf():(a=a.parent,As(a,!1));const l=a;(function oc(a){return Rt.skipHydrationRootTNode===a})(l)&&function qm(){Rt.skipHydrationRootTNode=null}(),function kd(){Rt.lFrame.elementDepthCount--}();const u=un();return u.firstCreatePass&&(dc(u,a),pd(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function fc(a){return 0!=(8&a.flags)}(l)&&Dy(u,l,Me(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function $m(a){return 0!=(16&a.flags)}(l)&&Dy(u,l,Me(),l.stylesWithoutHost,!1),Ty}function Ay(a,l,u,h){return Ey(a,l,u,h),Ty(),Ay}let wp=(a,l,u,h,f,m)=>(ns(!0),ig(h,f,function Ud(){return Rt.lFrame.currentNamespace}()));function Cp(a,l,u){const h=Me(),f=un(),m=a+gn,y=f.firstCreatePass?function dR(a,l,u,h,f){const m=l.consts,y=sa(m,h),C=ap(l,a,8,"ng-container",y);return null!==y&&ay(C,y,!0),mg(l,u,C,sa(m,f)),null!==l.queries&&l.queries.elementStart(l,C),C}(m,f,h,l,u):f.data[m];As(y,!0);const C=Iy(f,h,y,a);return h[m]=C,Vd()&&J0(f,h,C,y),ro(C,h),na(y)&&(Aw(f,h,y),Tw(f,y,h)),null!=u&&zi(h,y),Cp}function gh(){let a=Ii();const l=un();return Is()?vf():(a=a.parent,As(a,!1)),l.firstCreatePass&&(dc(l,a),pd(a)&&l.queries.elementEnd(a)),gh}function Jw(a,l,u){return Cp(a,l,u),gh(),Jw}let Iy=(a,l,u,h)=>(ns(!0),uv(l[Mt],""));function eT(){return Me()}function Sy(a){return!!a&&"function"==typeof a.then}function tT(a){return!!a&&"function"==typeof a.subscribe}function Xw(a,l,u,h){const f=Me(),m=un(),y=Ii();return nC(m,f,f[Mt],y,a,l,h),Xw}function eC(a,l){const u=Ii(),h=Me(),f=un();return nC(f,h,RE(wf(f.data),u,h),u,a,l),eC}function nC(a,l,u,h,f,m,y){const C=na(h),I=a.firstCreatePass&&kE(a),R=l[In],H=ME(l);let J=!0;if(3&h.type||y){const Ze=Ar(h,l),tt=y?y(Ze):Ze,It=H.length,Ie=y?an=>y(Cn(an[h.index])):h.index;let Lt=null;if(!y&&C&&(Lt=function tC(a,l,u,h){const f=a.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const y=f[m];if(y===u&&f[m+1]===h){const C=l[Ts],T=f[m+2];return C.length>T?C[T]:null}"string"==typeof y&&(m+=2)}return null}(a,l,f,h.index)),null!==Lt)(Lt.__ngLastListenerFn__||Lt).__ngNextListenerFn__=m,Lt.__ngLastListenerFn__=m,J=!1;else{m=_h(h,l,R,m,!1);const an=u.listen(tt,f,m);H.push(m,an),I&&I.push(f,Ie,It,It+1)}}else m=_h(h,l,R,m,!1);const te=h.outputs;let Ee;if(J&&null!==te&&(Ee=te[f])){const Ze=Ee.length;if(Ze)for(let tt=0;tt<Ze;tt+=2){const qn=l[Ee[tt]][Ee[tt+1]].subscribe(m),$a=H.length;H.push(m,qn),I&&I.push(f,h.index,$a,-($a+1))}}}function nT(a,l,u,h){try{return go(6,l,u),!1!==u(h)}catch(f){return OE(a,f),!1}finally{go(7,l,u)}}function _h(a,l,u,h,f){return function m(y){if(y===Function)return h;cg(a.componentOffset>-1?tr(a.index,l):l);let T=nT(l,u,h,y),I=m.__ngNextListenerFn__;for(;I;)T=nT(l,u,I,y)&&T,I=I.__ngNextListenerFn__;return f&&!1===T&&y.preventDefault(),T}}function Vc(a=1){return function J_(a){return(Rt.lFrame.contextLView=function jm(a,l){for(;a>0;)l=l[ta],a--;return l}(a,Rt.lFrame.contextLView))[In]}(a)}function pR(a,l){let u=null;const h=function Om(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(!(1&u))return l[u+1]}return null}(a);for(let f=0;f<l.length;f++){const m=l[f];if("*"!==m){if(null===h?xa(a,m,!0):z_(h,m))return f}else u=f}return u}function My(a){const l=Me()[Yn][Qi];if(!l.projection){const h=l.projection=Tc(a?a.length:1,null),f=h.slice();let m=l.child;for(;null!==m;){const y=a?pR(m,a):0;null!==y&&(f[y]?f[y].projectionNext=m:h[y]=m,f[y]=m),m=m.next}}}function Mg(a,l=0,u){const h=Me(),f=un(),m=ap(f,gn+a,16,null,u||null);null===m.projection&&(m.projection=l),vf(),(!h[Tr]||aa())&&32!=(32&m.flags)&&function us(a,l,u){ew(l[Mt],0,l,u,dv(a,u,l),HD(u.parent||l[Qi],u,l))}(f,h,m)}function iC(a,l,u){return Hu(a,"",l,"",u),iC}function Hu(a,l,u,h,f){const m=Me(),y=Bu(m,l,u,h);return y!==Kt&&ao(un(),Wn(),m,a,y,m[Mt],f,!1),Hu}function Oy(a,l){return a<<17|l<<2}function Nl(a){return a>>17&32767}function aC(a){return 2|a}function ju(a){return(131068&a)>>2}function Py(a,l){return-131069&a|l<<2}function Ny(a){return 1|a}function qs(a,l,u,h,f){const m=a[u+1],y=null===l;let C=h?Nl(m):ju(m),T=!1;for(;0!==C&&(!1===T||y);){const R=a[C+1];vh(a[C],l)&&(T=!0,a[C+1]=h?Ny(R):aC(R)),C=h?Nl(R):ju(R)}T&&(a[u+1]=h?aC(m):Ny(m))}function vh(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&A(a,l)>=0}const mr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function uC(a){return a.substring(mr.key,mr.keyEnd)}function sT(a,l){const u=mr.textEnd;return u===l?-1:(l=mr.keyEnd=function _R(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,mr.key=l,u),xp(a,l,u))}function xp(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function Vy(a,l,u){return ma(a,l,u,!1),Vy}function Zy(a,l){return ma(a,l,null,!0),Zy}function dC(a){Ba(xR,gr,a,!0)}function gr(a,l){for(let u=function kU(a){return function aT(a){mr.key=0,mr.keyEnd=0,mr.value=0,mr.valueEnd=0,mr.textEnd=a.length}(a),sT(a,xp(a,0,mr.textEnd))}(l);u>=0;u=sT(l,u))Zr(a,uC(l),!0)}function ma(a,l,u,h){const f=Me(),m=un(),y=kn(2);m.firstUpdatePass&&dT(m,a,y,h),l!==Kt&&Co(f,y,l)&&pT(m,m.data[Ur()],f,f[Mt],a,f[y+1]=function ER(a,l){return null==a||""===a||("string"==typeof l?a+=l:"object"==typeof a&&(a=ae(Ls(a)))),a}(l,u),h,y)}function Ba(a,l,u,h){const f=un(),m=kn(2);f.firstUpdatePass&&dT(f,null,m,h);const y=Me();if(u!==Kt&&Co(y,m,u)){const C=f.data[Ur()];if(gT(C,h)&&!uT(f,m)){let T=h?C.classesWithoutHost:C.stylesWithoutHost;null!==T&&(u=Ve(T,u||"")),Dy(f,C,y,u,h)}else!function DR(a,l,u,h,f,m,y,C){f===Kt&&(f=_t);let T=0,I=0,R=0<f.length?f[0]:null,H=0<m.length?m[0]:null;for(;null!==R||null!==H;){const J=T<f.length?f[T+1]:void 0,te=I<m.length?m[I+1]:void 0;let Ze,Ee=null;R===H?(T+=2,I+=2,J!==te&&(Ee=H,Ze=te)):null===H||null!==R&&R<H?(T+=2,Ee=R):(I+=2,Ee=H,Ze=te),null!==Ee&&pT(a,l,u,h,Ee,Ze,y,C),R=T<f.length?f[T]:null,H=I<m.length?m[I]:null}}(f,C,y,y[Mt],y[m+1],y[m+1]=function CR(a,l,u){if(null==u||""===u)return _t;const h=[],f=Ls(u);if(Array.isArray(f))for(let m=0;m<f.length;m++)a(h,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&a(h,m,f[m]);else"string"==typeof f&&l(h,f);return h}(a,l,u),h,m)}}function uT(a,l){return l>=a.expandoStartIndex}function dT(a,l,u,h){const f=a.data;if(null===f[u+1]){const m=f[Ur()],y=uT(a,u);gT(m,h)&&null===l&&!y&&(l=!1),l=function hT(a,l,u,h){const f=wf(a);let m=h?l.residualClasses:l.residualStyles;if(null===f)0===(h?l.classBindings:l.styleBindings)&&(u=Rg(u=hC(null,a,l,u,h),l.attrs,h),m=null);else{const y=l.directiveStylingLast;if(-1===y||a[y]!==f)if(u=hC(f,a,l,u,h),null===m){let T=function yR(a,l,u){const h=u?l.classBindings:l.styleBindings;if(0!==ju(h))return a[Nl(h)]}(a,l,h);void 0!==T&&Array.isArray(T)&&(T=hC(null,a,l,T[1],h),T=Rg(T,l.attrs,h),function bR(a,l,u,h){a[Nl(u?l.classBindings:l.styleBindings)]=h}(a,l,h,T))}else m=function wR(a,l,u){let h;const f=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<f;m++)h=Rg(h,a[m].hostAttrs,u);return Rg(h,l.attrs,u)}(a,l,h)}return void 0!==m&&(h?l.residualClasses=m:l.residualStyles=m),u}(f,m,l,h),function zu(a,l,u,h,f,m){let y=m?l.classBindings:l.styleBindings,C=Nl(y),T=ju(y);a[h]=u;let R,I=!1;if(Array.isArray(u)?(R=u[1],(null===R||A(u,R)>0)&&(I=!0)):R=u,f)if(0!==T){const J=Nl(a[C+1]);a[h+1]=Oy(J,C),0!==J&&(a[J+1]=Py(a[J+1],h)),a[C+1]=function oT(a,l){return 131071&a|l<<17}(a[C+1],h)}else a[h+1]=Oy(C,0),0!==C&&(a[C+1]=Py(a[C+1],h)),C=h;else a[h+1]=Oy(T,0),0===C?C=h:a[T+1]=Py(a[T+1],h),T=h;I&&(a[h+1]=aC(a[h+1])),qs(a,R,h,!0),qs(a,R,h,!1),function Fy(a,l,u,h,f){const m=f?a.residualClasses:a.residualStyles;null!=m&&"string"==typeof l&&A(m,l)>=0&&(u[h+1]=Ny(u[h+1]))}(l,R,a,h,m),y=Oy(C,T),m?l.classBindings=y:l.styleBindings=y}(f,m,l,u,y,h)}}function hC(a,l,u,h,f){let m=null;const y=u.directiveEnd;let C=u.directiveStylingLast;for(-1===C?C=u.directiveStart:C++;C<y&&(m=l[C],h=Rg(h,m.hostAttrs,f),m!==a);)C++;return null!==a&&(u.directiveStylingLast=C),h}function Rg(a,l,u){const h=u?1:2;let f=-1;if(null!==l)for(let m=0;m<l.length;m++){const y=l[m];"number"==typeof y?f=y:f===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Zr(a,y,!!u||l[++m]))}return void 0===a?null:a}function xR(a,l,u){const h=String(l);""!==h&&!h.includes(" ")&&Zr(a,h,u)}function pT(a,l,u,h,f,m,y,C){if(!(3&l.type))return;const T=a.data,I=T[C+1],R=function lC(a){return 1==(1&a)}(I)?mT(T,l,u,f,ju(I),y):void 0;By(R)||(By(m)||function mR(a){return 2==(2&a)}(I)&&(m=mT(T,null,u,f,C,y)),function Mi(a,l,u,h,f){if(l)f?a.addClass(u,h):a.removeClass(u,h);else{let m=-1===h.indexOf("-")?void 0:Ic.DashCase;null==f?a.removeStyle(u,h,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=Ic.Important),a.setStyle(u,h,f,m))}}(h,y,Ad(Ur(),u),f,m))}function mT(a,l,u,h,f,m){const y=null===l;let C;for(;f>0;){const T=a[f],I=Array.isArray(T),R=I?T[1]:T,H=null===R;let J=u[f+1];J===Kt&&(J=H?_t:void 0);let te=H?x(J,h):R===h?J:void 0;if(I&&!By(te)&&(te=x(T,h)),By(te)&&(C=te,y))return C;const Ee=a[f+1];f=y?Nl(Ee):ju(Ee)}if(null!==l){let T=m?l.residualClasses:l.residualStyles;null!=T&&(C=x(T,h))}return C}function By(a){return void 0!==a}function gT(a,l){return 0!=(a.flags&(l?8:16))}function _T(a,l=""){const u=Me(),h=un(),f=a+gn,m=h.firstCreatePass?ap(h,f,1,l,null):h.data[f],y=vT(h,u,m,l,a);u[f]=y,Vd()&&J0(h,u,y,m),As(m,!1)}let vT=(a,l,u,h,f)=>(ns(!0),function Hf(a,l){return a.createText(l)}(l[Mt],h));function fC(a){return Tp("",a,""),fC}function Tp(a,l,u){const h=Me(),f=Bu(h,a,l,u);return f!==Kt&&Nc(h,Ur(),f),Tp}function qy(a,l,u,h,f){const m=Me(),y=Lc(m,a,l,u,h,f);return y!==Kt&&Nc(m,Ur(),y),qy}function DT(a,l,u){Ba(Zr,gr,Bu(Me(),a,l,u),!0)}function _C(a,l,u){const h=Me();return Co(h,la(),l)&&ao(un(),Wn(),h,a,l,h[Mt],u,!0),_C}function vC(a,l,u){const h=Me();if(Co(h,la(),l)){const m=un(),y=Wn();ao(m,y,h,a,l,RE(wf(m.data),y,h),u,!0)}return vC}const bh=void 0;var $t=["en",[["a","p"],["AM","PM"],bh],[["AM","PM"],bh,bh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],bh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],bh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",bh,"{1} 'at' {0}",bh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ZR(a){const u=Math.floor(Math.abs(a)),h=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let Bc={};function yC(a){const l=function zr(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=Ip(l);if(u)return u;const h=l.split("-")[0];if(u=Ip(h),u)return u;if("en"===h)return $t;throw new se(701,!1)}function kT(a){return yC(a)[Tt.PluralCase]}function Ip(a){return a in Bc||(Bc[a]=Jt.ng&&Jt.ng.common&&Jt.ng.common.locales&&Jt.ng.common.locales[a]),Bc[a]}var Tt=(()=>((Tt=Tt||{})[Tt.LocaleId=0]="LocaleId",Tt[Tt.DayPeriodsFormat=1]="DayPeriodsFormat",Tt[Tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Tt[Tt.DaysFormat=3]="DaysFormat",Tt[Tt.DaysStandalone=4]="DaysStandalone",Tt[Tt.MonthsFormat=5]="MonthsFormat",Tt[Tt.MonthsStandalone=6]="MonthsStandalone",Tt[Tt.Eras=7]="Eras",Tt[Tt.FirstDayOfWeek=8]="FirstDayOfWeek",Tt[Tt.WeekendRange=9]="WeekendRange",Tt[Tt.DateFormat=10]="DateFormat",Tt[Tt.TimeFormat=11]="TimeFormat",Tt[Tt.DateTimeFormat=12]="DateTimeFormat",Tt[Tt.NumberSymbols=13]="NumberSymbols",Tt[Tt.NumberFormats=14]="NumberFormats",Tt[Tt.CurrencyCode=15]="CurrencyCode",Tt[Tt.CurrencySymbol=16]="CurrencySymbol",Tt[Tt.CurrencyName=17]="CurrencyName",Tt[Tt.Currencies=18]="Currencies",Tt[Tt.Directionality=19]="Directionality",Tt[Tt.PluralCase=20]="PluralCase",Tt[Tt.ExtraData=21]="ExtraData",Tt))();const Sp="en-US";let kp=Sp;function BC(a,l,u,h,f){if(a=Pe(a),Array.isArray(a))for(let m=0;m<a.length;m++)BC(a[m],l,u,h,f);else{const m=un(),y=Me();let C=nh(a)?a:Pe(a.provide),T=aE(a);const I=Ii(),R=1048575&I.providerIndexes,H=I.directiveStart,J=I.providerIndexes>>20;if(nh(a)||!a.multi){const te=new Kn(T,f,Oc),Ee=HC(C,l,f?R:R+J,H);-1===Ee?(hr(yu(I,y),m,C),qC(m,a,l.length),l.push(C),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),u.push(te),y.push(te)):(u[Ee]=te,y[Ee]=te)}else{const te=HC(C,l,R+J,H),Ee=HC(C,l,R,R+J),tt=Ee>=0&&u[Ee];if(f&&!tt||!f&&!(te>=0&&u[te])){hr(yu(I,y),m,C);const It=function XT(a,l,u,h,f){const m=new Kn(a,u,Oc);return m.multi=[],m.index=l,m.componentProviders=0,JT(m,f,h&&!u),m}(f?Xy:aO,u.length,f,h,T);!f&&tt&&(u[Ee].providerFactory=It),qC(m,a,l.length,0),l.push(C),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),u.push(It),y.push(It)}else qC(m,a,te>-1?te:Ee,JT(u[f?Ee:te],T,!f&&h));!f&&h&&tt&&u[Ee].componentProviders++}}}function qC(a,l,u,h){const f=nh(l),m=function uk(a){return!!a.useClass}(l);if(f||m){const T=(m?Pe(l.useClass):l).prototype.ngOnDestroy;if(T){const I=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const R=I.indexOf(u);-1===R?I.push(u,[h,T]):I[R+1].push(h,T)}else I.push(u,T)}}}function JT(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function HC(a,l,u,h){for(let f=u;f<h;f++)if(l[f]===a)return f;return-1}function aO(a,l,u,h){return eb(this.multi,[])}function Xy(a,l,u,h){const f=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=Ms(u,u[ot],this.providerFactory.index,h);m=C.slice(0,y),eb(f,m);for(let T=y;T<C.length;T++)m.push(C[T])}else m=[],eb(f,m);return m}function eb(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function tb(a,l=[]){return u=>{u.providersResolver=(h,f)=>function sO(a,l,u){const h=un();if(h.firstCreatePass){const f=Vn(a);BC(u,h.data,h.blueprint,f,!0),BC(l,h.data,h.blueprint,f,!1)}}(h,f?f(a):a,l)}}class Op{}class eA{}function lO(a,l){return new nb(a,l??null,[])}class nb extends Op{constructor(l,u,h){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new uy(this);const f=Dr(l);this._bootstrapComponents=so(f.bootstrap),this._r3Injector=hg(l,u,[{provide:Op,useValue:this},{provide:tn,useValue:this.componentFactoryResolver},...h],ae(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class ib extends eA{constructor(l){super(),this.moduleType=l}create(l){return new nb(this.moduleType,l,[])}}class jC extends Op{constructor(l){super(),this.componentFactoryResolver=new uy(this),this.instance=null;const u=new pw([...l.providers,{provide:Op,useValue:this},{provide:tn,useValue:this.componentFactoryResolver}],l.parent||Sv(),l.debugName,new Set(["environment"]));this.injector=u,l.runEnvironmentInitializers&&u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function uO(a,l,u=null){return new jC({providers:a,parent:l,debugName:u,runEnvironmentInitializers:!0}).injector}let dO=(()=>{class a{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const h=iE(0,u.type),f=h.length>0?uO([h],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,f)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=cn({token:a,providedIn:"environment",factory:()=>new a($n(ih))}),a})();function hO(a){a.getStandaloneInjector=l=>l.get(dO).getOrCreateStandaloneInjector(a)}function yO(a,l,u){const h=Lr()+a,f=Me();return f[h]===Kt?lo(f,h,u?l.call(u):l()):function Fc(a,l){return a[l]}(f,h)}function bO(a,l,u,h){return function sb(a,l,u,h,f,m){const y=l+u;return Co(a,y,f)?lo(a,y+1,m?h.call(m,f):h(f)):xh(a,y+1)}(Me(),Lr(),a,l,u,h)}function sA(a,l,u,h,f){return function ab(a,l,u,h,f,m,y){const C=l+u;return uh(a,C,f,m)?lo(a,C+2,y?h.call(y,f,m):h(f,m)):xh(a,C+2)}(Me(),Lr(),a,l,u,h,f)}function wO(a,l,u,h,f,m){return function lb(a,l,u,h,f,m,y,C){const T=l+u;return function fy(a,l,u,h,f){const m=uh(a,l,u,h);return Co(a,l+2,f)||m}(a,T,f,m,y)?lo(a,T+3,C?h.call(C,f,m,y):h(f,m,y)):xh(a,T+3)}(Me(),Lr(),a,l,u,h,f,m)}function xh(a,l){const u=a[l];return u===Kt?void 0:u}function YC(a){return l=>{setTimeout(a,void 0,l)}}const Ha=class Zg extends r.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,h){let f=l,m=u||(()=>null),y=h;if(l&&"object"==typeof l){const T=l;f=T.next?.bind(T),m=T.error?.bind(T),y=T.complete?.bind(T)}this.__isAsync&&(m=YC(m),f&&(f=YC(f)),y&&(y=YC(y)));const C=super.subscribe({next:f,error:m,complete:y});return l instanceof j.w0&&l.add(C),C}};function EO(){return this._results[Symbol.iterator]()}class hb{get changes(){return this._changes||(this._changes=new Ha)}constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=hb.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=EO)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const h=this;h.dirty=!1;const f=function rr(a){return a.flat(Number.POSITIVE_INFINITY)}(l);(this._changesDetected=!function as(a,l,u){if(a.length!==l.length)return!1;for(let h=0;h<a.length;h++){let f=a[h],m=l[h];if(u&&(f=u(f),m=u(m)),m!==f)return!1}return!0}(h._results,f,u))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Np=(()=>{class a{}return a.__NG_ELEMENT_ID__=TO,a})();const uA=Np,dA=class extends uA{constructor(l,u,h){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=h}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(l,u){return this.createEmbeddedViewImpl(l,u,null)}createEmbeddedViewImpl(l,u,h){const f=this._declarationTContainer.tView,m=sp(this._declarationLView,f,l,16,null,f.declTNode,null,null,null,u||null,h||null);m[Kc]=this._declarationLView[this._declarationTContainer.index];const C=this._declarationLView[Vi];return null!==C&&(m[Vi]=C.createEmbeddedView(f)),oy(f,m,l),new vg(m)}};function TO(){return fb(Ii(),Me())}function fb(a,l){return 4&a.type?new dA(l,a,Rc(a,l)):null}let Bg=(()=>{class a{}return a.__NG_ELEMENT_ID__=_A,a})();function _A(){return QC(Ii(),Me())}const co=Bg,vA=class extends co{constructor(l,u,h){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=h}get element(){return Rc(this._hostTNode,this._hostLView)}get injector(){return new ks(this._hostTNode,this._hostLView)}get parentInjector(){const l=qi(this._hostTNode,this._hostLView);if(bn(l)){const u=mc(l,this._hostLView),h=Ke(l);return new ks(u[ot].data[h+8],u)}return new ks(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=qc(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-Xi}createEmbeddedView(l,u,h){let f,m;"number"==typeof h?f=h:null!=h&&(f=h.index,m=h.injector);const C=l.createEmbeddedViewImpl(u||{},m,null);return this.insertImpl(C,f,false),C}createComponent(l,u,h,f,m){const y=l&&!function vi(a){return"function"==typeof a}(l);let C;if(y)C=u;else{const Ze=u||{};C=Ze.index,h=Ze.injector,f=Ze.projectableNodes,m=Ze.environmentInjector||Ze.ngModuleRef}const T=y?l:new yg(zt(l)),I=h||this.parentInjector;if(!m&&null==T.ngModule){const tt=(y?I:this.parentInjector).get(ih,null);tt&&(m=tt)}zt(T.componentType??{});const te=T.create(I,f,null,m);return this.insertImpl(te.hostView,C,false),te}insert(l,u){return this.insertImpl(l,u,!1)}insertImpl(l,u,h){const f=l._lView,m=f[ot];if(function pf(a){return dr(a[Jn])}(f)){const T=this.indexOf(l);if(-1!==T)this.detach(T);else{const I=f[Jn],R=new vA(I,I[Qi],I[Jn]);R.detach(R.indexOf(l))}}const y=this._adjustIndex(u),C=this._lContainer;if(function Y0(a,l,u,h){const f=Xi+h,m=u.length;h>0&&(u[f-1][Er]=l),h<m-Xi?(l[Er]=u[f],Nf(u,Xi+h,l)):(u.push(l),l[Er]=null),l[Jn]=u;const y=l[Kc];null!==y&&u!==y&&function HM(a,l){const u=a[ul];l[Yn]!==l[Jn][Jn][Yn]&&(a[Ta]=!0),null===u?a[ul]=[l]:u.push(l)}(y,l);const C=l[Vi];null!==C&&C.insertView(a),l[qt]|=128}(m,f,C,y),!h){const T=X0(y,C),I=f[Mt],R=Q0(I,C[Jr]);null!==R&&function BM(a,l,u,h,f,m){h[pi]=f,h[Qi]=l,ft(a,h,u,1,f,m)}(m,C[Qi],I,f,R,T)}return l.attachToViewContainerRef(),Nf(KC(C),y,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=qc(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),h=cs(this._lContainer,u);h&&(_o(KC(this._lContainer),u),W0(h[ot],h))}detach(l){const u=this._adjustIndex(l,-1),h=cs(this._lContainer,u);return h&&null!=_o(KC(this._lContainer),u)?new vg(h):null}_adjustIndex(l,u=0){return l??this.length+u}};function qc(a){return a[Aa]}function KC(a){return a[Aa]||(a[Aa]=[])}function QC(a,l){let u;const h=l[a.index];return dr(h)?u=h:(u=IE(h,l,null,a),l[a.index]=u,ny(l,u)),yA(u,l,a,h),new vA(u,a,l)}let yA=function Hg(a,l,u,h){if(a[Jr])return;let f;f=8&u.type?Cn(h):function qg(a,l){const u=a[Mt],h=u.createComment(""),f=Ar(l,a);return Ru(u,Q0(u,f),h,function qD(a,l){return a.nextSibling(l)}(u,f),!1),h}(l,u),a[Jr]=f};class Dh{constructor(l){this.queryList=l,this.matches=null}clone(){return new Dh(this.queryList)}setDirty(){this.queryList.setDirty()}}class xi{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const h=null!==l.contentQueries?l.contentQueries[0]:u.length,f=[];for(let m=0;m<h;m++){const y=u.getByIndex(m);f.push(this.queries[y.indexInDeclarationView].clone())}return new xi(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==ja(l,u).matches&&this.queries[u].setDirty()}}class pb{constructor(l,u,h=null){this.predicate=l,this.flags=u,this.read=h}}class jg{constructor(l=[]){this.queries=l}elementStart(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let h=0;h<this.length;h++){const f=null!==u?u.length:0,m=this.getByIndex(h).embeddedTView(l,f);m&&(m.indexInDeclarationView=h,null!==u?u.push(m):u=[m])}return null!==u?new jg(u):null}template(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class ga{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new ga(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const m=h[f];this.matchTNodeWithReadOption(l,u,Do(u,m)),this.matchTNodeWithReadOption(l,u,vc(u,l,m,!1,!1))}else h===Np?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,vc(u,l,h,!1,!1))}matchTNodeWithReadOption(l,u,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===tp||f===Bg||f===Np&&4&u.type)this.addMatch(u.index,-2);else{const m=vc(u,l,f,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,h)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function Do(a,l){const u=a.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===l)return u[h+1];return null}function $r(a,l,u,h){return-1===u?function zg(a,l){return 11&a.type?Rc(a,l):4&a.type?fb(a,l):null}(l,a):-2===u?function Eh(a,l,u){return u===tp?Rc(l,a):u===Np?fb(l,a):u===Bg?QC(l,a):void 0}(a,l,h):Ms(a,a[ot],u,l)}function mb(a,l,u,h){const f=l[Vi].queries[h];if(null===f.matches){const m=a.data,y=u.matches,C=[];for(let T=0;T<y.length;T+=2){const I=y[T];C.push(I<0?null:$r(l,m[I],y[T+1],u.metadata.read))}f.matches=C}return f.matches}function XC(a,l,u,h){const f=a.queries.getByIndex(u),m=f.matches;if(null!==m){const y=mb(a,l,f,u);for(let C=0;C<m.length;C+=2){const T=m[C];if(T>0)h.push(y[C/2]);else{const I=m[C+1],R=l[-T];for(let H=Xi;H<R.length;H++){const J=R[H];J[Kc]===J[Jn]&&XC(J[ot],J,I,h)}if(null!==R[ul]){const H=R[ul];for(let J=0;J<H.length;J++){const te=H[J];XC(te[ot],te,I,h)}}}}}return h}function wA(a){const l=Me(),u=un(),h=pu();Nd(h+1);const f=ja(u,h);if(a.dirty&&function K_(a){return 4==(4&a[qt])}(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const m=f.crossesNgTemplate?XC(u,l,h,[]):mb(u,l,f,h);a.reset(m,Ol),a.notifyOnChanges()}return!0}return!1}function gb(a,l,u){const h=un();h.firstCreatePass&&(CA(h,new pb(a,l,u),-1),2==(2&l)&&(h.staticViewQueries=!0)),Th(h,Me(),l)}function Xt(a,l,u,h){const f=un();if(f.firstCreatePass){const m=Ii();CA(f,new pb(l,u,h),m.index),function RO(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(f,a),2==(2&u)&&(f.staticContentQueries=!0)}Th(f,Me(),u)}function Fp(){return function kO(a,l){return a[Vi].queries[l].queryList}(Me(),pu())}function Th(a,l,u){const h=new hb(4==(4&u));(function Ok(a,l,u,h){const f=ME(l);f.push(u),a.firstCreatePass&&kE(a).push(h,f.length-1)})(a,l,h,h.destroy),null===l[Vi]&&(l[Vi]=new xi),l[Vi].queries.push(new Dh(h))}function CA(a,l,u){null===a.queries&&(a.queries=new jg),a.queries.track(new ga(l,u))}function ja(a,l){return a.queries.getByIndex(l)}function ex(a,l){return fb(a,l)}function nx(a){return!!Dr(a)}const NA=new Nn("Application Initializer");let xb=(()=>{class a{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h}),this.appInits=on(NA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const u=[];for(const f of this.appInits){const m=f();if(Sy(m))u.push(m);else if(tT(m)){const y=new Promise((C,T)=>{m.subscribe({complete:C,error:T})});u.push(y)}}const h=()=>{this.done=!0,this.resolve()};Promise.all(u).then(()=>{h()}).catch(f=>{this.reject(f)}),0===u.length&&h(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=cn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),fx=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=cn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const js=new Nn("LocaleId",{providedIn:"root",factory:()=>on(js,et.Optional|et.SkipSelf)||function Wg(){return typeof $localize<"u"&&$localize.locale||Sp}()}),px=new Nn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Eb=(()=>{class a{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new P.X(!1)}add(){this.hasPendingTasks.next(!0);const u=this.taskId++;return this.pendingTasks.add(u),u}remove(u){this.pendingTasks.delete(u),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=cn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();class qO{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let HO=(()=>{class a{compileModuleSync(u){return new ib(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),m=so(Dr(u).declarations).reduce((y,C)=>{const T=zt(C);return T&&y.push(new yg(T)),y},[]);return new qO(h,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=cn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const $O=(()=>Promise.resolve(0))();function gx(a){typeof Zone>"u"?$O.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}function _x(...a){}class kr{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ha(!1),this.onMicrotaskEmpty=new Ha(!1),this.onStable=new Ha(!1),this.onError=new Ha(!1),typeof Zone>"u")throw new se(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&u,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function t3(){let a=Jt.requestAnimationFrame,l=Jt.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function Hc(a){const l=()=>{!function vx(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Jt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Yu(a),a.isCheckStableRunning=!0,Kg(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Yu(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,f,m,y,C)=>{try{return yx(a),u.invokeTask(f,m,y,C)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||a.shouldCoalesceRunChangeDetection)&&l(),bx(a)}},onInvoke:(u,h,f,m,y,C,T)=>{try{return yx(a),u.invoke(f,m,y,C,T)}finally{a.shouldCoalesceRunChangeDetection&&l(),bx(a)}},onHasTask:(u,h,f,m)=>{u.hasTask(f,m),h===f&&("microTask"==m.change?(a._hasPendingMicrotasks=m.microTask,Yu(a),Kg(a)):"macroTask"==m.change&&(a.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,h,f,m)=>(u.handleError(f,m),a.runOutsideAngular(()=>a.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!kr.isInAngularZone())throw new se(909,!1)}static assertNotInAngularZone(){if(kr.isInAngularZone())throw new se(909,!1)}run(l,u,h){return this._inner.run(l,u,h)}runTask(l,u,h,f){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+f,l,UA,_x,_x);try{return m.runTask(y,u,h)}finally{m.cancelTask(y)}}runGuarded(l,u,h){return this._inner.runGuarded(l,u,h)}runOutsideAngular(l){return this._outer.run(l)}}const UA={};function Kg(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Yu(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function yx(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function bx(a){a._nesting--,Kg(a)}class GO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ha,this.onMicrotaskEmpty=new Ha,this.onStable=new Ha,this.onError=new Ha}run(l,u,h){return l.apply(u,h)}runGuarded(l,u,h){return l.apply(u,h)}runOutsideAngular(l){return l()}runTask(l,u,h,f){return l.apply(u,h)}}const zs=new Nn("",{providedIn:"root",factory:wx});function wx(){const a=on(kr);let l=!0;const u=new re.y(f=>{l=a.isStable&&!a.hasPendingMacrotasks&&!a.hasPendingMicrotasks,a.runOutsideAngular(()=>{f.next(l),f.complete()})}),h=new re.y(f=>{let m;a.runOutsideAngular(()=>{m=a.onStable.subscribe(()=>{kr.assertNotInAngularZone(),gx(()=>{!l&&!a.hasPendingMacrotasks&&!a.hasPendingMicrotasks&&(l=!0,f.next(!0))})})});const y=a.onUnstable.subscribe(()=>{kr.assertInAngularZone(),l&&(l=!1,a.runOutsideAngular(()=>{f.next(!1)}))});return()=>{m.unsubscribe(),y.unsubscribe()}});return(0,ue.T)(u,h.pipe((0,xe.B)()))}const VA=new Nn(""),Qg=new Nn("");let Jg,ZA=(()=>{class a{constructor(u,h,f){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Jg||(function BA(a){Jg=a}(f),f.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{kr.assertNotInAngularZone(),gx(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gx(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,f){let m=-1;h&&h>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:f})}whenStable(u,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,f){return[]}}return a.\u0275fac=function(u){return new(u||a)($n(kr),$n(Tb),$n(Qg))},a.\u0275prov=cn({token:a,factory:a.\u0275fac}),a})(),Tb=(()=>{class a{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return Jg?.findTestabilityInTree(this,u,h)??null}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=cn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),Fl=null;const Ab=new Nn("AllowMultipleToken"),Cx=new Nn("PlatformDestroyListeners"),Hp=new Nn("appBootstrapListener");class WO{constructor(l,u){this.name=l,this.token=u}}function Ex(a,l,u=[]){const h=`Platform: ${l}`,f=new Nn(h);return(m=[])=>{let y=$A();if(!y||y.injector.get(Ab,!1)){const C=[...u,...m,{provide:f,useValue:!0}];a?a(C):function xx(a){if(Fl&&!Fl.get(Ab,!1))throw new se(400,!1);(function jp(){!function vl(a){wd=a}(()=>{throw new se(600,!1)})})(),Fl=a;const l=a.get(QO);(function Dx(a){a.get(Mv,null)?.forEach(u=>u())})(a)}(function zA(a=[],l){return Nu.create({name:l,providers:[{provide:fw,useValue:"platform"},{provide:Cx,useValue:new Set([()=>Fl=null])},...a]})}(C,h))}return function jA(a){const l=$A();if(!l)throw new se(401,!1);return l}()}}function $A(){return Fl?.get(QO)??null}let QO=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const f=function XO(a="zone.js",l){return"noop"===a?new GO:"zone.js"===a?new kr(l):a}(h?.ngZone,function JO(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:a?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:a?.runCoalescing??!1}}({eventCoalescing:h?.ngZoneEventCoalescing,runCoalescing:h?.ngZoneRunCoalescing}));return f.run(()=>{const m=function tA(a,l,u){return new nb(a,l,u)}(u.moduleType,this.injector,function WA(a){return[{provide:kr,useFactory:a},{provide:Kf,multi:!0,useFactory:()=>{const l=on(r3,{optional:!0});return()=>l.initialize()}},{provide:YA,useFactory:Xg},{provide:zs,useFactory:wx}]}(()=>f)),y=m.injector.get(Fa,null);return f.runOutsideAngular(()=>{const C=f.onError.subscribe({next:T=>{y.handleError(T)}});m.onDestroy(()=>{$p(this._modules,m),C.unsubscribe()})}),function eP(a,l,u){try{const h=u();return Sy(h)?h.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):h}catch(h){throw l.runOutsideAngular(()=>a.handleError(h)),h}}(y,f,()=>{const C=m.injector.get(xb);return C.runInitializers(),C.donePromise.then(()=>(function bC(a){st(a,"Expected localeId to be defined"),"string"==typeof a&&(kp=a.toLowerCase().replace(/_/g,"-"))}(m.injector.get(js,Sp)||Sp),this._moduleDoBootstrap(m),m))})})}bootstrapModule(u,h=[]){const f=GA({},h);return function qA(a,l,u){const h=new ib(u);return Promise.resolve(h)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(u){const h=u.injector.get(zp);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new se(-403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new se(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(Cx,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)($n(Nu))},a.\u0275prov=cn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function GA(a,l){return Array.isArray(l)?l.reduce(GA,a):{...a,...l}}let zp=(()=>{class a{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=on(YA),this.zoneIsStable=on(zs),this.componentTypes=[],this.components=[],this.isStable=on(Eb).hasPendingTasks.pipe((0,ke.z)(u=>u?(0,he.of)(!1):this.zoneIsStable),(0,we.x)(),(0,xe.B)()),this._injector=on(ih)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,h){const f=u instanceof mE;if(!this._injector.get(xb).done)throw!f&&Es(u),new se(405,!1);let y;y=f?u:this._injector.get(tn).resolveComponentFactory(u),this.componentTypes.push(y.componentType);const C=function YO(a){return a.isBoundToModule}(y)?void 0:this._injector.get(Op),I=y.create(Nu.NULL,[],h||y.selector,C),R=I.location.nativeElement,H=I.injector.get(VA,null);return H?.registerApplication(R),I.onDestroy(()=>{this.detachView(I.hostView),$p(this.components,I),H?.unregisterApplication(R)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new se(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;$p(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const h=this._injector.get(Hp,[]);h.push(...this._bootstrapListeners),h.forEach(f=>f(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>$p(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new se(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=cn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function $p(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}const YA=new Nn("",{providedIn:"root",factory:()=>on(Fa).handleError.bind(void 0)});function Xg(){const a=on(kr),l=on(Fa);return u=>a.runOutsideAngular(()=>l.handleError(u))}let r3=(()=>{class a{constructor(){this.zone=on(kr),this.applicationRef=on(zp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=cn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Ib(){return!1}let tP=(()=>{class a{}return a.__NG_ELEMENT_ID__=nP,a})();function nP(a){return function t_(a,l,u){if(Fo(a)&&!u){const h=tr(a.index,l);return new vg(h,h)}return 47&a.type?new vg(l[Yn],l):null}(Ii(),Me(),16==(16&a))}class kx{constructor(){}supports(l){return hy(l)}create(l){return new Rb(l)}}const sP=(a,l)=>l;class Rb{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||sP}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,h=this._removalsHead,f=0,m=null;for(;u||h;){const y=!h||u&&u.currentIndex<JA(h,f,m)?u:h,C=JA(y,f,m),T=y.currentIndex;if(y===h)f--,h=h._nextRemoved;else if(u=u._next,null==y.previousIndex)f++;else{m||(m=[]);const I=C-f,R=T-f;if(I!=R){for(let J=0;J<I;J++){const te=J<m.length?m[J]:m[J]=0,Ee=te+J;R<=Ee&&Ee<I&&(m[J]=te+1)}m[y.previousIndex]=R-I}}C!==T&&l(y,C,T)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!hy(l))throw new se(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,m,y,u=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let C=0;C<this.length;C++)m=l[C],y=this._trackByFn(C,m),null!==u&&Object.is(u.trackById,y)?(h&&(u=this._verifyReinsertion(u,m,y,C)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,y,C),h=!0),u=u._next}else f=0,function jE(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[Symbol.iterator]();let h;for(;!(h=u.next()).done;)l(h.value)}}(l,C=>{y=this._trackByFn(f,C),null!==u&&Object.is(u.trackById,y)?(h&&(u=this._verifyReinsertion(u,C,y,f)),Object.is(u.item,C)||this._addIdentityChange(u,C)):(u=this._mismatch(u,C,y,f),h=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,h,f){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,m,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,m,f)):l=this._addAfter(new QA(u,h),m,f),l}_verifyReinsertion(l,u,h,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==m?l=this._reinsertAfter(m,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,m=l._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(l,u,h),this._addToMoves(l,h),l}_moveAfter(l,u,h){return this._unlink(l),this._insertAfter(l,u,h),this._addToMoves(l,h),l}_addAfter(l,u,h){return this._insertAfter(l,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,h){const f=null===u?this._itHead:u._next;return l._next=f,l._prev=u,null===f?this._itTail=l:f._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new Rx),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,h=l._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Rx),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class QA{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Yp{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const u=l._prevDup,h=l._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class Rx{constructor(){this.map=new Map}put(l){const u=l.trackById;let h=this.map.get(u);h||(h=new Yp,this.map.set(u,h)),h.add(l)}get(l,u){const f=this.map.get(l);return f?f.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function JA(a,l,u){const h=a.previousIndex;if(null===h)return h;let f=0;return u&&h<u.length&&(f=u[h]),h+l+f}class XA{constructor(){}supports(l){return l instanceof Map||Cg(l)}create(){return new aP}}class aP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||Cg(l)))throw new se(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(f,h);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const h=l._prev;return u._next=l,u._prev=h,l._prev=u,h&&(h._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,u);const m=f._prev,y=f._next;return m&&(m._next=y),y&&(y._prev=m),f._next=null,f._prev=null,f}const h=new Ox(l);return this._records.set(l,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(h=>u(l[h],h))}}class Ox{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function eI(){return new n_([new kx])}let n_=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(null!=h){const f=h.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||eI()),deps:[[a,new Os,new si]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(null!=h)return h;throw new se(901,!1)}}return a.\u0275prov=cn({token:a,providedIn:"root",factory:eI}),a})();function tI(){return new Px([new XA])}let Px=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(h){const f=h.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||tI()),deps:[[a,new Os,new si]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(h)return h;throw new se(901,!1)}}return a.\u0275prov=cn({token:a,providedIn:"root",factory:tI}),a})();const dP=Ex(null,"core",[]);let hP=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)($n(zp))},a.\u0275mod=Yl({type:a}),a.\u0275inj=mi({}),a})();function wP(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}function DP(a){const l=zt(a);if(!l)return null;const u=new yg(l);return{get selector(){return u.selector},get type(){return u.componentType},get inputs(){return u.inputs},get outputs(){return u.outputs},get ngContentSelectors(){return u.ngContentSelectors},get isStandalone(){return l.standalone}}}},3942:(vt,Te,U)=>{U.d(Te,{Z:()=>nt});var r=U(2090),j=U(4859),P=U(6881),re=U(1877);class ue{constructor(Xe,Fe){this._delegate=Xe,this.firebase=Fe,(0,P._addComponent)(Xe,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=Xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Xe){this._delegate.automaticDataCollectionEnabled=Xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Xe=>{this._delegate.checkDestroyed(),Xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(Xe,Fe=P._DEFAULT_ENTRY_NAME){var Ct;this._delegate.checkDestroyed();const mt=this._delegate.container.getProvider(Xe);return!mt.isInitialized()&&"EXPLICIT"===(null===(Ct=mt.getComponent())||void 0===Ct?void 0:Ct.instantiationMode)&&mt.initialize(),mt.getImmediate({identifier:Fe})}_removeServiceInstance(Xe,Fe=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Xe).clearInstance(Fe)}_addComponent(Xe){(0,P._addComponent)(this._delegate,Xe)}_addOrOverwriteComponent(Xe){(0,P._addOrOverwriteComponent)(this._delegate,Xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const xe=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function we(){const Pe=function ke(Pe){const Xe={},Fe={__esModule:!0,initializeApp:function se(Ne,oe={}){const rt=P.initializeApp(Ne,oe);if((0,r.r3)(Xe,rt.name))return Xe[rt.name];const $e=new Pe(rt,Fe);return Xe[rt.name]=$e,$e},app:mt,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function ce(Ne){const oe=Ne.name,rt=oe.replace("-compat","");if(P._registerComponent(Ne)&&"PUBLIC"===Ne.type){const $e=(ln=mt())=>{if("function"!=typeof ln[rt])throw xe.create("invalid-app-argument",{appName:oe});return ln[rt]()};void 0!==Ne.serviceProps&&(0,r.ZB)($e,Ne.serviceProps),Fe[rt]=$e,Pe.prototype[rt]=function(...ln){return this._getService.bind(this,oe).apply(this,Ne.multipleInstances?ln:[])}}return"PUBLIC"===Ne.type?Fe[rt]:null},removeApp:function Ct(Ne){delete Xe[Ne]},useAsService:function ye(Ne,oe){return"serverAuth"===oe?null:oe},modularAPIs:P}};function mt(Ne){if(!(0,r.r3)(Xe,Ne=Ne||P._DEFAULT_ENTRY_NAME))throw xe.create("no-app",{appName:Ne});return Xe[Ne]}return Fe.default=Fe,Object.defineProperty(Fe,"apps",{get:function De(){return Object.keys(Xe).map(Ne=>Xe[Ne])}}),mt.App=Pe,Fe}(ue);return Pe.INTERNAL=Object.assign(Object.assign({},Pe.INTERNAL),{createFirebaseNamespace:we,extendNamespace:function Xe(Fe){(0,r.ZB)(Pe,Fe)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),Pe}(),W=new re.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Pe=self.firebase.SDK_VERSION;Pe&&Pe.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const nt=G;!function Se(Pe){(0,P.registerVersion)("@firebase/app-compat","0.2.11",Pe)}()},6881:(vt,Te,U)=>{U.r(Te),U.d(Te,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>mo,_DEFAULT_ENTRY_NAME:()=>et,_addComponent:()=>gi,_addOrOverwriteComponent:()=>Fr,_apps:()=>xt,_clearComponents:()=>wn,_components:()=>rn,_getProvider:()=>di,_registerComponent:()=>Jt,_removeServiceInstance:()=>Oo,deleteApp:()=>Ln,getApp:()=>Wi,getApps:()=>ii,initializeApp:()=>Qo,onLog:()=>_i,registerVersion:()=>zn,setLogLevel:()=>$n});var r=U(5861),j=U(4859),P=U(1877),re=U(2090);const ue=(_e,le)=>le.some(Ue=>_e instanceof Ue);let he,xe;const G=new WeakMap,W=new WeakMap,ae=new WeakMap,Ve=new WeakMap,Se=new WeakMap;let Xe={get(_e,le,Ue){if(_e instanceof IDBTransaction){if("done"===le)return W.get(_e);if("objectStoreNames"===le)return _e.objectStoreNames||ae.get(_e);if("store"===le)return Ue.objectStoreNames[1]?void 0:Ue.objectStore(Ue.objectStoreNames[0])}return se(_e[le])},set:(_e,le,Ue)=>(_e[le]=Ue,!0),has:(_e,le)=>_e instanceof IDBTransaction&&("done"===le||"store"===le)||le in _e};function mt(_e){return"function"==typeof _e?function Ct(_e){return _e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return xe||(xe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_e)?function(...le){return _e.apply(De(this),le),se(G.get(this))}:function(...le){return se(_e.apply(De(this),le))}:function(le,...Ue){const yt=_e.call(De(this),le,...Ue);return ae.set(yt,le.sort?le.sort():[le]),se(yt)}}(_e):(_e instanceof IDBTransaction&&function Pe(_e){if(W.has(_e))return;const le=new Promise((Ue,yt)=>{const Ut=()=>{_e.removeEventListener("complete",Yt),_e.removeEventListener("error",pn),_e.removeEventListener("abort",pn)},Yt=()=>{Ue(),Ut()},pn=()=>{yt(_e.error||new DOMException("AbortError","AbortError")),Ut()};_e.addEventListener("complete",Yt),_e.addEventListener("error",pn),_e.addEventListener("abort",pn)});W.set(_e,le)}(_e),ue(_e,function ke(){return he||(he=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_e,Xe):_e)}function se(_e){if(_e instanceof IDBRequest)return function nt(_e){const le=new Promise((Ue,yt)=>{const Ut=()=>{_e.removeEventListener("success",Yt),_e.removeEventListener("error",pn)},Yt=()=>{Ue(se(_e.result)),Ut()},pn=()=>{yt(_e.error),Ut()};_e.addEventListener("success",Yt),_e.addEventListener("error",pn)});return le.then(Ue=>{Ue instanceof IDBCursor&&G.set(Ue,_e)}).catch(()=>{}),Se.set(le,_e),le}(_e);if(Ve.has(_e))return Ve.get(_e);const le=mt(_e);return le!==_e&&(Ve.set(_e,le),Se.set(le,_e)),le}const De=_e=>Se.get(_e),Ne=["get","getKey","getAll","getAllKeys","count"],oe=["put","add","delete","clear"],rt=new Map;function $e(_e,le){if(!(_e instanceof IDBDatabase)||le in _e||"string"!=typeof le)return;if(rt.get(le))return rt.get(le);const Ue=le.replace(/FromIndex$/,""),yt=le!==Ue,Ut=oe.includes(Ue);if(!(Ue in(yt?IDBIndex:IDBObjectStore).prototype)||!Ut&&!Ne.includes(Ue))return;const Yt=function(){var pn=(0,r.Z)(function*(Li,...ri){const Xs=this.transaction(Li,Ut?"readwrite":"readonly");let rl=Xs.store;return yt&&(rl=rl.index(ri.shift())),(yield Promise.all([rl[Ue](...ri),Ut&&Xs.done]))[0]});return function(ri){return pn.apply(this,arguments)}}();return rt.set(le,Yt),Yt}!function Fe(_e){Xe=_e(Xe)}(_e=>({..._e,get:(le,Ue,yt)=>$e(le,Ue)||_e.get(le,Ue,yt),has:(le,Ue)=>!!$e(le,Ue)||_e.has(le,Ue)}));class ln{constructor(le){this.container=le}getPlatformInfoString(){return this.container.getProviders().map(Ue=>{if(function Ti(_e){const le=_e.getComponent();return"VERSION"===le?.type}(Ue)){const yt=Ue.getImmediate();return`${yt.library}/${yt.version}`}return null}).filter(Ue=>Ue).join(" ")}}const wr="@firebase/app",pe=new P.Yd("@firebase/app"),et="[DEFAULT]",gt={[wr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},xt=new Map,rn=new Map;function gi(_e,le){try{_e.container.addComponent(le)}catch(Ue){pe.debug(`Component ${le.name} failed to register with FirebaseApp ${_e.name}`,Ue)}}function Fr(_e,le){_e.container.addOrOverwriteComponent(le)}function Jt(_e){const le=_e.name;if(rn.has(le))return pe.debug(`There were multiple attempts to register component ${le}.`),!1;rn.set(le,_e);for(const Ue of xt.values())gi(Ue,_e);return!0}function di(_e,le){const Ue=_e.container.getProvider("heartbeat").getImmediate({optional:!0});return Ue&&Ue.triggerHeartbeat(),_e.container.getProvider(le)}function Oo(_e,le,Ue=et){di(_e,le).clearInstance(Ue)}function wn(){rn.clear()}const Bt=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class jn{constructor(le,Ue,yt){this._isDeleted=!1,this._options=Object.assign({},le),this._config=Object.assign({},Ue),this._name=Ue.name,this._automaticDataCollectionEnabled=Ue.automaticDataCollectionEnabled,this._container=yt,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(le){this.checkDestroyed(),this._automaticDataCollectionEnabled=le}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(le){this._isDeleted=le}checkDestroyed(){if(this.isDeleted)throw Bt.create("app-deleted",{appName:this._name})}}const mo="9.22.1";function Qo(_e,le={}){let Ue=_e;"object"!=typeof le&&(le={name:le});const yt=Object.assign({name:et,automaticDataCollectionEnabled:!1},le),Ut=yt.name;if("string"!=typeof Ut||!Ut)throw Bt.create("bad-app-name",{appName:String(Ut)});if(Ue||(Ue=(0,re.aH)()),!Ue)throw Bt.create("no-options");const Yt=xt.get(Ut);if(Yt){if((0,re.vZ)(Ue,Yt.options)&&(0,re.vZ)(yt,Yt.config))return Yt;throw Bt.create("duplicate-app",{appName:Ut})}const pn=new j.H0(Ut);for(const ri of rn.values())pn.addComponent(ri);const Li=new jn(Ue,yt,pn);return xt.set(Ut,Li),Li}function Wi(_e=et){const le=xt.get(_e);if(!le&&_e===et&&(0,re.aH)())return Qo();if(!le)throw Bt.create("no-app",{appName:_e});return le}function ii(){return Array.from(xt.values())}function Ln(_e){return hi.apply(this,arguments)}function hi(){return(hi=(0,r.Z)(function*(_e){const le=_e.name;xt.has(le)&&(xt.delete(le),yield Promise.all(_e.container.getProviders().map(Ue=>Ue.delete())),_e.isDeleted=!0)})).apply(this,arguments)}function zn(_e,le,Ue){var yt;let Ut=null!==(yt=gt[_e])&&void 0!==yt?yt:_e;Ue&&(Ut+=`-${Ue}`);const Yt=Ut.match(/\s|\//),pn=le.match(/\s|\//);if(Yt||pn){const Li=[`Unable to register library "${Ut}" with version "${le}":`];return Yt&&Li.push(`library name "${Ut}" contains illegal characters (whitespace or "/")`),Yt&&pn&&Li.push("and"),pn&&Li.push(`version name "${le}" contains illegal characters (whitespace or "/")`),void pe.warn(Li.join(" "))}Jt(new j.wA(`${Ut}-version`,()=>({library:Ut,version:le}),"VERSION"))}function _i(_e,le){if(null!==_e&&"function"!=typeof _e)throw Bt.create("invalid-log-argument");(0,P.Am)(_e,le)}function $n(_e){(0,P.Ub)(_e)}const xr="firebase-heartbeat-database",on=1,Y="firebase-heartbeat-store";let z=null;function L(){return z||(z=function ce(_e,le,{blocked:Ue,upgrade:yt,blocking:Ut,terminated:Yt}={}){const pn=indexedDB.open(_e,le),Li=se(pn);return yt&&pn.addEventListener("upgradeneeded",ri=>{yt(se(pn.result),ri.oldVersion,ri.newVersion,se(pn.transaction),ri)}),Ue&&pn.addEventListener("blocked",ri=>Ue(ri.oldVersion,ri.newVersion,ri)),Li.then(ri=>{Yt&&ri.addEventListener("close",()=>Yt()),Ut&&ri.addEventListener("versionchange",Xs=>Ut(Xs.oldVersion,Xs.newVersion,Xs))}).catch(()=>{}),Li}(xr,on,{upgrade:(_e,le)=>{0===le&&_e.createObjectStore(Y)}}).catch(_e=>{throw Bt.create("idb-open",{originalErrorMessage:_e.message})})),z}function O(){return(O=(0,r.Z)(function*(_e){try{return yield(yield L()).transaction(Y).objectStore(Y).get(We(_e))}catch(le){if(le instanceof re.ZR)pe.warn(le.message);else{const Ue=Bt.create("idb-get",{originalErrorMessage:le?.message});pe.warn(Ue.message)}}})).apply(this,arguments)}function ie(_e,le){return be.apply(this,arguments)}function be(){return(be=(0,r.Z)(function*(_e,le){try{const yt=(yield L()).transaction(Y,"readwrite");yield yt.objectStore(Y).put(le,We(_e)),yield yt.done}catch(Ue){if(Ue instanceof re.ZR)pe.warn(Ue.message);else{const yt=Bt.create("idb-set",{originalErrorMessage:Ue?.message});pe.warn(yt.message)}}})).apply(this,arguments)}function We(_e){return`${_e.name}!${_e.options.appId}`}class _t{constructor(le){this.container=le,this._heartbeatsCache=null;const Ue=this.container.getProvider("app").getImmediate();this._storage=new jt(Ue),this._heartbeatsCachePromise=this._storage.read().then(yt=>(this._heartbeatsCache=yt,yt))}triggerHeartbeat(){var le=this;return(0,r.Z)(function*(){const yt=le.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ut=Ft();if(null===le._heartbeatsCache&&(le._heartbeatsCache=yield le._heartbeatsCachePromise),le._heartbeatsCache.lastSentHeartbeatDate!==Ut&&!le._heartbeatsCache.heartbeats.some(Yt=>Yt.date===Ut))return le._heartbeatsCache.heartbeats.push({date:Ut,agent:yt}),le._heartbeatsCache.heartbeats=le._heartbeatsCache.heartbeats.filter(Yt=>{const pn=new Date(Yt.date).valueOf();return Date.now()-pn<=2592e6}),le._storage.overwrite(le._heartbeatsCache)})()}getHeartbeatsHeader(){var le=this;return(0,r.Z)(function*(){if(null===le._heartbeatsCache&&(yield le._heartbeatsCachePromise),null===le._heartbeatsCache||0===le._heartbeatsCache.heartbeats.length)return"";const Ue=Ft(),{heartbeatsToSend:yt,unsentEntries:Ut}=function Mn(_e,le=1024){const Ue=[];let yt=_e.slice();for(const Ut of _e){const Yt=Ue.find(pn=>pn.agent===Ut.agent);if(Yt){if(Yt.dates.push(Ut.date),Fi(Ue)>le){Yt.dates.pop();break}}else if(Ue.push({agent:Ut.agent,dates:[Ut.date]}),Fi(Ue)>le){Ue.pop();break}yt=yt.slice(1)}return{heartbeatsToSend:Ue,unsentEntries:yt}}(le._heartbeatsCache.heartbeats),Yt=(0,re.L)(JSON.stringify({version:2,heartbeats:yt}));return le._heartbeatsCache.lastSentHeartbeatDate=Ue,Ut.length>0?(le._heartbeatsCache.heartbeats=Ut,yield le._storage.overwrite(le._heartbeatsCache)):(le._heartbeatsCache.heartbeats=[],le._storage.overwrite(le._heartbeatsCache)),Yt})()}}function Ft(){return(new Date).toISOString().substring(0,10)}class jt{constructor(le){this.app=le,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,r.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var le=this;return(0,r.Z)(function*(){return(yield le._canUseIndexedDBPromise)&&(yield function Z(_e){return O.apply(this,arguments)}(le.app))||{heartbeats:[]}})()}overwrite(le){var Ue=this;return(0,r.Z)(function*(){var yt;if(yield Ue._canUseIndexedDBPromise){const Yt=yield Ue.read();return ie(Ue.app,{lastSentHeartbeatDate:null!==(yt=le.lastSentHeartbeatDate)&&void 0!==yt?yt:Yt.lastSentHeartbeatDate,heartbeats:le.heartbeats})}})()}add(le){var Ue=this;return(0,r.Z)(function*(){var yt;if(yield Ue._canUseIndexedDBPromise){const Yt=yield Ue.read();return ie(Ue.app,{lastSentHeartbeatDate:null!==(yt=le.lastSentHeartbeatDate)&&void 0!==yt?yt:Yt.lastSentHeartbeatDate,heartbeats:[...Yt.heartbeats,...le.heartbeats]})}})()}}function Fi(_e){return(0,re.L)(JSON.stringify({version:2,heartbeats:_e})).length}!function Ki(_e){Jt(new j.wA("platform-logger",le=>new ln(le),"PRIVATE")),Jt(new j.wA("heartbeat",le=>new _t(le),"PRIVATE")),zn(wr,"0.9.11",_e),zn(wr,"0.9.11","esm2017"),zn("fire-js","")}("")},4859:(vt,Te,U)=>{U.d(Te,{H0:()=>ke,wA:()=>P,zt:()=>ue});var r=U(5861),j=U(2090);class P{constructor(G,W,ae){this.name=G,this.instanceFactory=W,this.type=ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const re="[DEFAULT]";class ue{constructor(G,W){this.name=G,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const W=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(W)){const ae=new j.BH;if(this.instancesDeferred.set(W,ae),this.isInitialized(W)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:W});Ve&&ae.resolve(Ve)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(G){var W;const ae=this.normalizeInstanceIdentifier(G?.identifier),Ve=null!==(W=G?.optional)&&void 0!==W&&W;if(!this.isInitialized(ae)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ae})}catch(Se){if(Ve)return null;throw Se}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function xe(we){return"EAGER"===we.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[W,ae]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(W);try{const Se=this.getOrInitializeService({instanceIdentifier:Ve});ae.resolve(Se)}catch{}}}}clearInstance(G=re){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,r.Z)(function*(){const W=Array.from(G.instances.values());yield Promise.all([...W.filter(ae=>"INTERNAL"in ae).map(ae=>ae.INTERNAL.delete()),...W.filter(ae=>"_delete"in ae).map(ae=>ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=re){return this.instances.has(G)}getOptions(G=re){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:W={}}=G,ae=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(ae))throw Error(`${this.name}(${ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:ae,options:W});for(const[Se,nt]of this.instancesDeferred.entries())ae===this.normalizeInstanceIdentifier(Se)&&nt.resolve(Ve);return Ve}onInit(G,W){var ae;const Ve=this.normalizeInstanceIdentifier(W),Se=null!==(ae=this.onInitCallbacks.get(Ve))&&void 0!==ae?ae:new Set;Se.add(G),this.onInitCallbacks.set(Ve,Se);const nt=this.instances.get(Ve);return nt&&G(nt,Ve),()=>{Se.delete(G)}}invokeOnInitCallbacks(G,W){const ae=this.onInitCallbacks.get(W);if(ae)for(const Ve of ae)try{Ve(G,W)}catch{}}getOrInitializeService({instanceIdentifier:G,options:W={}}){let ae=this.instances.get(G);if(!ae&&this.component&&(ae=this.component.instanceFactory(this.container,{instanceIdentifier:(we=G,we===re?void 0:we),options:W}),this.instances.set(G,ae),this.instancesOptions.set(G,W),this.invokeOnInitCallbacks(ae,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,ae)}catch{}var we;return ae||null}normalizeInstanceIdentifier(G=re){return this.component?this.component.multipleInstances?G:re:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ke{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const W=this.getProvider(G.name);if(W.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);W.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const W=new ue(G,this);return this.providers.set(G,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:(vt,Te,U)=>{U.d(Te,{Am:()=>we,Ub:()=>ke,Yd:()=>xe,in:()=>j});const r=[];var j=(()=>((j=j||{})[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",j))();const P={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},re=j.INFO,ue={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},he=(G,W,...ae)=>{if(W<G.logLevel)return;const Ve=(new Date).toISOString(),Se=ue[W];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[Se](`[${Ve}]  ${G.name}:`,...ae)};class xe{constructor(W){this.name=W,this._logLevel=re,this._logHandler=he,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in j))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?P[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...W),this._logHandler(this,j.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...W),this._logHandler(this,j.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,j.INFO,...W),this._logHandler(this,j.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,j.WARN,...W),this._logHandler(this,j.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...W),this._logHandler(this,j.ERROR,...W)}}function ke(G){r.forEach(W=>{W.setLogLevel(G)})}function we(G,W){for(const ae of r){let Ve=null;W&&W.level&&(Ve=P[W.level]),ae.userLogHandler=null===G?null:(Se,nt,...Pe)=>{const Xe=Pe.map(Fe=>{if(null==Fe)return null;if("string"==typeof Fe)return Fe;if("number"==typeof Fe||"boolean"==typeof Fe)return Fe.toString();if(Fe instanceof Error)return Fe.message;try{return JSON.stringify(Fe)}catch{return null}}).filter(Fe=>Fe).join(" ");nt>=(Ve??Se.logLevel)&&G({level:j[nt].toLowerCase(),message:Xe,args:Pe,type:Se.name})}}}},259:(vt,Te,U)=>{U.d(Te,{C6:()=>r.getApps,KN:()=>r.registerVersion,Mq:()=>r.getApp,ZF:()=>r.initializeApp});var r=U(6881);(0,r.registerVersion)("firebase","9.22.1","app")},9260:(vt,Te,U)=>{U.d(Te,{Z:()=>r.Z});var r=U(3942);r.Z.registerVersion("firebase","9.22.1","app-compat")},9568:(vt,Te,U)=>{U.r(Te);var r=U(5861),j=U(3942),P=U(1389),re=U(2090),xe=(U(6881),U(1877),U(4859));function ke(){return window}function W(){return W=(0,r.Z)(function*(L,Z,O){var ie;const{BuildInfo:be}=ke();(0,P.as)(Z.sessionId,"AuthEvent did not contain a session ID");const We=yield function Fe(L){return Ct.apply(this,arguments)}(Z.sessionId),Dt={};return(0,P.at)()?Dt.ibi=be.packageName:(0,P.au)()?Dt.apn=be.packageName:(0,P.av)(L,"operation-not-supported-in-this-environment"),be.displayName&&(Dt.appDisplayName=be.displayName),Dt.sessionId=We,(0,P.aw)(L,O,Z.type,void 0,null!==(ie=Z.eventId)&&void 0!==ie?ie:void 0,Dt)}),W.apply(this,arguments)}function Ve(){return(Ve=(0,r.Z)(function*(L){const{BuildInfo:Z}=ke(),O={};(0,P.at)()?O.iosBundleId=Z.packageName:(0,P.au)()?O.androidPackageName=Z.packageName:(0,P.av)(L,"operation-not-supported-in-this-environment"),yield(0,P.ax)(L,O)})).apply(this,arguments)}function Pe(){return(Pe=(0,r.Z)(function*(L,Z,O){const{cordova:ie}=ke();let be=()=>{};try{yield new Promise((We,Dt)=>{let Et=null;function _t(){var jt;We();const Fi=null===(jt=ie.plugins.browsertab)||void 0===jt?void 0:jt.close;"function"==typeof Fi&&Fi(),"function"==typeof O?.close&&O.close()}function Ft(){Et||(Et=window.setTimeout(()=>{Dt((0,P.az)(L,"redirect-cancelled-by-user"))},2e3))}function Mn(){"visible"===document?.visibilityState&&Ft()}Z.addPassiveListener(_t),document.addEventListener("resume",Ft,!1),(0,P.au)()&&document.addEventListener("visibilitychange",Mn,!1),be=()=>{Z.removePassiveListener(_t),document.removeEventListener("resume",Ft,!1),document.removeEventListener("visibilitychange",Mn,!1),Et&&window.clearTimeout(Et)}})}finally{be()}})).apply(this,arguments)}function Ct(){return(Ct=(0,r.Z)(function*(L){const Z=function mt(L){if((0,P.as)(/[0-9a-zA-Z]+/.test(L),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(L);const Z=new ArrayBuffer(L.length),O=new Uint8Array(Z);for(let ie=0;ie<L.length;ie++)O[ie]=L.charCodeAt(ie);return O}(L),O=yield crypto.subtle.digest("SHA-256",Z);return Array.from(new Uint8Array(O)).map(be=>be.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class De extends P.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Z=>{this.resolveInialized=Z})}addPassiveListener(Z){this.passiveListeners.add(Z)}removePassiveListener(Z){this.passiveListeners.delete(Z)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Z){return this.resolveInialized(),this.passiveListeners.forEach(O=>O(Z)),super.onEvent(Z)}initialized(){var Z=this;return(0,r.Z)(function*(){yield Z.initPromise})()}}function Ne(L){return oe.apply(this,arguments)}function oe(){return(oe=(0,r.Z)(function*(L){const Z=yield ln()._get(Ti(L));return Z&&(yield ln()._remove(Ti(L))),Z})).apply(this,arguments)}function $e(){const L=[];for(let O=0;O<20;O++){const ie=Math.floor(62*Math.random());L.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ie))}return L.join("")}function ln(){return(0,P.aC)(P.b)}function Ti(L){return(0,P.aD)("authEvent",L.config.apiKey,L.name)}function pe(L){if(!L?.includes("?"))return{};const[Z,...O]=L.split("?");return(0,re.zd)(O.join("?"))}const Le=class Ae{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aE,this._overrideRedirectResult=P.aF}_initialize(Z){var O=this;return(0,r.Z)(function*(){const ie=Z._key();let be=O.eventManagers.get(ie);return be||(be=new De(Z),O.eventManagers.set(ie,be),O.attachCallbackListeners(Z,be)),be})()}_openPopup(Z){(0,P.av)(Z,"operation-not-supported-in-this-environment")}_openRedirect(Z,O,ie,be){var We=this;return(0,r.Z)(function*(){!function Xe(L){var Z,O,ie,be,We,Dt,Et,_t,Ft,Mn;const jt=ke();(0,P.aA)("function"==typeof(null===(Z=jt?.universalLinks)||void 0===Z?void 0:Z.subscribe),L,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.aA)(typeof(null===(O=jt?.BuildInfo)||void 0===O?void 0:O.packageName)<"u",L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.aA)("function"==typeof(null===(We=null===(be=null===(ie=jt?.cordova)||void 0===ie?void 0:ie.plugins)||void 0===be?void 0:be.browsertab)||void 0===We?void 0:We.openUrl),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aA)("function"==typeof(null===(_t=null===(Et=null===(Dt=jt?.cordova)||void 0===Dt?void 0:Dt.plugins)||void 0===Et?void 0:Et.browsertab)||void 0===_t?void 0:_t.isAvailable),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aA)("function"==typeof(null===(Mn=null===(Ft=jt?.cordova)||void 0===Ft?void 0:Ft.InAppBrowser)||void 0===Mn?void 0:Mn.open),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Z);const Dt=yield We._initialize(Z);yield Dt.initialized(),Dt.resetRedirect(),(0,P.aG)(),yield We._originValidation(Z);const Et=function ce(L,Z,O=null){return{type:Z,eventId:O,urlResponse:null,sessionId:$e(),postBody:null,tenantId:L.tenantId,error:(0,P.az)(L,"no-auth-event")}}(Z,ie,be);yield function ye(L,Z){return ln()._set(Ti(L),Z)}(Z,Et);const _t=yield function G(L,Z,O){return W.apply(this,arguments)}(Z,Et,O),Ft=yield function Se(L){const{cordova:Z}=ke();return new Promise(O=>{Z.plugins.browsertab.isAvailable(ie=>{let be=null;ie?Z.plugins.browsertab.openUrl(L):be=Z.InAppBrowser.open(L,(0,P.ay)()?"_blank":"_system","location=yes"),O(be)})})}(_t);return function nt(L,Z,O){return Pe.apply(this,arguments)}(Z,Dt,Ft)})()}_isIframeWebStorageSupported(Z,O){throw new Error("Method not implemented.")}_originValidation(Z){const O=Z._key();return this.originValidationPromises[O]||(this.originValidationPromises[O]=function ae(L){return Ve.apply(this,arguments)}(Z)),this.originValidationPromises[O]}attachCallbackListeners(Z,O){const{universalLinks:ie,handleOpenURL:be,BuildInfo:We}=ke(),Dt=setTimeout((0,r.Z)(function*(){yield Ne(Z),O.onEvent(Ye())}),500),Et=function(){var Mn=(0,r.Z)(function*(jt){clearTimeout(Dt);const Fi=yield Ne(Z);let Ki=null;Fi&&jt?.url&&(Ki=function rt(L,Z){var O,ie;const be=function xs(L){const Z=pe(L),O=Z.link?decodeURIComponent(Z.link):void 0,ie=pe(O).link,be=Z.deep_link_id?decodeURIComponent(Z.deep_link_id):void 0;return pe(be).link||be||ie||O||L}(Z);if(be.includes("/__/auth/callback")){const We=pe(be),Dt=We.firebaseError?function wr(L){try{return JSON.parse(L)}catch{return null}}(decodeURIComponent(We.firebaseError)):null,Et=null===(ie=null===(O=Dt?.code)||void 0===O?void 0:O.split("auth/"))||void 0===ie?void 0:ie[1],_t=Et?(0,P.az)(Et):null;return _t?{type:L.type,eventId:L.eventId,tenantId:L.tenantId,error:_t,urlResponse:null,sessionId:null,postBody:null}:{type:L.type,eventId:L.eventId,tenantId:L.tenantId,sessionId:L.sessionId,urlResponse:be,postBody:null}}return null}(Fi,jt.url)),O.onEvent(Ki||Ye())});return function(Fi){return Mn.apply(this,arguments)}}();typeof ie<"u"&&"function"==typeof ie.subscribe&&ie.subscribe(null,Et);const _t=be,Ft=`${We.packageName.toLowerCase()}://`;ke().handleOpenURL=function(){var Mn=(0,r.Z)(function*(jt){if(jt.toLowerCase().startsWith(Ft)&&Et({url:jt}),"function"==typeof _t)try{_t(jt)}catch(Fi){console.error(Fi)}});return function(jt){return Mn.apply(this,arguments)}}()}};function Ye(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.az)("no-auth-event")}}function st(){var L;return(null===(L=self?.location)||void 0===L?void 0:L.protocol)||null}function fn(L=(0,re.z$)()){return!("file:"!==st()&&"ionic:"!==st()&&"capacitor:"!==st()||!L.toLowerCase().match(/iphone|ipad|ipod|android/))}function mi(){try{const L=self.localStorage,Z=P.aL();if(L)return L.setItem(Z,"1"),L.removeItem(Z),!function Ai(L=(0,re.z$)()){return function Qn(){return(0,re.w1)()&&11===document?.documentMode}()||function cn(L=(0,re.z$)()){return/Edge\/\d+/.test(L)}(L)}()||(0,re.hl)()}catch{return ui()&&(0,re.hl)()}return!1}function ui(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ti(){return(function bt(){return"http:"===st()||"https:"===st()}()||(0,re.ru)()||fn())&&!function Tn(){return(0,re.b$)()||(0,re.UG)()}()&&mi()&&!ui()}function Qr(){return fn()&&typeof document<"u"}function po(){return(po=(0,r.Z)(function*(){return!!Qr()&&new Promise(L=>{const Z=setTimeout(()=>{L(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Z),L(!0)})})})).apply(this,arguments)}const ni={LOCAL:"local",NONE:"none",SESSION:"session"},Cr=P.aA,Ko="persistence";function gt(L){return xt.apply(this,arguments)}function xt(){return(xt=(0,r.Z)(function*(L){yield L._initializationPromise;const Z=gi(),O=P.aD(Ko,L.config.apiKey,L.name);Z&&Z.setItem(O,L._getPersistence())})).apply(this,arguments)}function gi(){var L;try{return(null===(L=function Yi(){return typeof window<"u"?window:null}())||void 0===L?void 0:L.sessionStorage)||null}catch{return null}}const Fr=P.aA;class Jt{constructor(){this.browserResolver=P.aC(P.k),this.cordovaResolver=P.aC(Le),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aE,this._overrideRedirectResult=P.aF}_initialize(Z){var O=this;return(0,r.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._initialize(Z)})()}_openPopup(Z,O,ie,be){var We=this;return(0,r.Z)(function*(){return yield We.selectUnderlyingResolver(),We.assertedUnderlyingResolver._openPopup(Z,O,ie,be)})()}_openRedirect(Z,O,ie,be){var We=this;return(0,r.Z)(function*(){return yield We.selectUnderlyingResolver(),We.assertedUnderlyingResolver._openRedirect(Z,O,ie,be)})()}_isIframeWebStorageSupported(Z,O){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Z,O)}_originValidation(Z){return this.assertedUnderlyingResolver._originValidation(Z)}get _shouldInitProactively(){return Qr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Fr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Z=this;return(0,r.Z)(function*(){if(Z.underlyingResolver)return;const O=yield function Ca(){return po.apply(this,arguments)}();Z.underlyingResolver=O?Z.cordovaResolver:Z.browserResolver})()}}function di(L){return L.unwrap()}function wn(L){return Bt(L)}function Bt(L){const{_tokenResponse:Z}=L instanceof re.ZR?L.customData:L;if(!Z)return null;if(!(L instanceof re.ZR)&&"temporaryProof"in Z&&"phoneNumber"in Z)return P.P.credentialFromResult(L);const O=Z.providerId;if(!O||O===P.p.PASSWORD)return null;let ie;switch(O){case P.p.GOOGLE:ie=P.V;break;case P.p.FACEBOOK:ie=P.U;break;case P.p.GITHUB:ie=P.W;break;case P.p.TWITTER:ie=P.Z;break;default:const{oauthIdToken:be,oauthAccessToken:We,oauthTokenSecret:Dt,pendingToken:Et,nonce:_t}=Z;return We||Dt||be||Et?Et?O.startsWith("saml.")?P.aO._create(O,Et):P.L._fromParams({providerId:O,signInMethod:O,pendingToken:Et,idToken:be,accessToken:We}):new P.X(O).credential({idToken:be,accessToken:We,rawNonce:_t}):null}return L instanceof re.ZR?ie.credentialFromError(L):ie.credentialFromResult(L)}function jn(L,Z){return Z.catch(O=>{throw O instanceof re.ZR&&function lr(L,Z){var O;const ie=null===(O=Z.customData)||void 0===O?void 0:O._tokenResponse;if("auth/multi-factor-auth-required"===Z?.code)Z.resolver=new Wi(L,P.aq(L,Z));else if(ie){const be=Bt(Z),We=Z;be&&(We.credential=be,We.tenantId=ie.tenantId||void 0,We.email=ie.email||void 0,We.phoneNumber=ie.phoneNumber||void 0)}}(L,O),O}).then(O=>{const be=O.user;return{operationType:O.operationType,credential:wn(O),additionalUserInfo:P.ao(O),user:ii.getOrCreate(be)}})}function mo(L,Z){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,r.Z)(function*(L,Z){const O=yield Z;return{verificationId:O.verificationId,confirm:ie=>jn(L,O.confirm(ie))}})).apply(this,arguments)}class Wi{constructor(Z,O){this.resolver=O,this.auth=function Oo(L){return L.wrapped()}(Z)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Z){return jn(di(this.auth),this.resolver.resolveSignIn(Z))}}class ii{constructor(Z){this._delegate=Z,this.multiFactor=P.ar(Z)}static getOrCreate(Z){return ii.USER_MAP.has(Z)||ii.USER_MAP.set(Z,new ii(Z)),ii.USER_MAP.get(Z)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Z){return this._delegate.getIdTokenResult(Z)}getIdToken(Z){return this._delegate.getIdToken(Z)}linkAndRetrieveDataWithCredential(Z){return this.linkWithCredential(Z)}linkWithCredential(Z){var O=this;return(0,r.Z)(function*(){return jn(O.auth,P.a0(O._delegate,Z))})()}linkWithPhoneNumber(Z,O){var ie=this;return(0,r.Z)(function*(){return mo(ie.auth,P.l(ie._delegate,Z,O))})()}linkWithPopup(Z){var O=this;return(0,r.Z)(function*(){return jn(O.auth,P.d(O._delegate,Z,Jt))})()}linkWithRedirect(Z){var O=this;return(0,r.Z)(function*(){return yield gt(P.aH(O.auth)),P.g(O._delegate,Z,Jt)})()}reauthenticateAndRetrieveDataWithCredential(Z){return this.reauthenticateWithCredential(Z)}reauthenticateWithCredential(Z){var O=this;return(0,r.Z)(function*(){return jn(O.auth,P.a1(O._delegate,Z))})()}reauthenticateWithPhoneNumber(Z,O){return mo(this.auth,P.r(this._delegate,Z,O))}reauthenticateWithPopup(Z){return jn(this.auth,P.e(this._delegate,Z,Jt))}reauthenticateWithRedirect(Z){var O=this;return(0,r.Z)(function*(){return yield gt(P.aH(O.auth)),P.h(O._delegate,Z,Jt)})()}sendEmailVerification(Z){return P.ae(this._delegate,Z)}unlink(Z){var O=this;return(0,r.Z)(function*(){return yield P.an(O._delegate,Z),O})()}updateEmail(Z){return P.aj(this._delegate,Z)}updatePassword(Z){return P.ak(this._delegate,Z)}updatePhoneNumber(Z){return P.u(this._delegate,Z)}updateProfile(Z){return P.ai(this._delegate,Z)}verifyBeforeUpdateEmail(Z,O){return P.af(this._delegate,Z,O)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ii.USER_MAP=new WeakMap;const Ln=P.aA;let hi=(()=>{class L{constructor(O,ie){if(this.app=O,ie.isInitialized())return this._delegate=ie.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:be}=O.options;Ln(be,"invalid-api-key",{appName:O.name}),Ln(be,"invalid-api-key",{appName:O.name});const We=typeof window<"u"?Jt:void 0;this._delegate=ie.initialize({options:{persistence:_i(be,O.name),popupRedirectResolver:We}}),this._delegate._updateErrorMap(P.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ii.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(O){this._delegate.languageCode=O}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(O){this._delegate.tenantId=O}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(O,ie){P.I(this._delegate,O,ie)}applyActionCode(O){return P.a5(this._delegate,O)}checkActionCode(O){return P.a6(this._delegate,O)}confirmPasswordReset(O,ie){return P.a4(this._delegate,O,ie)}createUserWithEmailAndPassword(O,ie){var be=this;return(0,r.Z)(function*(){return jn(be._delegate,P.a8(be._delegate,O,ie))})()}fetchProvidersForEmail(O){return this.fetchSignInMethodsForEmail(O)}fetchSignInMethodsForEmail(O){return P.ad(this._delegate,O)}isSignInWithEmailLink(O){return P.ab(this._delegate,O)}getRedirectResult(){var O=this;return(0,r.Z)(function*(){Ln(ti(),O._delegate,"operation-not-supported-in-this-environment");const ie=yield P.j(O._delegate,Jt);return ie?jn(O._delegate,Promise.resolve(ie)):{credential:null,user:null}})()}addFrameworkForLogging(O){!function qe(L,Z){(0,P.aH)(L)._logFramework(Z)}(this._delegate,O)}onAuthStateChanged(O,ie,be){const{next:We,error:Dt,complete:Et}=zn(O,ie,be);return this._delegate.onAuthStateChanged(We,Dt,Et)}onIdTokenChanged(O,ie,be){const{next:We,error:Dt,complete:Et}=zn(O,ie,be);return this._delegate.onIdTokenChanged(We,Dt,Et)}sendSignInLinkToEmail(O,ie){return P.aa(this._delegate,O,ie)}sendPasswordResetEmail(O,ie){return P.a3(this._delegate,O,ie||void 0)}setPersistence(O){var ie=this;return(0,r.Z)(function*(){let be;switch(function et(L,Z){Cr(Object.values(ni).includes(Z),L,"invalid-persistence-type"),(0,re.b$)()?Cr(Z!==ni.SESSION,L,"unsupported-persistence-type"):(0,re.UG)()?Cr(Z===ni.NONE,L,"unsupported-persistence-type"):ui()?Cr(Z===ni.NONE||Z===ni.LOCAL&&(0,re.hl)(),L,"unsupported-persistence-type"):Cr(Z===ni.NONE||mi(),L,"unsupported-persistence-type")}(ie._delegate,O),O){case ni.SESSION:be=P.a;break;case ni.LOCAL:be=(yield P.aC(P.i)._isAvailable())?P.i:P.b;break;case ni.NONE:be=P.N;break;default:return P.av("argument-error",{appName:ie._delegate.name})}return ie._delegate.setPersistence(be)})()}signInAndRetrieveDataWithCredential(O){return this.signInWithCredential(O)}signInAnonymously(){return jn(this._delegate,P._(this._delegate))}signInWithCredential(O){return jn(this._delegate,P.$(this._delegate,O))}signInWithCustomToken(O){return jn(this._delegate,P.a2(this._delegate,O))}signInWithEmailAndPassword(O,ie){return jn(this._delegate,P.a9(this._delegate,O,ie))}signInWithEmailLink(O,ie){return jn(this._delegate,P.ac(this._delegate,O,ie))}signInWithPhoneNumber(O,ie){return mo(this._delegate,P.s(this._delegate,O,ie))}signInWithPopup(O){var ie=this;return(0,r.Z)(function*(){return Ln(ti(),ie._delegate,"operation-not-supported-in-this-environment"),jn(ie._delegate,P.c(ie._delegate,O,Jt))})()}signInWithRedirect(O){var ie=this;return(0,r.Z)(function*(){return Ln(ti(),ie._delegate,"operation-not-supported-in-this-environment"),yield gt(ie._delegate),P.f(ie._delegate,O,Jt)})()}updateCurrentUser(O){return this._delegate.updateCurrentUser(O)}verifyPasswordResetCode(O){return P.a7(this._delegate,O)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return L.Persistence=ni,L})();function zn(L,Z,O){let ie=L;"function"!=typeof L&&({next:ie,error:Z,complete:O}=L);const be=ie;return{next:Dt=>be(Dt&&ii.getOrCreate(Dt)),error:Z,complete:O}}function _i(L,Z){const O=function rn(L,Z){const O=gi();if(!O)return[];const ie=P.aD(Ko,L,Z);switch(O.getItem(ie)){case ni.NONE:return[P.N];case ni.LOCAL:return[P.i,P.a];case ni.SESSION:return[P.a];default:return[]}}(L,Z);if(typeof self<"u"&&!O.includes(P.i)&&O.push(P.i),typeof window<"u")for(const ie of[P.b,P.a])O.includes(ie)||O.push(ie);return O.includes(P.N)||O.push(P.N),O}class $n{constructor(){this.providerId="phone",this._delegate=new P.P(di(j.Z.auth()))}static credential(Z,O){return P.P.credential(Z,O)}verifyPhoneNumber(Z,O){return this._delegate.verifyPhoneNumber(Z,O)}unwrap(){return this._delegate}}$n.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,$n.PROVIDER_ID=P.P.PROVIDER_ID;const xr=P.aA;class on{constructor(Z,O,ie=j.Z.app()){var be;xr(null===(be=ie.options)||void 0===be?void 0:be.apiKey,"invalid-api-key",{appName:ie.name}),this._delegate=new P.R(Z,O,ie.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function z(L){L.INTERNAL.registerComponent(new xe.wA("auth-compat",Z=>{const O=Z.getProvider("app-compat").getImmediate(),ie=Z.getProvider("auth");return new hi(O,ie)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.Q,FacebookAuthProvider:P.U,GithubAuthProvider:P.W,GoogleAuthProvider:P.V,OAuthProvider:P.X,SAMLAuthProvider:P.Y,PhoneAuthProvider:$n,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:on,TwitterAuthProvider:P.Z,Auth:hi,AuthCredential:P.J,Error:re.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),L.registerVersion("@firebase/auth-compat","0.4.2")}(j.Z)},5861:(vt,Te,U)=>{function r(P,re,ue,he,xe,ke,we){try{var G=P[ke](we),W=G.value}catch(ae){return void ue(ae)}G.done?re(W):Promise.resolve(W).then(he,xe)}function j(P){return function(){var re=this,ue=arguments;return new Promise(function(he,xe){var ke=P.apply(re,ue);function we(W){r(ke,he,xe,we,G,"next",W)}function G(W){r(ke,he,xe,we,G,"throw",W)}we(void 0)})}}U.d(Te,{Z:()=>j})},7582:(vt,Te,U)=>{function re(pe,Ce){var Ae={};for(var Le in pe)Object.prototype.hasOwnProperty.call(pe,Le)&&Ce.indexOf(Le)<0&&(Ae[Le]=pe[Le]);if(null!=pe&&"function"==typeof Object.getOwnPropertySymbols){var Ye=0;for(Le=Object.getOwnPropertySymbols(pe);Ye<Le.length;Ye++)Ce.indexOf(Le[Ye])<0&&Object.prototype.propertyIsEnumerable.call(pe,Le[Ye])&&(Ae[Le[Ye]]=pe[Le[Ye]])}return Ae}function ae(pe,Ce,Ae,Le){return new(Ae||(Ae=Promise))(function(qe,it){function lt(bt){try{st(Le.next(bt))}catch(fn){it(fn)}}function Hn(bt){try{st(Le.throw(bt))}catch(fn){it(fn)}}function st(bt){bt.done?qe(bt.value):function Ye(qe){return qe instanceof Ae?qe:new Ae(function(it){it(qe)})}(bt.value).then(lt,Hn)}st((Le=Le.apply(pe,Ce||[])).next())})}function se(pe){return this instanceof se?(this.v=pe,this):new se(pe)}function De(pe,Ce,Ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ye,Le=Ae.apply(pe,Ce||[]),qe=[];return Ye={},it("next"),it("throw"),it("return"),Ye[Symbol.asyncIterator]=function(){return this},Ye;function it(Tn){Le[Tn]&&(Ye[Tn]=function(Qn){return new Promise(function(cn,Ai){qe.push([Tn,Qn,cn,Ai])>1||lt(Tn,Qn)})})}function lt(Tn,Qn){try{!function Hn(Tn){Tn.value instanceof se?Promise.resolve(Tn.value.v).then(st,bt):fn(qe[0][2],Tn)}(Le[Tn](Qn))}catch(cn){fn(qe[0][3],cn)}}function st(Tn){lt("next",Tn)}function bt(Tn){lt("throw",Tn)}function fn(Tn,Qn){Tn(Qn),qe.shift(),qe.length&&lt(qe[0][0],qe[0][1])}}function ye(pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ae,Ce=pe[Symbol.asyncIterator];return Ce?Ce.call(pe):(pe=function Pe(pe){var Ce="function"==typeof Symbol&&Symbol.iterator,Ae=Ce&&pe[Ce],Le=0;if(Ae)return Ae.call(pe);if(pe&&"number"==typeof pe.length)return{next:function(){return pe&&Le>=pe.length&&(pe=void 0),{value:pe&&pe[Le++],done:!pe}}};throw new TypeError(Ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(pe),Ae={},Le("next"),Le("throw"),Le("return"),Ae[Symbol.asyncIterator]=function(){return this},Ae);function Le(qe){Ae[qe]=pe[qe]&&function(it){return new Promise(function(lt,Hn){!function Ye(qe,it,lt,Hn){Promise.resolve(Hn).then(function(st){qe({value:st,done:lt})},it)}(lt,Hn,(it=pe[qe](it)).done,it.value)})}}}U.d(Te,{FC:()=>De,KL:()=>ye,_T:()=>re,mG:()=>ae,qq:()=>se})}},vt=>{vt(vt.s=8287)}]);